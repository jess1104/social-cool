/*! For license information please see main.986c4e21.js.LICENSE.txt */
(()=>{var e={172:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(396);n(554);var i=n(43);function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var p=function(){function e(t){o(this,e),l(this,"handlers",void 0),this.handlers=t.slice(0)}return c(e,[{key:"addHandlers",value:function(t){for(var n=this.handlers.slice(0),r=t.length,i=0;i<r;i+=1)n.push(t[i]);return new e(n)}},{key:"dispatchEvent",value:function(e,t){var n=this.handlers.length-1;if(t){for(var r=n;r>=0;r-=1)this.handlers[r].called||(this.handlers[r].called=!0,this.handlers[r](e));for(var i=n;i>=0;i-=1)this.handlers[i].called=!1}else(0,this.handlers[n])(e)}},{key:"hasHandlers",value:function(){return this.handlers.length>0}},{key:"removeHandlers",value:function(t){for(var n=[],r=this.handlers.length,i=0;i<r;i+=1){var s=this.handlers[i];-1===t.indexOf(s)&&n.push(s)}return new e(n)}}]),e}();function m(e){var t=new Map;return e.forEach((function(e,n){t.set(n,e)})),t}function g(e){return Array.isArray(e)?e:[e]}function v(e){return"document"===e?document:"window"===e?window:function(e){return null!==e&&"object"===s(e)&&e.hasOwnProperty("current")}(e)?e.current||document:e||document}var y=function(){function e(t,n){o(this,e),l(this,"handlerSets",void 0),l(this,"poolName",void 0),this.handlerSets=n,this.poolName=t}return c(e,[{key:"addHandlers",value:function(t,n){var r=m(this.handlerSets);if(r.has(t)){var i=r.get(t);r.set(t,i.addHandlers(n))}else r.set(t,new p(n));return new e(this.poolName,r)}},{key:"dispatchEvent",value:function(e,t){var n=this.handlerSets.get(e),r="default"===this.poolName;n&&n.dispatchEvent(t,r)}},{key:"hasHandlers",value:function(e){if(!e)return this.handlerSets.size>0;var t=this.handlerSets.get(e);return!!t&&t.hasHandlers()}},{key:"removeHandlers",value:function(t,n){var r=m(this.handlerSets);if(!r.has(t))return new e(this.poolName,r);var i=r.get(t).removeHandlers(n);return i.hasHandlers()?r.set(t,i):r.delete(t),new e(this.poolName,r)}}]),e}();l(y,"createByType",(function(e,t,n){var r=new Map;return r.set(t,new p(n)),new y(e,r)}));var w=function(){function e(t){var n=this;o(this,e),l(this,"handlers",new Map),l(this,"pools",new Map),l(this,"target",void 0),l(this,"createEmitter",(function(e){return function(t){n.pools.forEach((function(n){n.dispatchEvent(e,t)}))}})),this.target=t}return c(e,[{key:"addHandlers",value:function(e,t,n){if(this.pools.has(e)){var r=this.pools.get(e);this.pools.set(e,r.addHandlers(t,n))}else this.pools.set(e,y.createByType(e,t,n));this.handlers.has(t)||this.addTargetHandler(t)}},{key:"hasHandlers",value:function(){return this.handlers.size>0}},{key:"removeHandlers",value:function(e,t,n){if(this.pools.has(e)){var r=this.pools.get(e).removeHandlers(t,n);r.hasHandlers()?this.pools.set(e,r):this.pools.delete(e);var i=!1;this.pools.forEach((function(e){return i=i||e.hasHandlers(t)})),i||this.removeTargetHandler(t)}}},{key:"addTargetHandler",value:function(e){var t=this.createEmitter(e);this.handlers.set(e,t),this.target.addEventListener(e,t,!0)}},{key:"removeTargetHandler",value:function(e){this.handlers.has(e)&&(this.target.removeEventListener(e,this.handlers.get(e),!0),this.handlers.delete(e))}}]),e}(),b=new(function(){function e(){var t=this;o(this,e),l(this,"targets",new Map),l(this,"getTarget",(function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=v(e);if(t.targets.has(r))return t.targets.get(r);if(!n)return null;var i=new w(r);return t.targets.set(r,i),i})),l(this,"removeTarget",(function(e){t.targets.delete(v(e))}))}return c(e,[{key:"sub",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(r.canUseDOM){var i=n.target,s=void 0===i?document:i,o=n.pool,a=void 0===o?"default":o;this.getTarget(s).addHandlers(a,e,g(t))}}},{key:"unsub",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(r.canUseDOM){var i=n.target,s=void 0===i?document:i,o=n.pool,a=void 0===o?"default":o,c=this.getTarget(s,!1);c&&(c.removeHandlers(a,e,g(t)),c.hasHandlers()||this.removeTarget(s))}}}]),e}()),_=function(e){function t(){return o(this,t),f(this,h(t).apply(this,arguments))}return u(t,i.PureComponent),c(t,[{key:"componentDidMount",value:function(){this.subscribe(this.props)}},{key:"componentDidUpdate",value:function(e){this.unsubscribe(e),this.subscribe(this.props)}},{key:"componentWillUnmount",value:function(){this.unsubscribe(this.props)}},{key:"subscribe",value:function(e){var t=e.name,n=e.on,r=e.pool,i=e.target;b.sub(t,n,{pool:r,target:i})}},{key:"unsubscribe",value:function(e){var t=e.name,n=e.on,r=e.pool,i=e.target;b.unsub(t,n,{pool:r,target:i})}},{key:"render",value:function(){return null}}]),t}();l(_,"defaultProps",{pool:"default",target:"document"}),_.propTypes={},t.instance=b,t.default=_},173:(e,t,n)=>{"use strict";var r;r=n(172),e.exports=r.default,e.exports.instance=r.instance},396:(e,t,n)=>{var r;!function(){"use strict";var i=!("undefined"===typeof window||!window.document||!window.document.createElement),s={canUseDOM:i,canUseWorkers:"undefined"!==typeof Worker,canUseEventListeners:i&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:i&&!!window.screen};void 0===(r=function(){return s}.call(t,n,t,e))||(e.exports=r)}()},90:e=>{"use strict";for(var t=function(e){return null!==e&&!Array.isArray(e)&&"object"===typeof e},n={3:"Cancel",6:"Help",8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",28:"Convert",29:"NonConvert",30:"Accept",31:"ModeChange",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",41:"Select",42:"Print",43:"Execute",44:"PrintScreen",45:"Insert",46:"Delete",48:["0",")"],49:["1","!"],50:["2","@"],51:["3","#"],52:["4","$"],53:["5","%"],54:["6","^"],55:["7","&"],56:["8","*"],57:["9","("],91:"OS",93:"ContextMenu",144:"NumLock",145:"ScrollLock",181:"VolumeMute",182:"VolumeDown",183:"VolumeUp",186:[";",":"],187:["=","+"],188:[",","<"],189:["-","_"],190:[".",">"],191:["/","?"],192:["`","~"],219:["[","{"],220:["\\","|"],221:["]","}"],222:["'",'"'],224:"Meta",225:"AltGraph",246:"Attn",247:"CrSel",248:"ExSel",249:"EraseEof",250:"Play",251:"ZoomOut"},r=0;r<24;r+=1)n[112+r]="F"+(r+1);for(var i=0;i<26;i+=1){var s=i+65;n[s]=[String.fromCharCode(s+32),String.fromCharCode(s)]}var o={codes:n,getCode:function(e){return t(e)?e.keyCode||e.which||this[e.key]:this[e]},getKey:function(e){var r=t(e);if(r&&e.key)return e.key;var i=n[r?e.keyCode||e.which:e];return Array.isArray(i)&&(i=r?i[e.shiftKey?1:0]:i[0]),i},Cancel:3,Help:6,Backspace:8,Tab:9,Clear:12,Enter:13,Shift:16,Control:17,Alt:18,Pause:19,CapsLock:20,Escape:27,Convert:28,NonConvert:29,Accept:30,ModeChange:31," ":32,PageUp:33,PageDown:34,End:35,Home:36,ArrowLeft:37,ArrowUp:38,ArrowRight:39,ArrowDown:40,Select:41,Print:42,Execute:43,PrintScreen:44,Insert:45,Delete:46,0:48,")":48,1:49,"!":49,2:50,"@":50,3:51,"#":51,4:52,$:52,5:53,"%":53,6:54,"^":54,7:55,"&":55,8:56,"*":56,9:57,"(":57,a:65,A:65,b:66,B:66,c:67,C:67,d:68,D:68,e:69,E:69,f:70,F:70,g:71,G:71,h:72,H:72,i:73,I:73,j:74,J:74,k:75,K:75,l:76,L:76,m:77,M:77,n:78,N:78,o:79,O:79,p:80,P:80,q:81,Q:81,r:82,R:82,s:83,S:83,t:84,T:84,u:85,U:85,v:86,V:86,w:87,W:87,x:88,X:88,y:89,Y:89,z:90,Z:90,OS:91,ContextMenu:93,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,F16:127,F17:128,F18:129,F19:130,F20:131,F21:132,F22:133,F23:134,F24:135,NumLock:144,ScrollLock:145,VolumeMute:181,VolumeDown:182,VolumeUp:183,";":186,":":186,"=":187,"+":187,",":188,"<":188,"-":189,_:189,".":190,">":190,"/":191,"?":191,"`":192,"~":192,"[":219,"{":219,"\\":220,"|":220,"]":221,"}":221,"'":222,'"':222,Meta:224,AltGraph:225,Attn:246,CrSel:247,ExSel:248,EraseEof:249,Play:250,ZoomOut:251};o.Spacebar=o[" "],o.Digit0=o[0],o.Digit1=o[1],o.Digit2=o[2],o.Digit3=o[3],o.Digit4=o[4],o.Digit5=o[5],o.Digit6=o[6],o.Digit7=o[7],o.Digit8=o[8],o.Digit9=o[9],o.Tilde=o["~"],o.GraveAccent=o["`"],o.ExclamationPoint=o["!"],o.AtSign=o["@"],o.PoundSign=o["#"],o.PercentSign=o["%"],o.Caret=o["^"],o.Ampersand=o["&"],o.PlusSign=o["+"],o.MinusSign=o["-"],o.EqualsSign=o["="],o.DivisionSign=o["/"],o.MultiplicationSign=o["*"],o.Comma=o[","],o.Decimal=o["."],o.Colon=o[":"],o.Semicolon=o[";"],o.Pipe=o["|"],o.BackSlash=o["\\"],o.QuestionMark=o["?"],o.SingleQuote=o["'"],o.DoubleQuote=o['"'],o.LeftCurlyBrace=o["{"],o.RightCurlyBrace=o["}"],o.LeftParenthesis=o["("],o.RightParenthesis=o[")"],o.LeftAngleBracket=o["<"],o.RightAngleBracket=o[">"],o.LeftSquareBracket=o["["],o.RightSquareBracket=o["]"],e.exports=o},497:(e,t,n)=>{"use strict";var r=n(218);function i(){}function s(){}s.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,s,o){if(o!==r){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:s,resetWarningCache:i};return n.PropTypes=n,n}},554:(e,t,n)=>{e.exports=n(497)()},218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},730:(e,t,n)=>{"use strict";var r=n(43),i=n(853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(a[e]=t,e=0;e<t.length;e++)o.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,s,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function w(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(p,e)||!h.call(f,e)&&(d.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),E=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),C=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var M,F=Object.assign;function U(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var j=!1;function V(e,t){if(!e||j)return"";j=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var i=l.stack.split("\n"),s=r.stack.split("\n"),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(1!==o||1!==a)do{if(o--,0>--a||i[o]!==s[a]){var c="\n"+i[o].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}}while(1<=o&&0<=a);break}}}finally{j=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?U(e):""}function z(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case I:return"Fragment";case E:return"Portal";case T:return"Profiler";case S:return"StrictMode";case N:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case k:return(e._context.displayName||"Context")+".Provider";case x:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function G(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function H(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function W(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=K(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function $(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=G(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function X(e,t){J(e,t);var n=G(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,G(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+G(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:G(n)}}function se(e,t){var n=G(t.value),r=G(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ce(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var le,ue,he=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((le=le||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=le.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ve=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function we(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function _e(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ee=null,Ie=null,Se=null;function Te(e){if(e=wi(e)){if("function"!==typeof Ee)throw Error(s(280));var t=e.stateNode;t&&(t=_i(t),Ee(e.stateNode,e.type,t))}}function ke(e){Ie?Se?Se.push(e):Se=[e]:Ie=e}function Ce(){if(Ie){var e=Ie,t=Se;if(Se=Ie=null,Te(e),t)for(e=0;e<t.length;e++)Te(t[e])}}function xe(e,t){return e(t)}function Ne(){}var Ae=!1;function Pe(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return xe(e,t,n)}finally{Ae=!1,(null!==Ie||null!==Se)&&(Ne(),Ce())}}function Re(e,t){var n=e.stateNode;if(null===n)return null;var r=_i(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var De=!1;if(u)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){De=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(ue){De=!1}function Le(e,t,n,r,i,s,o,a,c){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(u){this.onError(u)}}var Me=!1,Fe=null,Ue=!1,je=null,Ve={onError:function(e){Me=!0,Fe=e}};function ze(e,t,n,r,i,s,o,a,c){Me=!1,Fe=null,Le.apply(Ve,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ge(e){if(Be(e)!==e)throw Error(s(188))}function Ke(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ge(i),e;if(o===r)return Ge(i),t;o=o.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,c=i.child;c;){if(c===n){a=!0,n=i,r=o;break}if(c===r){a=!0,r=i,n=o;break}c=c.sibling}if(!a){for(c=o.child;c;){if(c===n){a=!0,n=o,r=i;break}if(c===r){a=!0,r=o,n=i;break}c=c.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e))?He(e):null}function He(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=He(e);if(null!==t)return t;e=e.sibling}return null}var We=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,$e=i.unstable_requestPaint,Je=i.unstable_now,Xe=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,st=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/ct|0)|0},at=Math.log,ct=Math.LN2;var lt=64,ut=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=268435455&n;if(0!==o){var a=o&~i;0!==a?r=ht(a):0!==(s&=o)&&(r=ht(s))}else 0!==(o=n&~i)?r=ht(o):0!==s&&(r=ht(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=lt;return 0===(4194240&(lt<<=1))&&(lt=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var wt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var _t,Et,It,St,Tt,kt=!1,Ct=[],xt=null,Nt=null,At=null,Pt=new Map,Rt=new Map,Dt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":xt=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function Mt(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=wi(t))&&Et(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=yi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void Tt(e.priority,(function(){It(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ut(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=wi(n))&&Et(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function jt(e,t,n){Ut(e)&&n.delete(t)}function Vt(){kt=!1,null!==xt&&Ut(xt)&&(xt=null),null!==Nt&&Ut(Nt)&&(Nt=null),null!==At&&Ut(At)&&(At=null),Pt.forEach(jt),Rt.forEach(jt)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,kt||(kt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function Bt(e){function t(t){return zt(t,e)}if(0<Ct.length){zt(Ct[0],e);for(var n=1;n<Ct.length;n++){var r=Ct[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==xt&&zt(xt,e),null!==Nt&&zt(Nt,e),null!==At&&zt(At,e),Pt.forEach(t),Rt.forEach(t),n=0;n<Dt.length;n++)(r=Dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Dt.length&&null===(n=Dt[0]).blockedOn;)Ft(n),null===n.blockedOn&&Dt.shift()}var qt=b.ReactCurrentBatchConfig,Gt=!0;function Kt(e,t,n,r){var i=wt,s=qt.transition;qt.transition=null;try{wt=1,Wt(e,t,n,r)}finally{wt=i,qt.transition=s}}function Ht(e,t,n,r){var i=wt,s=qt.transition;qt.transition=null;try{wt=4,Wt(e,t,n,r)}finally{wt=i,qt.transition=s}}function Wt(e,t,n,r){if(Gt){var i=Yt(e,t,n,r);if(null===i)Gr(e,t,r,Qt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return xt=Mt(xt,e,t,n,r,i),!0;case"dragenter":return Nt=Mt(Nt,e,t,n,r,i),!0;case"mouseover":return At=Mt(At,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Pt.set(s,Mt(Pt.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Rt.set(s,Mt(Rt.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Ot.indexOf(e)){for(;null!==i;){var s=wi(i);if(null!==s&&_t(s),null===(s=Yt(e,t,n,r))&&Gr(e,t,r,Qt,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else Gr(e,t,r,null,n)}}var Qt=null;function Yt(e,t,n,r){if(Qt=null,null!==(e=yi(e=_e(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function $t(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,Xt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Xt,r=n.length,i="value"in Jt?Jt.value:Jt.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[s-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,r,i,s){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,an,cn,ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=sn(ln),hn=F({},ln,{view:0,detail:0}),dn=sn(hn),fn=F({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==cn&&(cn&&"mousemove"===e.type?(on=e.screenX-cn.screenX,an=e.screenY-cn.screenY):an=on=0,cn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:an}}),pn=sn(fn),mn=sn(F({},fn,{dataTransfer:0})),gn=sn(F({},hn,{relatedTarget:0})),vn=sn(F({},ln,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=F({},ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wn=sn(yn),bn=sn(F({},ln,{data:0})),_n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},En={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},In={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=In[e])&&!!t[e]}function Tn(){return Sn}var kn=F({},hn,{key:function(e){if(e.key){var t=_n[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?En[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=sn(kn),xn=sn(F({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=sn(F({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tn})),An=sn(F({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=F({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=sn(Pn),Dn=[9,13,27,32],On=u&&"CompositionEvent"in window,Ln=null;u&&"documentMode"in document&&(Ln=document.documentMode);var Mn=u&&"TextEvent"in window&&!Ln,Fn=u&&(!On||Ln&&8<Ln&&11>=Ln),Un=String.fromCharCode(32),jn=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Kn(e,t,n,r){ke(r),0<(t=Hr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Hn=null,Wn=null;function Qn(e){Ur(e,0)}function Yn(e){if(W(bi(e)))return e}function $n(e,t){if("change"===e)return t}var Jn=!1;if(u){var Xn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Xn=Zn}else Xn=!1;Jn=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){Hn&&(Hn.detachEvent("onpropertychange",nr),Wn=Hn=null)}function nr(e){if("value"===e.propertyName&&Yn(Wn)){var t=[];Kn(t,Wn,e,_e(e)),Pe(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Wn=n,(Hn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Wn)}function sr(e,t){if("click"===e)return Yn(t)}function or(e,t){if("input"===e||"change"===e)return Yn(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function cr(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(t,i)||!ar(e[i],t[i]))return!1}return!0}function lr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=lr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lr(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=ur(n,s);var o=ur(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,yr=null,wr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;wr||null==gr||gr!==Q(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&cr(yr,r)||(yr=r,0<(r=Hr(vr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function _r(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Er={animationend:_r("Animation","AnimationEnd"),animationiteration:_r("Animation","AnimationIteration"),animationstart:_r("Animation","AnimationStart"),transitionend:_r("Transition","TransitionEnd")},Ir={},Sr={};function Tr(e){if(Ir[e])return Ir[e];if(!Er[e])return e;var t,n=Er[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return Ir[e]=n[t];return e}u&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete Er.animationend.animation,delete Er.animationiteration.animation,delete Er.animationstart.animation),"TransitionEvent"in window||delete Er.transitionend.transition);var kr=Tr("animationend"),Cr=Tr("animationiteration"),xr=Tr("animationstart"),Nr=Tr("transitionend"),Ar=new Map,Pr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(e,t){Ar.set(e,t),c(t,[e])}for(var Dr=0;Dr<Pr.length;Dr++){var Or=Pr[Dr];Rr(Or.toLowerCase(),"on"+(Or[0].toUpperCase()+Or.slice(1)))}Rr(kr,"onAnimationEnd"),Rr(Cr,"onAnimationIteration"),Rr(xr,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(Nr,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,a,c,l){if(ze.apply(this,arguments),Me){if(!Me)throw Error(s(198));var u=Fe;Me=!1,Fe=null,Ue||(Ue=!0,je=u)}}(r,t,void 0,e),e.currentTarget=null}function Ur(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],c=a.instance,l=a.currentTarget;if(a=a.listener,c!==s&&i.isPropagationStopped())break e;Fr(i,a,l),s=c}else for(o=0;o<r.length;o++){if(c=(a=r[o]).instance,l=a.currentTarget,a=a.listener,c!==s&&i.isPropagationStopped())break e;Fr(i,a,l),s=c}}}if(Ue)throw e=je,Ue=!1,je=null,e}function jr(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[zr]){e[zr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Vr("selectionchange",!1,t))}}function qr(e,t,n,r){switch($t(t)){case 1:var i=Kt;break;case 4:i=Ht;break;default:i=Wt}n=i.bind(null,t,n,e),i=void 0,!De||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Gr(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var c=o.tag;if((3===c||4===c)&&((c=o.stateNode.containerInfo)===i||8===c.nodeType&&c.parentNode===i))return;o=o.return}for(;null!==a;){if(null===(o=yi(a)))return;if(5===(c=o.tag)||6===c){r=s=o;continue e}a=a.parentNode}}r=r.return}Pe((function(){var r=s,i=_e(n),o=[];e:{var a=Ar.get(e);if(void 0!==a){var c=un,l=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":c=Cn;break;case"focusin":l="focus",c=gn;break;case"focusout":l="blur",c=gn;break;case"beforeblur":case"afterblur":c=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=Nn;break;case kr:case Cr:case xr:c=vn;break;case Nr:c=An;break;case"scroll":c=dn;break;case"wheel":c=Rn;break;case"copy":case"cut":case"paste":c=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=xn}var u=0!==(4&t),h=!u&&"scroll"===e,d=u?null!==a?a+"Capture":null:a;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==d&&(null!=(m=Re(p,d))&&u.push(Kr(p,m,f)))),h)break;p=p.return}0<u.length&&(a=new c(a,l,null,n,i),o.push({event:a,listeners:u}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===be||!(l=n.relatedTarget||n.fromElement)||!yi(l)&&!l[pi])&&(c||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,c?(c=r,null!==(l=(l=n.relatedTarget||n.toElement)?yi(l):null)&&(l!==(h=Be(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(c=null,l=r),c!==l)){if(u=pn,m="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=xn,m="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==c?a:bi(c),f=null==l?a:bi(l),(a=new u(m,p+"leave",c,n,i)).target=h,a.relatedTarget=f,m=null,yi(i)===r&&((u=new u(d,p+"enter",l,n,i)).target=f,u.relatedTarget=h,m=u),h=m,c&&l)e:{for(d=l,p=0,f=u=c;f;f=Wr(f))p++;for(f=0,m=d;m;m=Wr(m))f++;for(;0<p-f;)u=Wr(u),p--;for(;0<f-p;)d=Wr(d),f--;for(;p--;){if(u===d||null!==d&&u===d.alternate)break e;u=Wr(u),d=Wr(d)}u=null}else u=null;null!==c&&Qr(o,a,c,u,!1),null!==l&&null!==h&&Qr(o,h,l,u,!0)}if("select"===(c=(a=r?bi(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===c&&"file"===a.type)var g=$n;else if(Gn(a))if(Jn)g=or;else{g=ir;var v=rr}else(c=a.nodeName)&&"input"===c.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=sr);switch(g&&(g=g(e,r))?Kn(o,g,n,i):(v&&v(e,a,r),"focusout"===e&&(v=a._wrapperState)&&v.controlled&&"number"===a.type&&ee(a,"number",a.value)),v=r?bi(r):window,e){case"focusin":(Gn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,yr=null);break;case"focusout":yr=vr=gr=null;break;case"mousedown":wr=!0;break;case"contextmenu":case"mouseup":case"dragend":wr=!1,br(o,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":br(o,n,i)}var y;if(On)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else Bn?Vn(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(Fn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==w?"onCompositionEnd"===w&&Bn&&(y=en()):(Xt="value"in(Jt=i)?Jt.value:Jt.textContent,Bn=!0)),0<(v=Hr(r,w)).length&&(w=new bn(w,e,null,n,i),o.push({event:w,listeners:v}),y?w.data=y:null!==(y=zn(n))&&(w.data=y))),(y=Mn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(jn=!0,Un);case"textInput":return(e=t.data)===Un&&jn?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!On&&Vn(e,t)?(e=en(),Zt=Xt=Jt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Hr(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=y))}Ur(o,t)}))}function Kr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=Re(e,n))&&r.unshift(Kr(e,s,i)),null!=(s=Re(e,t))&&r.push(Kr(e,s,i))),e=e.return}return r}function Wr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var s=t._reactName,o=[];null!==n&&n!==r;){var a=n,c=a.alternate,l=a.stateNode;if(null!==c&&c===r)break;5===a.tag&&null!==l&&(a=l,i?null!=(c=Re(n,s))&&o.unshift(Kr(n,c,a)):i||null!=(c=Re(n,s))&&o.push(Kr(n,c,a))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Yr=/\r\n?/g,$r=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace($r,"")}function Xr(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(s(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,si="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof si?function(e){return si.resolve(null).then(e).catch(ai)}:ri;function ai(e){setTimeout((function(){throw e}))}function ci(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function li(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hi=Math.random().toString(36).slice(2),di="__reactFiber$"+hi,fi="__reactProps$"+hi,pi="__reactContainer$"+hi,mi="__reactEvents$"+hi,gi="__reactListeners$"+hi,vi="__reactHandles$"+hi;function yi(e){var t=e[di];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[di]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[di])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function wi(e){return!(e=e[di]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function _i(e){return e[fi]||null}var Ei=[],Ii=-1;function Si(e){return{current:e}}function Ti(e){0>Ii||(e.current=Ei[Ii],Ei[Ii]=null,Ii--)}function ki(e,t){Ii++,Ei[Ii]=e.current,e.current=t}var Ci={},xi=Si(Ci),Ni=Si(!1),Ai=Ci;function Pi(e,t){var n=e.type.contextTypes;if(!n)return Ci;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ri(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Di(){Ti(Ni),Ti(xi)}function Oi(e,t,n){if(xi.current!==Ci)throw Error(s(168));ki(xi,t),ki(Ni,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(s(108,q(e)||"Unknown",i));return F({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ci,Ai=xi.current,ki(xi,e),ki(Ni,Ni.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Li(e,t,Ai),r.__reactInternalMemoizedMergedChildContext=e,Ti(Ni),Ti(xi),ki(xi,e)):Ti(Ni),ki(Ni,n)}var Ui=null,ji=!1,Vi=!1;function zi(e){null===Ui?Ui=[e]:Ui.push(e)}function Bi(){if(!Vi&&null!==Ui){Vi=!0;var e=0,t=wt;try{var n=Ui;for(wt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ui=null,ji=!1}catch(i){throw null!==Ui&&(Ui=Ui.slice(e+1)),We(Ze,Bi),i}finally{wt=t,Vi=!1}}return null}var qi=[],Gi=0,Ki=null,Hi=0,Wi=[],Qi=0,Yi=null,$i=1,Ji="";function Xi(e,t){qi[Gi++]=Hi,qi[Gi++]=Ki,Ki=e,Hi=t}function Zi(e,t,n){Wi[Qi++]=$i,Wi[Qi++]=Ji,Wi[Qi++]=Yi,Yi=e;var r=$i;e=Ji;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var s=32-ot(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,$i=1<<32-ot(t)+i|n<<i|r,Ji=s+e}else $i=1<<s|n<<i|r,Ji=e}function es(e){null!==e.return&&(Xi(e,1),Zi(e,1,0))}function ts(e){for(;e===Ki;)Ki=qi[--Gi],qi[Gi]=null,Hi=qi[--Gi],qi[Gi]=null;for(;e===Yi;)Yi=Wi[--Qi],Wi[Qi]=null,Ji=Wi[--Qi],Wi[Qi]=null,$i=Wi[--Qi],Wi[Qi]=null}var ns=null,rs=null,is=!1,ss=null;function os(e,t){var n=Rl(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function as(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,rs=li(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,rs=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:$i,overflow:Ji}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Rl(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,rs=null,!0);default:return!1}}function cs(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ls(e){if(is){var t=rs;if(t){var n=t;if(!as(e,t)){if(cs(e))throw Error(s(418));t=li(n.nextSibling);var r=ns;t&&as(e,t)?os(r,n):(e.flags=-4097&e.flags|2,is=!1,ns=e)}}else{if(cs(e))throw Error(s(418));e.flags=-4097&e.flags|2,is=!1,ns=e}}}function us(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function hs(e){if(e!==ns)return!1;if(!is)return us(e),is=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=rs)){if(cs(e))throw ds(),Error(s(418));for(;t;)os(e,t),t=li(t.nextSibling)}if(us(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){rs=li(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}rs=null}}else rs=ns?li(e.stateNode.nextSibling):null;return!0}function ds(){for(var e=rs;e;)e=li(e.nextSibling)}function fs(){rs=ns=null,is=!1}function ps(e){null===ss?ss=[e]:ss.push(e)}var ms=b.ReactCurrentBatchConfig;function gs(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var vs=Si(null),ys=null,ws=null,bs=null;function _s(){bs=ws=ys=null}function Es(e){var t=vs.current;Ti(vs),e._currentValue=t}function Is(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ss(e,t){ys=e,bs=ws=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ba=!0),e.firstContext=null)}function Ts(e){var t=e._currentValue;if(bs!==e)if(e={context:e,memoizedValue:t,next:null},null===ws){if(null===ys)throw Error(s(308));ws=e,ys.dependencies={lanes:0,firstContext:e}}else ws=ws.next=e;return t}var ks=null;function Cs(e){null===ks?ks=[e]:ks.push(e)}function xs(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Cs(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ns(e,r)}function Ns(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var As=!1;function Ps(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Rs(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ds(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Os(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Nc)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ns(e,n)}return null===(i=r.interleaved)?(t.next=t,Cs(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ns(e,n)}function Ls(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Ms(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=o:s=s.next=o,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fs(e,t,n,r){var i=e.updateQueue;As=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var c=a,l=c.next;c.next=null,null===o?s=l:o.next=l,o=c;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===a?u.firstBaseUpdate=l:a.next=l,u.lastBaseUpdate=c))}if(null!==s){var h=i.baseState;for(o=0,u=l=c=null,a=s;;){var d=a.lane,f=a.eventTime;if((r&d)===d){null!==u&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,m=a;switch(d=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=m.payload)?p.call(f,h,d):p)||void 0===d)break e;h=F({},h,d);break e;case 2:As=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(l=u=f,c=h):u=u.next=f,o|=d;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(d=a).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===u&&(c=h),i.baseState=c,i.firstBaseUpdate=l,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===s&&(i.shared.lanes=0);Fc|=o,e.lanes=o,e.memoizedState=h}}function Us(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var js=(new r.Component).refs;function Vs(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var zs={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tl(),i=nl(e),s=Ds(r,i);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Os(e,s,i))&&(rl(t,e,i,r),Ls(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tl(),i=nl(e),s=Ds(r,i);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Os(e,s,i))&&(rl(t,e,i,r),Ls(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tl(),r=nl(e),i=Ds(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Os(e,i,r))&&(rl(t,e,r,n),Ls(t,e,r))}};function Bs(e,t,n,r,i,s,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,o):!t.prototype||!t.prototype.isPureReactComponent||(!cr(n,r)||!cr(i,s))}function qs(e,t,n){var r=!1,i=Ci,s=t.contextType;return"object"===typeof s&&null!==s?s=Ts(s):(i=Ri(t)?Ai:xi.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Pi(e,i):Ci),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=zs,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function Gs(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&zs.enqueueReplaceState(t,t.state,null)}function Ks(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=js,Ps(e);var s=t.contextType;"object"===typeof s&&null!==s?i.context=Ts(s):(s=Ri(t)?Ai:xi.current,i.context=Pi(e,s)),i.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(Vs(e,t,s,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&zs.enqueueReplaceState(i,i.state,null),Fs(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Hs(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===js&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function Ws(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qs(e){return(0,e._init)(e._payload)}function Ys(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Ol(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function c(e,t,n,r){return null===t||6!==t.tag?((t=Ul(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){var s=n.type;return s===I?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===R&&Qs(s)===t.type)?((r=i(t,n.props)).ref=Hs(e,t,n),r.return=e,r):((r=Ll(n.type,n.key,n.props,null,e.mode,r)).ref=Hs(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=jl(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,s){return null===t||7!==t.tag?((t=Ml(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Ul(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case _:return(n=Ll(t.type,t.key,t.props,null,e.mode,n)).ref=Hs(e,null,t),n.return=e,n;case E:return(t=jl(t,e.mode,n)).return=e,t;case R:return d(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Ml(t,e.mode,n,null)).return=e,t;Ws(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:c(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===i?l(e,t,n,r):null;case E:return n.key===i?u(e,t,n,r):null;case R:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:h(e,t,n,r,null);Ws(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return c(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case _:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case E:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case R:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return h(t,e=e.get(n)||null,r,i,null);Ws(t,r)}return null}function m(i,s,a,c){for(var l=null,u=null,h=s,m=s=0,g=null;null!==h&&m<a.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var v=f(i,h,a[m],c);if(null===v){null===h&&(h=g);break}e&&h&&null===v.alternate&&t(i,h),s=o(v,s,m),null===u?l=v:u.sibling=v,u=v,h=g}if(m===a.length)return n(i,h),is&&Xi(i,m),l;if(null===h){for(;m<a.length;m++)null!==(h=d(i,a[m],c))&&(s=o(h,s,m),null===u?l=h:u.sibling=h,u=h);return is&&Xi(i,m),l}for(h=r(i,h);m<a.length;m++)null!==(g=p(h,i,m,a[m],c))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),s=o(g,s,m),null===u?l=g:u.sibling=g,u=g);return e&&h.forEach((function(e){return t(i,e)})),is&&Xi(i,m),l}function g(i,a,c,l){var u=L(c);if("function"!==typeof u)throw Error(s(150));if(null==(c=u.call(c)))throw Error(s(151));for(var h=u=null,m=a,g=a=0,v=null,y=c.next();null!==m&&!y.done;g++,y=c.next()){m.index>g?(v=m,m=null):v=m.sibling;var w=f(i,m,y.value,l);if(null===w){null===m&&(m=v);break}e&&m&&null===w.alternate&&t(i,m),a=o(w,a,g),null===h?u=w:h.sibling=w,h=w,m=v}if(y.done)return n(i,m),is&&Xi(i,g),u;if(null===m){for(;!y.done;g++,y=c.next())null!==(y=d(i,y.value,l))&&(a=o(y,a,g),null===h?u=y:h.sibling=y,h=y);return is&&Xi(i,g),u}for(m=r(i,m);!y.done;g++,y=c.next())null!==(y=p(m,i,g,y.value,l))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),a=o(y,a,g),null===h?u=y:h.sibling=y,h=y);return e&&m.forEach((function(e){return t(i,e)})),is&&Xi(i,g),u}return function e(r,s,o,c){if("object"===typeof o&&null!==o&&o.type===I&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case _:e:{for(var l=o.key,u=s;null!==u;){if(u.key===l){if((l=o.type)===I){if(7===u.tag){n(r,u.sibling),(s=i(u,o.props.children)).return=r,r=s;break e}}else if(u.elementType===l||"object"===typeof l&&null!==l&&l.$$typeof===R&&Qs(l)===u.type){n(r,u.sibling),(s=i(u,o.props)).ref=Hs(r,u,o),s.return=r,r=s;break e}n(r,u);break}t(r,u),u=u.sibling}o.type===I?((s=Ml(o.props.children,r.mode,c,o.key)).return=r,r=s):((c=Ll(o.type,o.key,o.props,null,r.mode,c)).ref=Hs(r,s,o),c.return=r,r=c)}return a(r);case E:e:{for(u=o.key;null!==s;){if(s.key===u){if(4===s.tag&&s.stateNode.containerInfo===o.containerInfo&&s.stateNode.implementation===o.implementation){n(r,s.sibling),(s=i(s,o.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=jl(o,r.mode,c)).return=r,r=s}return a(r);case R:return e(r,s,(u=o._init)(o._payload),c)}if(te(o))return m(r,s,o,c);if(L(o))return g(r,s,o,c);Ws(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==s&&6===s.tag?(n(r,s.sibling),(s=i(s,o)).return=r,r=s):(n(r,s),(s=Ul(o,r.mode,c)).return=r,r=s),a(r)):n(r,s)}}var $s=Ys(!0),Js=Ys(!1),Xs={},Zs=Si(Xs),eo=Si(Xs),to=Si(Xs);function no(e){if(e===Xs)throw Error(s(174));return e}function ro(e,t){switch(ki(to,t),ki(eo,e),ki(Zs,Xs),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ce(null,"");break;default:t=ce(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ti(Zs),ki(Zs,t)}function io(){Ti(Zs),Ti(eo),Ti(to)}function so(e){no(to.current);var t=no(Zs.current),n=ce(t,e.type);t!==n&&(ki(eo,e),ki(Zs,n))}function oo(e){eo.current===e&&(Ti(Zs),Ti(eo))}var ao=Si(0);function co(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var lo=[];function uo(){for(var e=0;e<lo.length;e++)lo[e]._workInProgressVersionPrimary=null;lo.length=0}var ho=b.ReactCurrentDispatcher,fo=b.ReactCurrentBatchConfig,po=0,mo=null,go=null,vo=null,yo=!1,wo=!1,bo=0,_o=0;function Eo(){throw Error(s(321))}function Io(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function So(e,t,n,r,i,o){if(po=o,mo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ho.current=null===e||null===e.memoizedState?aa:ca,e=n(r,i),wo){o=0;do{if(wo=!1,bo=0,25<=o)throw Error(s(301));o+=1,vo=go=null,t.updateQueue=null,ho.current=la,e=n(r,i)}while(wo)}if(ho.current=oa,t=null!==go&&null!==go.next,po=0,vo=go=mo=null,yo=!1,t)throw Error(s(300));return e}function To(){var e=0!==bo;return bo=0,e}function ko(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===vo?mo.memoizedState=vo=e:vo=vo.next=e,vo}function Co(){if(null===go){var e=mo.alternate;e=null!==e?e.memoizedState:null}else e=go.next;var t=null===vo?mo.memoizedState:vo.next;if(null!==t)vo=t,go=e;else{if(null===e)throw Error(s(310));e={memoizedState:(go=e).memoizedState,baseState:go.baseState,baseQueue:go.baseQueue,queue:go.queue,next:null},null===vo?mo.memoizedState=vo=e:vo=vo.next=e}return vo}function xo(e,t){return"function"===typeof t?t(e):t}function No(e){var t=Co(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=go,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var c=a=null,l=null,u=o;do{var h=u.lane;if((po&h)===h)null!==l&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===l?(c=l=d,a=r):l=l.next=d,mo.lanes|=h,Fc|=h}u=u.next}while(null!==u&&u!==o);null===l?a=r:l.next=c,ar(r,t.memoizedState)||(ba=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,mo.lanes|=o,Fc|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ao(e){var t=Co(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=e(o,a.action),a=a.next}while(a!==i);ar(o,t.memoizedState)||(ba=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Po(){}function Ro(e,t){var n=mo,r=Co(),i=t(),o=!ar(r.memoizedState,i);if(o&&(r.memoizedState=i,ba=!0),r=r.queue,Go(Lo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==vo&&1&vo.memoizedState.tag){if(n.flags|=2048,jo(9,Oo.bind(null,n,r,i,t),void 0,null),null===Ac)throw Error(s(349));0!==(30&po)||Do(n,t,i)}return i}function Do(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=mo.updateQueue)?(t={lastEffect:null,stores:null},mo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Oo(e,t,n,r){t.value=n,t.getSnapshot=r,Mo(t)&&Fo(e)}function Lo(e,t,n){return n((function(){Mo(t)&&Fo(e)}))}function Mo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function Fo(e){var t=Ns(e,1);null!==t&&rl(t,e,1,-1)}function Uo(e){var t=ko();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xo,lastRenderedState:e},t.queue=e,e=e.dispatch=na.bind(null,mo,e),[t.memoizedState,e]}function jo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=mo.updateQueue)?(t={lastEffect:null,stores:null},mo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Vo(){return Co().memoizedState}function zo(e,t,n,r){var i=ko();mo.flags|=e,i.memoizedState=jo(1|t,n,void 0,void 0===r?null:r)}function Bo(e,t,n,r){var i=Co();r=void 0===r?null:r;var s=void 0;if(null!==go){var o=go.memoizedState;if(s=o.destroy,null!==r&&Io(r,o.deps))return void(i.memoizedState=jo(t,n,s,r))}mo.flags|=e,i.memoizedState=jo(1|t,n,s,r)}function qo(e,t){return zo(8390656,8,e,t)}function Go(e,t){return Bo(2048,8,e,t)}function Ko(e,t){return Bo(4,2,e,t)}function Ho(e,t){return Bo(4,4,e,t)}function Wo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Bo(4,4,Wo.bind(null,t,e),n)}function Yo(){}function $o(e,t){var n=Co();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Io(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Jo(e,t){var n=Co();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Io(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Xo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,ba=!0),e.memoizedState=n):(ar(n,t)||(n=mt(),mo.lanes|=n,Fc|=n,e.baseState=!0),t)}function Zo(e,t){var n=wt;wt=0!==n&&4>n?n:4,e(!0);var r=fo.transition;fo.transition={};try{e(!1),t()}finally{wt=n,fo.transition=r}}function ea(){return Co().memoizedState}function ta(e,t,n){var r=nl(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ra(e))ia(t,n);else if(null!==(n=xs(e,t,n,r))){rl(n,e,r,tl()),sa(n,t,r)}}function na(e,t,n){var r=nl(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ra(e))ia(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,ar(a,o)){var c=t.interleaved;return null===c?(i.next=i,Cs(t)):(i.next=c.next,c.next=i),void(t.interleaved=i)}}catch(l){}null!==(n=xs(e,t,i,r))&&(rl(n,e,r,i=tl()),sa(n,t,r))}}function ra(e){var t=e.alternate;return e===mo||null!==t&&t===mo}function ia(e,t){wo=yo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function sa(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var oa={readContext:Ts,useCallback:Eo,useContext:Eo,useEffect:Eo,useImperativeHandle:Eo,useInsertionEffect:Eo,useLayoutEffect:Eo,useMemo:Eo,useReducer:Eo,useRef:Eo,useState:Eo,useDebugValue:Eo,useDeferredValue:Eo,useTransition:Eo,useMutableSource:Eo,useSyncExternalStore:Eo,useId:Eo,unstable_isNewReconciler:!1},aa={readContext:Ts,useCallback:function(e,t){return ko().memoizedState=[e,void 0===t?null:t],e},useContext:Ts,useEffect:qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4194308,4,Wo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return zo(4194308,4,e,t)},useInsertionEffect:function(e,t){return zo(4,2,e,t)},useMemo:function(e,t){var n=ko();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ko();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ta.bind(null,mo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ko().memoizedState=e},useState:Uo,useDebugValue:Yo,useDeferredValue:function(e){return ko().memoizedState=e},useTransition:function(){var e=Uo(!1),t=e[0];return e=Zo.bind(null,e[1]),ko().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=mo,i=ko();if(is){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Ac)throw Error(s(349));0!==(30&po)||Do(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,qo(Lo.bind(null,r,o,e),[e]),r.flags|=2048,jo(9,Oo.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=ko(),t=Ac.identifierPrefix;if(is){var n=Ji;t=":"+t+"R"+(n=($i&~(1<<32-ot($i)-1)).toString(32)+n),0<(n=bo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=_o++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ca={readContext:Ts,useCallback:$o,useContext:Ts,useEffect:Go,useImperativeHandle:Qo,useInsertionEffect:Ko,useLayoutEffect:Ho,useMemo:Jo,useReducer:No,useRef:Vo,useState:function(){return No(xo)},useDebugValue:Yo,useDeferredValue:function(e){return Xo(Co(),go.memoizedState,e)},useTransition:function(){return[No(xo)[0],Co().memoizedState]},useMutableSource:Po,useSyncExternalStore:Ro,useId:ea,unstable_isNewReconciler:!1},la={readContext:Ts,useCallback:$o,useContext:Ts,useEffect:Go,useImperativeHandle:Qo,useInsertionEffect:Ko,useLayoutEffect:Ho,useMemo:Jo,useReducer:Ao,useRef:Vo,useState:function(){return Ao(xo)},useDebugValue:Yo,useDeferredValue:function(e){var t=Co();return null===go?t.memoizedState=e:Xo(t,go.memoizedState,e)},useTransition:function(){return[Ao(xo)[0],Co().memoizedState]},useMutableSource:Po,useSyncExternalStore:Ro,useId:ea,unstable_isNewReconciler:!1};function ua(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(s){i="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:i,digest:null}}function ha(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function da(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var fa="function"===typeof WeakMap?WeakMap:Map;function pa(e,t,n){(n=Ds(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Kc||(Kc=!0,Hc=r),da(0,t)},n}function ma(e,t,n){(n=Ds(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){da(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){da(0,t),"function"!==typeof r&&(null===Wc?Wc=new Set([this]):Wc.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ga(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fa;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=kl.bind(null,e,t,n),t.then(e,e))}function va(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ya(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ds(-1,1)).tag=2,Os(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var wa=b.ReactCurrentOwner,ba=!1;function _a(e,t,n,r){t.child=null===e?Js(t,null,n,r):$s(t,e.child,n,r)}function Ea(e,t,n,r,i){n=n.render;var s=t.ref;return Ss(t,i),r=So(e,t,n,r,s,i),n=To(),null===e||ba?(is&&n&&es(t),t.flags|=1,_a(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ka(e,t,i))}function Ia(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Dl(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ll(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Sa(e,t,s,r,i))}if(s=e.child,0===(e.lanes&i)){var o=s.memoizedProps;if((n=null!==(n=n.compare)?n:cr)(o,r)&&e.ref===t.ref)return Ka(e,t,i)}return t.flags|=1,(e=Ol(s,r)).ref=t.ref,e.return=t,t.child=e}function Sa(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(cr(s,r)&&e.ref===t.ref){if(ba=!1,t.pendingProps=r=s,0===(e.lanes&i))return t.lanes=e.lanes,Ka(e,t,i);0!==(131072&e.flags)&&(ba=!0)}}return Ca(e,t,n,r,i)}function Ta(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ki(Oc,Dc),Dc|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ki(Oc,Dc),Dc|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,ki(Oc,Dc),Dc|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,ki(Oc,Dc),Dc|=r;return _a(e,t,i,n),t.child}function ka(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ca(e,t,n,r,i){var s=Ri(n)?Ai:xi.current;return s=Pi(t,s),Ss(t,i),n=So(e,t,n,r,s,i),r=To(),null===e||ba?(is&&r&&es(t),t.flags|=1,_a(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ka(e,t,i))}function xa(e,t,n,r,i){if(Ri(n)){var s=!0;Mi(t)}else s=!1;if(Ss(t,i),null===t.stateNode)Ga(e,t),qs(t,n,r),Ks(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,a=t.memoizedProps;o.props=a;var c=o.context,l=n.contextType;"object"===typeof l&&null!==l?l=Ts(l):l=Pi(t,l=Ri(n)?Ai:xi.current);var u=n.getDerivedStateFromProps,h="function"===typeof u||"function"===typeof o.getSnapshotBeforeUpdate;h||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==r||c!==l)&&Gs(t,o,r,l),As=!1;var d=t.memoizedState;o.state=d,Fs(t,r,o,i),c=t.memoizedState,a!==r||d!==c||Ni.current||As?("function"===typeof u&&(Vs(t,n,u,r),c=t.memoizedState),(a=As||Bs(t,n,a,r,d,c,l))?(h||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=l,r=a):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Rs(e,t),a=t.memoizedProps,l=t.type===t.elementType?a:gs(t.type,a),o.props=l,h=t.pendingProps,d=o.context,"object"===typeof(c=n.contextType)&&null!==c?c=Ts(c):c=Pi(t,c=Ri(n)?Ai:xi.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==h||d!==c)&&Gs(t,o,r,c),As=!1,d=t.memoizedState,o.state=d,Fs(t,r,o,i);var p=t.memoizedState;a!==h||d!==p||Ni.current||As?("function"===typeof f&&(Vs(t,n,f,r),p=t.memoizedState),(l=As||Bs(t,n,l,r,d,p,c)||!1)?(u||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,c),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,c)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=c,r=l):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Na(e,t,n,r,s,i)}function Na(e,t,n,r,i,s){ka(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Fi(t,n,!1),Ka(e,t,s);r=t.stateNode,wa.current=t;var a=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=$s(t,e.child,null,s),t.child=$s(t,null,a,s)):_a(e,t,a,s),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Aa(e){var t=e.stateNode;t.pendingContext?Oi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Oi(0,t.context,!1),ro(e,t.containerInfo)}function Pa(e,t,n,r,i){return fs(),ps(i),t.flags|=256,_a(e,t,n,r),t.child}var Ra,Da,Oa,La,Ma={dehydrated:null,treeContext:null,retryLane:0};function Fa(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ua(e,t,n){var r,i=t.pendingProps,o=ao.current,a=!1,c=0!==(128&t.flags);if((r=c)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),ki(ao,1&o),null===e)return ls(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(c=i.children,e=i.fallback,a?(i=t.mode,a=t.child,c={mode:"hidden",children:c},0===(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=c):a=Fl(c,i,0,null),e=Ml(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Fa(n),t.memoizedState=Ma,e):ja(t,c));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,a){if(n)return 256&t.flags?(t.flags&=-257,Va(e,t,a,r=ha(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Fl({mode:"visible",children:r.children},i,0,null),(o=Ml(o,i,a,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&$s(t,e.child,null,a),t.child.memoizedState=Fa(a),t.memoizedState=Ma,o);if(0===(1&t.mode))return Va(e,t,a,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var c=r.dgst;return r=c,Va(e,t,a,r=ha(o=Error(s(419)),r,void 0))}if(c=0!==(a&e.childLanes),ba||c){if(null!==(r=Ac)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|a))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Ns(e,i),rl(r,e,i,-1))}return gl(),Va(e,t,a,r=ha(Error(s(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=xl.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,rs=li(i.nextSibling),ns=t,is=!0,ss=null,null!==e&&(Wi[Qi++]=$i,Wi[Qi++]=Ji,Wi[Qi++]=Yi,$i=e.id,Ji=e.overflow,Yi=t),t=ja(t,r.children),t.flags|=4096,t)}(e,t,c,i,r,o,n);if(a){a=i.fallback,c=t.mode,r=(o=e.child).sibling;var l={mode:"hidden",children:i.children};return 0===(1&c)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=l,t.deletions=null):(i=Ol(o,l)).subtreeFlags=14680064&o.subtreeFlags,null!==r?a=Ol(r,a):(a=Ml(a,c,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,c=null===(c=e.child.memoizedState)?Fa(n):{baseLanes:c.baseLanes|n,cachePool:null,transitions:c.transitions},a.memoizedState=c,a.childLanes=e.childLanes&~n,t.memoizedState=Ma,i}return e=(a=e.child).sibling,i=Ol(a,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function ja(e,t){return(t=Fl({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Va(e,t,n,r){return null!==r&&ps(r),$s(t,e.child,null,n),(e=ja(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function za(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Is(e.return,t,n)}function Ba(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function qa(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(_a(e,t,r.children,n),0!==(2&(r=ao.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&za(e,n,t);else if(19===e.tag)za(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ki(ao,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===co(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ba(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===co(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ba(t,!0,n,null,s);break;case"together":Ba(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ga(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ka(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fc|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Ol(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ol(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ha(e,t){if(!is)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Wa(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qa(e,t,n){var r=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wa(t),null;case 1:case 17:return Ri(t.type)&&Di(),Wa(t),null;case 3:return r=t.stateNode,io(),Ti(Ni),Ti(xi),uo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(hs(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(al(ss),ss=null))),Da(e,t),Wa(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Oa(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Wa(t),null}if(e=no(Zs.current),hs(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[di]=t,r[fi]=o,e=0!==(1&t.mode),n){case"dialog":jr("cancel",r),jr("close",r);break;case"iframe":case"object":case"embed":jr("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)jr(Lr[i],r);break;case"source":jr("error",r);break;case"img":case"image":case"link":jr("error",r),jr("load",r);break;case"details":jr("toggle",r);break;case"input":$(r,o),jr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},jr("invalid",r);break;case"textarea":ie(r,o),jr("invalid",r)}for(var c in ye(n,o),i=null,o)if(o.hasOwnProperty(c)){var l=o[c];"children"===c?"string"===typeof l?r.textContent!==l&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,l,e),i=["children",l]):"number"===typeof l&&r.textContent!==""+l&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,l,e),i=["children",""+l]):a.hasOwnProperty(c)&&null!=l&&"onScroll"===c&&jr("scroll",r)}switch(n){case"input":H(r),Z(r,o,!0);break;case"textarea":H(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{c=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[di]=t,e[fi]=r,Ra(e,t,!1,!1),t.stateNode=e;e:{switch(c=we(n,r),n){case"dialog":jr("cancel",e),jr("close",e),i=r;break;case"iframe":case"object":case"embed":jr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)jr(Lr[i],e);i=r;break;case"source":jr("error",e),i=r;break;case"img":case"image":case"link":jr("error",e),jr("load",e),i=r;break;case"details":jr("toggle",e),i=r;break;case"input":$(e,r),i=Y(e,r),jr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),jr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),jr("invalid",e)}for(o in ye(n,i),l=i)if(l.hasOwnProperty(o)){var u=l[o];"style"===o?ge(e,u):"dangerouslySetInnerHTML"===o?null!=(u=u?u.__html:void 0)&&he(e,u):"children"===o?"string"===typeof u?("textarea"!==n||""!==u)&&de(e,u):"number"===typeof u&&de(e,""+u):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(a.hasOwnProperty(o)?null!=u&&"onScroll"===o&&jr("scroll",e):null!=u&&w(e,o,u,c))}switch(n){case"input":H(e),Z(e,r,!1);break;case"textarea":H(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+G(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Wa(t),null;case 6:if(e&&null!=t.stateNode)La(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=no(to.current),no(Zs.current),hs(t)){if(r=t.stateNode,n=t.memoizedProps,r[di]=t,(o=r.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=t,t.stateNode=r}return Wa(t),null;case 13:if(Ti(ao),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(is&&null!==rs&&0!==(1&t.mode)&&0===(128&t.flags))ds(),fs(),t.flags|=98560,o=!1;else if(o=hs(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(s(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(s(317));o[di]=t}else fs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Wa(t),o=!1}else null!==ss&&(al(ss),ss=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ao.current)?0===Lc&&(Lc=3):gl())),null!==t.updateQueue&&(t.flags|=4),Wa(t),null);case 4:return io(),Da(e,t),null===e&&Br(t.stateNode.containerInfo),Wa(t),null;case 10:return Es(t.type._context),Wa(t),null;case 19:if(Ti(ao),null===(o=t.memoizedState))return Wa(t),null;if(r=0!==(128&t.flags),null===(c=o.rendering))if(r)Ha(o,!1);else{if(0!==Lc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(c=co(e))){for(t.flags|=128,Ha(o,!1),null!==(r=c.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(c=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=c.childLanes,o.lanes=c.lanes,o.child=c.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=c.memoizedProps,o.memoizedState=c.memoizedState,o.updateQueue=c.updateQueue,o.type=c.type,e=c.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ki(ao,1&ao.current|2),t.child}e=e.sibling}null!==o.tail&&Je()>qc&&(t.flags|=128,r=!0,Ha(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=co(c))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ha(o,!0),null===o.tail&&"hidden"===o.tailMode&&!c.alternate&&!is)return Wa(t),null}else 2*Je()-o.renderingStartTime>qc&&1073741824!==n&&(t.flags|=128,r=!0,Ha(o,!1),t.lanes=4194304);o.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=o.last)?n.sibling=c:t.child=c,o.last=c)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Je(),t.sibling=null,n=ao.current,ki(ao,r?1&n|2:1&n),t):(Wa(t),null);case 22:case 23:return dl(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Dc)&&(Wa(t),6&t.subtreeFlags&&(t.flags|=8192)):Wa(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Ya(e,t){switch(ts(t),t.tag){case 1:return Ri(t.type)&&Di(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ti(Ni),Ti(xi),uo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(Ti(ao),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));fs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ti(ao),null;case 4:return io(),null;case 10:return Es(t.type._context),null;case 22:case 23:return dl(),null;default:return null}}Ra=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Da=function(){},Oa=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Zs.current);var s,o=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ye(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var c=i[u];for(s in c)c.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(a.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(c=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&l!==c&&(null!=l||null!=c))if("style"===u)if(c){for(s in c)!c.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&c[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else"dangerouslySetInnerHTML"===u?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(o=o||[]).push(u,l)):"children"===u?"string"!==typeof l&&"number"!==typeof l||(o=o||[]).push(u,""+l):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(a.hasOwnProperty(u)?(null!=l&&"onScroll"===u&&jr("scroll",e),o||c===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}},La=function(e,t,n,r){n!==r&&(t.flags|=4)};var $a=!1,Ja=!1,Xa="function"===typeof WeakSet?WeakSet:Set,Za=null;function ec(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Tl(e,t,r)}else n.current=null}function tc(e,t,n){try{n()}catch(r){Tl(e,t,r)}}var nc=!1;function rc(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&tc(t,n,s)}i=i.next}while(i!==r)}}function ic(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function sc(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function oc(e){var t=e.alternate;null!==t&&(e.alternate=null,oc(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[di],delete t[fi],delete t[mi],delete t[gi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ac(e){return 5===e.tag||3===e.tag||4===e.tag}function cc(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ac(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function lc(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(lc(e,t,n),e=e.sibling;null!==e;)lc(e,t,n),e=e.sibling}function uc(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(uc(e,t,n),e=e.sibling;null!==e;)uc(e,t,n),e=e.sibling}var hc=null,dc=!1;function fc(e,t,n){for(n=n.child;null!==n;)pc(e,t,n),n=n.sibling}function pc(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(it,n)}catch(a){}switch(n.tag){case 5:Ja||ec(n,t);case 6:var r=hc,i=dc;hc=null,fc(e,t,n),dc=i,null!==(hc=r)&&(dc?(e=hc,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):hc.removeChild(n.stateNode));break;case 18:null!==hc&&(dc?(e=hc,n=n.stateNode,8===e.nodeType?ci(e.parentNode,n):1===e.nodeType&&ci(e,n),Bt(e)):ci(hc,n.stateNode));break;case 4:r=hc,i=dc,hc=n.stateNode.containerInfo,dc=!0,fc(e,t,n),hc=r,dc=i;break;case 0:case 11:case 14:case 15:if(!Ja&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,void 0!==o&&(0!==(2&s)||0!==(4&s))&&tc(n,t,o),i=i.next}while(i!==r)}fc(e,t,n);break;case 1:if(!Ja&&(ec(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Tl(n,t,a)}fc(e,t,n);break;case 21:fc(e,t,n);break;case 22:1&n.mode?(Ja=(r=Ja)||null!==n.memoizedState,fc(e,t,n),Ja=r):fc(e,t,n);break;default:fc(e,t,n)}}function mc(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xa),t.forEach((function(t){var r=Nl.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function gc(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,a=t,c=a;e:for(;null!==c;){switch(c.tag){case 5:hc=c.stateNode,dc=!1;break e;case 3:case 4:hc=c.stateNode.containerInfo,dc=!0;break e}c=c.return}if(null===hc)throw Error(s(160));pc(o,a,i),hc=null,dc=!1;var l=i.alternate;null!==l&&(l.return=null),i.return=null}catch(u){Tl(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)vc(t,e),t=t.sibling}function vc(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gc(t,e),yc(e),4&r){try{rc(3,e,e.return),ic(3,e)}catch(g){Tl(e,e.return,g)}try{rc(5,e,e.return)}catch(g){Tl(e,e.return,g)}}break;case 1:gc(t,e),yc(e),512&r&&null!==n&&ec(n,n.return);break;case 5:if(gc(t,e),yc(e),512&r&&null!==n&&ec(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(g){Tl(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,a=null!==n?n.memoizedProps:o,c=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===c&&"radio"===o.type&&null!=o.name&&J(i,o),we(c,a);var u=we(c,o);for(a=0;a<l.length;a+=2){var h=l[a],d=l[a+1];"style"===h?ge(i,d):"dangerouslySetInnerHTML"===h?he(i,d):"children"===h?de(i,d):w(i,h,d,u)}switch(c){case"input":X(i,o);break;case"textarea":se(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):f!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[fi]=o}catch(g){Tl(e,e.return,g)}}break;case 6:if(gc(t,e),yc(e),4&r){if(null===e.stateNode)throw Error(s(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(g){Tl(e,e.return,g)}}break;case 3:if(gc(t,e),yc(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(g){Tl(e,e.return,g)}break;case 4:default:gc(t,e),yc(e);break;case 13:gc(t,e),yc(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Bc=Je())),4&r&&mc(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?(Ja=(u=Ja)||h,gc(t,e),Ja=u):gc(t,e),yc(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!h&&0!==(1&e.mode))for(Za=e,h=e.child;null!==h;){for(d=Za=h;null!==Za;){switch(p=(f=Za).child,f.tag){case 0:case 11:case 14:case 15:rc(4,f,f.return);break;case 1:ec(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Tl(r,n,g)}}break;case 5:ec(f,f.return);break;case 22:if(null!==f.memoizedState){Ec(d);continue}}null!==p?(p.return=f,Za=p):Ec(d)}h=h.sibling}e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{i=d.stateNode,u?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(c=d.stateNode,a=void 0!==(l=d.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null,c.style.display=me("display",a))}catch(g){Tl(e,e.return,g)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(g){Tl(e,e.return,g)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:gc(t,e),yc(e),4&r&&mc(e);case 21:}}function yc(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ac(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),uc(e,cc(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;lc(e,cc(e),o);break;default:throw Error(s(161))}}catch(a){Tl(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function wc(e,t,n){Za=e,bc(e,t,n)}function bc(e,t,n){for(var r=0!==(1&e.mode);null!==Za;){var i=Za,s=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||$a;if(!o){var a=i.alternate,c=null!==a&&null!==a.memoizedState||Ja;a=$a;var l=Ja;if($a=o,(Ja=c)&&!l)for(Za=i;null!==Za;)c=(o=Za).child,22===o.tag&&null!==o.memoizedState?Ic(i):null!==c?(c.return=o,Za=c):Ic(i);for(;null!==s;)Za=s,bc(s,t,n),s=s.sibling;Za=i,$a=a,Ja=l}_c(e)}else 0!==(8772&i.subtreeFlags)&&null!==s?(s.return=i,Za=s):_c(e)}}function _c(e){for(;null!==Za;){var t=Za;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ja||ic(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ja)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:gs(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Us(t,o,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Us(t,a,n)}break;case 5:var c=t.stateNode;if(null===n&&4&t.flags){n=c;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var h=u.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&Bt(d)}}}break;default:throw Error(s(163))}Ja||512&t.flags&&sc(t)}catch(f){Tl(t,t.return,f)}}if(t===e){Za=null;break}if(null!==(n=t.sibling)){n.return=t.return,Za=n;break}Za=t.return}}function Ec(e){for(;null!==Za;){var t=Za;if(t===e){Za=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Za=n;break}Za=t.return}}function Ic(e){for(;null!==Za;){var t=Za;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ic(4,t)}catch(c){Tl(t,n,c)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(c){Tl(t,i,c)}}var s=t.return;try{sc(t)}catch(c){Tl(t,s,c)}break;case 5:var o=t.return;try{sc(t)}catch(c){Tl(t,o,c)}}}catch(c){Tl(t,t.return,c)}if(t===e){Za=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Za=a;break}Za=t.return}}var Sc,Tc=Math.ceil,kc=b.ReactCurrentDispatcher,Cc=b.ReactCurrentOwner,xc=b.ReactCurrentBatchConfig,Nc=0,Ac=null,Pc=null,Rc=0,Dc=0,Oc=Si(0),Lc=0,Mc=null,Fc=0,Uc=0,jc=0,Vc=null,zc=null,Bc=0,qc=1/0,Gc=null,Kc=!1,Hc=null,Wc=null,Qc=!1,Yc=null,$c=0,Jc=0,Xc=null,Zc=-1,el=0;function tl(){return 0!==(6&Nc)?Je():-1!==Zc?Zc:Zc=Je()}function nl(e){return 0===(1&e.mode)?1:0!==(2&Nc)&&0!==Rc?Rc&-Rc:null!==ms.transition?(0===el&&(el=mt()),el):0!==(e=wt)?e:e=void 0===(e=window.event)?16:$t(e.type)}function rl(e,t,n,r){if(50<Jc)throw Jc=0,Xc=null,Error(s(185));vt(e,n,r),0!==(2&Nc)&&e===Ac||(e===Ac&&(0===(2&Nc)&&(Uc|=n),4===Lc&&cl(e,Rc)),il(e,r),1===n&&0===Nc&&0===(1&t.mode)&&(qc=Je()+500,ji&&Bi()))}function il(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-ot(s),a=1<<o,c=i[o];-1===c?0!==(a&n)&&0===(a&r)||(i[o]=ft(a,t)):c<=t&&(e.expiredLanes|=a),s&=~a}}(e,t);var r=dt(e,e===Ac?Rc:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){ji=!0,zi(e)}(ll.bind(null,e)):zi(ll.bind(null,e)),oi((function(){0===(6&Nc)&&Bi()})),n=null;else{switch(bt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Al(n,sl.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function sl(e,t){if(Zc=-1,el=0,0!==(6&Nc))throw Error(s(327));var n=e.callbackNode;if(Il()&&e.callbackNode!==n)return null;var r=dt(e,e===Ac?Rc:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=vl(e,r);else{t=r;var i=Nc;Nc|=2;var o=ml();for(Ac===e&&Rc===t||(Gc=null,qc=Je()+500,fl(e,t));;)try{wl();break}catch(c){pl(e,c)}_s(),kc.current=o,Nc=i,null!==Pc?t=0:(Ac=null,Rc=0,t=Lc)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ol(e,i))),1===t)throw n=Mc,fl(e,0),cl(e,r),il(e,Je()),n;if(6===t)cl(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ar(s(),i))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=vl(e,r))&&(0!==(o=pt(e))&&(r=o,t=ol(e,o))),1===t))throw n=Mc,fl(e,0),cl(e,r),il(e,Je()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:El(e,zc,Gc);break;case 3:if(cl(e,r),(130023424&r)===r&&10<(t=Bc+500-Je())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tl(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(El.bind(null,e,zc,Gc),t);break}El(e,zc,Gc);break;case 4:if(cl(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-ot(r);o=1<<a,(a=t[a])>i&&(i=a),r&=~o}if(r=i,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Tc(r/1960))-r)){e.timeoutHandle=ri(El.bind(null,e,zc,Gc),r);break}El(e,zc,Gc);break;default:throw Error(s(329))}}}return il(e,Je()),e.callbackNode===n?sl.bind(null,e):null}function ol(e,t){var n=Vc;return e.current.memoizedState.isDehydrated&&(fl(e,t).flags|=256),2!==(e=vl(e,t))&&(t=zc,zc=n,null!==t&&al(t)),e}function al(e){null===zc?zc=e:zc.push.apply(zc,e)}function cl(e,t){for(t&=~jc,t&=~Uc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function ll(e){if(0!==(6&Nc))throw Error(s(327));Il();var t=dt(e,0);if(0===(1&t))return il(e,Je()),null;var n=vl(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ol(e,r))}if(1===n)throw n=Mc,fl(e,0),cl(e,t),il(e,Je()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,El(e,zc,Gc),il(e,Je()),null}function ul(e,t){var n=Nc;Nc|=1;try{return e(t)}finally{0===(Nc=n)&&(qc=Je()+500,ji&&Bi())}}function hl(e){null!==Yc&&0===Yc.tag&&0===(6&Nc)&&Il();var t=Nc;Nc|=1;var n=xc.transition,r=wt;try{if(xc.transition=null,wt=1,e)return e()}finally{wt=r,xc.transition=n,0===(6&(Nc=t))&&Bi()}}function dl(){Dc=Oc.current,Ti(Oc)}function fl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Pc)for(n=Pc.return;null!==n;){var r=n;switch(ts(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Di();break;case 3:io(),Ti(Ni),Ti(xi),uo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:Ti(ao);break;case 10:Es(r.type._context);break;case 22:case 23:dl()}n=n.return}if(Ac=e,Pc=e=Ol(e.current,null),Rc=Dc=t,Lc=0,Mc=null,jc=Uc=Fc=0,zc=Vc=null,null!==ks){for(t=0;t<ks.length;t++)if(null!==(r=(n=ks[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var o=s.next;s.next=i,r.next=o}n.pending=r}ks=null}return e}function pl(e,t){for(;;){var n=Pc;try{if(_s(),ho.current=oa,yo){for(var r=mo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}yo=!1}if(po=0,vo=go=mo=null,wo=!1,bo=0,Cc.current=null,null===n||null===n.return){Lc=1,Mc=t,Pc=null;break}e:{var o=e,a=n.return,c=n,l=t;if(t=Rc,c.flags|=32768,null!==l&&"object"===typeof l&&"function"===typeof l.then){var u=l,h=c,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=va(a);if(null!==p){p.flags&=-257,ya(p,a,c,0,t),1&p.mode&&ga(o,u,t),l=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(l),t.updateQueue=g}else m.add(l);break e}if(0===(1&t)){ga(o,u,t),gl();break e}l=Error(s(426))}else if(is&&1&c.mode){var v=va(a);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),ya(v,a,c,0,t),ps(ua(l,c));break e}}o=l=ua(l,c),4!==Lc&&(Lc=2),null===Vc?Vc=[o]:Vc.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ms(o,pa(0,l,t));break e;case 1:c=l;var y=o.type,w=o.stateNode;if(0===(128&o.flags)&&("function"===typeof y.getDerivedStateFromError||null!==w&&"function"===typeof w.componentDidCatch&&(null===Wc||!Wc.has(w)))){o.flags|=65536,t&=-t,o.lanes|=t,Ms(o,ma(o,c,t));break e}}o=o.return}while(null!==o)}_l(n)}catch(b){t=b,Pc===n&&null!==n&&(Pc=n=n.return);continue}break}}function ml(){var e=kc.current;return kc.current=oa,null===e?oa:e}function gl(){0!==Lc&&3!==Lc&&2!==Lc||(Lc=4),null===Ac||0===(268435455&Fc)&&0===(268435455&Uc)||cl(Ac,Rc)}function vl(e,t){var n=Nc;Nc|=2;var r=ml();for(Ac===e&&Rc===t||(Gc=null,fl(e,t));;)try{yl();break}catch(i){pl(e,i)}if(_s(),Nc=n,kc.current=r,null!==Pc)throw Error(s(261));return Ac=null,Rc=0,Lc}function yl(){for(;null!==Pc;)bl(Pc)}function wl(){for(;null!==Pc&&!Ye();)bl(Pc)}function bl(e){var t=Sc(e.alternate,e,Dc);e.memoizedProps=e.pendingProps,null===t?_l(e):Pc=t,Cc.current=null}function _l(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Qa(n,t,Dc)))return void(Pc=n)}else{if(null!==(n=Ya(n,t)))return n.flags&=32767,void(Pc=n);if(null===e)return Lc=6,void(Pc=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Pc=t);Pc=t=e}while(null!==t);0===Lc&&(Lc=5)}function El(e,t,n){var r=wt,i=xc.transition;try{xc.transition=null,wt=1,function(e,t,n,r){do{Il()}while(null!==Yc);if(0!==(6&Nc))throw Error(s(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}(e,o),e===Ac&&(Pc=Ac=null,Rc=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Qc||(Qc=!0,Al(tt,(function(){return Il(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=xc.transition,xc.transition=null;var a=wt;wt=1;var c=Nc;Nc|=4,Cc.current=null,function(e,t){if(ei=Gt,fr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(_){n=null;break e}var a=0,c=-1,l=-1,u=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(c=a+i),d!==o||0!==r&&3!==d.nodeType||(l=a+r),3===d.nodeType&&(a+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++u===i&&(c=a),f===o&&++h===r&&(l=a),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===c||-1===l?null:{start:c,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Gt=!1,Za=t;null!==Za;)if(e=(t=Za).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Za=e;else for(;null!==Za;){t=Za;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,w=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:gs(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(s(163))}}catch(_){Tl(t,t.return,_)}if(null!==(e=t.sibling)){e.return=t.return,Za=e;break}Za=t.return}m=nc,nc=!1}(e,n),vc(n,e),pr(ti),Gt=!!ei,ti=ei=null,e.current=n,wc(n,e,i),$e(),Nc=c,wt=a,xc.transition=o}else e.current=n;if(Qc&&(Qc=!1,Yc=e,$c=i),o=e.pendingLanes,0===o&&(Wc=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),il(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Kc)throw Kc=!1,e=Hc,Hc=null,e;0!==(1&$c)&&0!==e.tag&&Il(),o=e.pendingLanes,0!==(1&o)?e===Xc?Jc++:(Jc=0,Xc=e):Jc=0,Bi()}(e,t,n,r)}finally{xc.transition=i,wt=r}return null}function Il(){if(null!==Yc){var e=bt($c),t=xc.transition,n=wt;try{if(xc.transition=null,wt=16>e?16:e,null===Yc)var r=!1;else{if(e=Yc,Yc=null,$c=0,0!==(6&Nc))throw Error(s(331));var i=Nc;for(Nc|=4,Za=e.current;null!==Za;){var o=Za,a=o.child;if(0!==(16&Za.flags)){var c=o.deletions;if(null!==c){for(var l=0;l<c.length;l++){var u=c[l];for(Za=u;null!==Za;){var h=Za;switch(h.tag){case 0:case 11:case 15:rc(8,h,o)}var d=h.child;if(null!==d)d.return=h,Za=d;else for(;null!==Za;){var f=(h=Za).sibling,p=h.return;if(oc(h),h===u){Za=null;break}if(null!==f){f.return=p,Za=f;break}Za=p}}}var m=o.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Za=o}}if(0!==(2064&o.subtreeFlags)&&null!==a)a.return=o,Za=a;else e:for(;null!==Za;){if(0!==(2048&(o=Za).flags))switch(o.tag){case 0:case 11:case 15:rc(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,Za=y;break e}Za=o.return}}var w=e.current;for(Za=w;null!==Za;){var b=(a=Za).child;if(0!==(2064&a.subtreeFlags)&&null!==b)b.return=a,Za=b;else e:for(a=w;null!==Za;){if(0!==(2048&(c=Za).flags))try{switch(c.tag){case 0:case 11:case 15:ic(9,c)}}catch(E){Tl(c,c.return,E)}if(c===a){Za=null;break e}var _=c.sibling;if(null!==_){_.return=c.return,Za=_;break e}Za=c.return}}if(Nc=i,Bi(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(it,e)}catch(E){}r=!0}return r}finally{wt=n,xc.transition=t}}return!1}function Sl(e,t,n){e=Os(e,t=pa(0,t=ua(n,t),1),1),t=tl(),null!==e&&(vt(e,1,t),il(e,t))}function Tl(e,t,n){if(3===e.tag)Sl(e,e,n);else for(;null!==t;){if(3===t.tag){Sl(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Wc||!Wc.has(r))){t=Os(t,e=ma(t,e=ua(n,e),1),1),e=tl(),null!==t&&(vt(t,1,e),il(t,e));break}}t=t.return}}function kl(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tl(),e.pingedLanes|=e.suspendedLanes&n,Ac===e&&(Rc&n)===n&&(4===Lc||3===Lc&&(130023424&Rc)===Rc&&500>Je()-Bc?fl(e,0):jc|=n),il(e,t)}function Cl(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=tl();null!==(e=Ns(e,t))&&(vt(e,t,n),il(e,n))}function xl(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cl(e,n)}function Nl(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),Cl(e,n)}function Al(e,t){return We(e,t)}function Pl(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rl(e,t,n,r){return new Pl(e,t,n,r)}function Dl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ol(e,t){var n=e.alternate;return null===n?((n=Rl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ll(e,t,n,r,i,o){var a=2;if(r=e,"function"===typeof e)Dl(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case I:return Ml(n.children,i,o,t);case S:a=8,i|=8;break;case T:return(e=Rl(12,n,t,2|i)).elementType=T,e.lanes=o,e;case N:return(e=Rl(13,n,t,i)).elementType=N,e.lanes=o,e;case A:return(e=Rl(19,n,t,i)).elementType=A,e.lanes=o,e;case D:return Fl(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case k:a=10;break e;case C:a=9;break e;case x:a=11;break e;case P:a=14;break e;case R:a=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Rl(a,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Ml(e,t,n,r){return(e=Rl(7,e,r,t)).lanes=n,e}function Fl(e,t,n,r){return(e=Rl(22,e,r,t)).elementType=D,e.lanes=n,e.stateNode={isHidden:!1},e}function Ul(e,t,n){return(e=Rl(6,e,null,t)).lanes=n,e}function jl(e,t,n){return(t=Rl(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vl(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function zl(e,t,n,r,i,s,o,a,c){return e=new Vl(e,t,n,a,c),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Rl(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ps(s),e}function Bl(e){if(!e)return Ci;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ri(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Ri(n))return Li(e,n,t)}return t}function ql(e,t,n,r,i,s,o,a,c){return(e=zl(n,r,!0,e,0,s,0,a,c)).context=Bl(null),n=e.current,(s=Ds(r=tl(),i=nl(n))).callback=void 0!==t&&null!==t?t:null,Os(n,s,i),e.current.lanes=i,vt(e,i,r),il(e,r),e}function Gl(e,t,n,r){var i=t.current,s=tl(),o=nl(i);return n=Bl(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ds(s,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Os(i,t,o))&&(rl(e,i,o,s),Ls(e,i,o)),o}function Kl(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Hl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Wl(e,t){Hl(e,t),(e=e.alternate)&&Hl(e,t)}Sc=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)ba=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ba=!1,function(e,t,n){switch(t.tag){case 3:Aa(t),fs();break;case 5:so(t);break;case 1:Ri(t.type)&&Mi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;ki(vs,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(ki(ao,1&ao.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ua(e,t,n):(ki(ao,1&ao.current),null!==(e=Ka(e,t,n))?e.sibling:null);ki(ao,1&ao.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qa(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),ki(ao,ao.current),r)break;return null;case 22:case 23:return t.lanes=0,Ta(e,t,n)}return Ka(e,t,n)}(e,t,n);ba=0!==(131072&e.flags)}else ba=!1,is&&0!==(1048576&t.flags)&&Zi(t,Hi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ga(e,t),e=t.pendingProps;var i=Pi(t,xi.current);Ss(t,n),i=So(null,t,r,e,i,n);var o=To();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ri(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ps(t),i.updater=zs,t.stateNode=i,i._reactInternals=t,Ks(t,r,e,n),t=Na(null,t,r,!0,o,n)):(t.tag=0,is&&o&&es(t),_a(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ga(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Dl(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===x)return 11;if(e===P)return 14}return 2}(r),e=gs(r,e),i){case 0:t=Ca(null,t,r,e,n);break e;case 1:t=xa(null,t,r,e,n);break e;case 11:t=Ea(null,t,r,e,n);break e;case 14:t=Ia(null,t,r,gs(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ca(e,t,r,i=t.elementType===r?i:gs(r,i),n);case 1:return r=t.type,i=t.pendingProps,xa(e,t,r,i=t.elementType===r?i:gs(r,i),n);case 3:e:{if(Aa(t),null===e)throw Error(s(387));r=t.pendingProps,i=(o=t.memoizedState).element,Rs(e,t),Fs(t,r,null,n);var a=t.memoizedState;if(r=a.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Pa(e,t,r,n,i=ua(Error(s(423)),t));break e}if(r!==i){t=Pa(e,t,r,n,i=ua(Error(s(424)),t));break e}for(rs=li(t.stateNode.containerInfo.firstChild),ns=t,is=!0,ss=null,n=Js(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fs(),r===i){t=Ka(e,t,n);break e}_a(e,t,r,n)}t=t.child}return t;case 5:return so(t),null===e&&ls(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,a=i.children,ni(r,i)?a=null:null!==o&&ni(r,o)&&(t.flags|=32),ka(e,t),_a(e,t,a,n),t.child;case 6:return null===e&&ls(t),null;case 13:return Ua(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=$s(t,null,r,n):_a(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ea(e,t,r,i=t.elementType===r?i:gs(r,i),n);case 7:return _a(e,t,t.pendingProps,n),t.child;case 8:case 12:return _a(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value,ki(vs,r._currentValue),r._currentValue=a,null!==o)if(ar(o.value,a)){if(o.children===i.children&&!Ni.current){t=Ka(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var c=o.dependencies;if(null!==c){a=o.child;for(var l=c.firstContext;null!==l;){if(l.context===r){if(1===o.tag){(l=Ds(-1,n&-n)).tag=2;var u=o.updateQueue;if(null!==u){var h=(u=u.shared).pending;null===h?l.next=l:(l.next=h.next,h.next=l),u.pending=l}}o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Is(o.return,n,t),c.lanes|=n;break}l=l.next}}else if(10===o.tag)a=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(a=o.return))throw Error(s(341));a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),Is(a,n,t),a=o.sibling}else a=o.child;if(null!==a)a.return=o;else for(a=o;null!==a;){if(a===t){a=null;break}if(null!==(o=a.sibling)){o.return=a.return,a=o;break}a=a.return}o=a}_a(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ss(t,n),r=r(i=Ts(i)),t.flags|=1,_a(e,t,r,n),t.child;case 14:return i=gs(r=t.type,t.pendingProps),Ia(e,t,r,i=gs(r.type,i),n);case 15:return Sa(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:gs(r,i),Ga(e,t),t.tag=1,Ri(r)?(e=!0,Mi(t)):e=!1,Ss(t,n),qs(t,r,i),Ks(t,r,i,n),Na(null,t,r,!0,e,n);case 19:return qa(e,t,n);case 22:return Ta(e,t,n)}throw Error(s(156,t.tag))};var Ql="function"===typeof reportError?reportError:function(e){console.error(e)};function Yl(e){this._internalRoot=e}function $l(e){this._internalRoot=e}function Jl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zl(){}function eu(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if("function"===typeof i){var a=i;i=function(){var e=Kl(o);a.call(e)}}Gl(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var s=r;r=function(){var e=Kl(o);s.call(e)}}var o=ql(t,r,e,0,null,!1,0,"",Zl);return e._reactRootContainer=o,e[pi]=o.current,Br(8===e.nodeType?e.parentNode:e),hl(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var a=r;r=function(){var e=Kl(c);a.call(e)}}var c=zl(e,0,!1,null,0,!1,0,"",Zl);return e._reactRootContainer=c,e[pi]=c.current,Br(8===e.nodeType?e.parentNode:e),hl((function(){Gl(t,c,n,r)})),c}(n,t,e,i,r);return Kl(o)}$l.prototype.render=Yl.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Gl(e,t,null,null)},$l.prototype.unmount=Yl.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;hl((function(){Gl(null,e,null,null)})),t[pi]=null}},$l.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dt.length&&0!==t&&t<Dt[n].priority;n++);Dt.splice(n,0,e),0===n&&Ft(e)}},_t=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(yt(t,1|n),il(t,Je()),0===(6&Nc)&&(qc=Je()+500,Bi()))}break;case 13:hl((function(){var t=Ns(e,1);if(null!==t){var n=tl();rl(t,e,1,n)}})),Wl(e,1)}},Et=function(e){if(13===e.tag){var t=Ns(e,134217728);if(null!==t)rl(t,e,134217728,tl());Wl(e,134217728)}},It=function(e){if(13===e.tag){var t=nl(e),n=Ns(e,t);if(null!==n)rl(n,e,t,tl());Wl(e,t)}},St=function(){return wt},Tt=function(e,t){var n=wt;try{return wt=e,t()}finally{wt=n}},Ee=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=_i(r);if(!i)throw Error(s(90));W(r),X(r,i)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},xe=ul,Ne=hl;var tu={usingClientEntryPoint:!1,Events:[wi,bi,_i,ke,Ce,ul]},nu={findFiberByHostInstance:yi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ru={bundleType:nu.bundleType,version:nu.version,rendererPackageName:nu.rendererPackageName,rendererConfig:nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ke(e))?null:e.stateNode},findFiberByHostInstance:nu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iu.isDisabled&&iu.supportsFiber)try{it=iu.inject(ru),st=iu}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jl(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Jl(e))throw Error(s(299));var n=!1,r="",i=Ql;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=zl(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new Yl(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=Ke(t))?null:e.stateNode},t.flushSync=function(e){return hl(e)},t.hydrate=function(e,t,n){if(!Xl(t))throw Error(s(200));return eu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Jl(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",a=Ql;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=ql(t,null,e,1,null!=n?n:null,i,0,o,a),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new $l(t)},t.render=function(e,t,n){if(!Xl(t))throw Error(s(200));return eu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xl(e))throw Error(s(40));return!!e._reactRootContainer&&(hl((function(){eu(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=ul,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xl(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return eu(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},391:(e,t,n)=>{"use strict";var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)},82:(e,t)=>{"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,s=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,c=n?Symbol.for("react.provider"):60109,l=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,h=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,f=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,w=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function _(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case h:case s:case a:case o:case f:return e;default:switch(e=e&&e.$$typeof){case l:case d:case g:case m:case c:return e;default:return t}}case i:return t}}}function E(e){return _(e)===h}t.isForwardRef=function(e){return _(e)===d}},86:(e,t,n)=>{"use strict";e.exports=n(82)},153:(e,t,n)=>{"use strict";var r=n(43),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,s={},l=null,u=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(u=t.ref),t)o.call(t,r)&&!c.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:i,type:e,key:l,ref:u,props:s,_owner:a.current}}t.Fragment=s,t.jsx=l,t.jsxs=l},202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function w(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var b=w.prototype=new y;b.constructor=w,m(b,v.prototype),b.isPureReactComponent=!0;var _=Array.isArray,E=Object.prototype.hasOwnProperty,I={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function T(e,t,r){var i,s={},o=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(o=""+t.key),t)E.call(t,i)&&!S.hasOwnProperty(i)&&(s[i]=t[i]);var c=arguments.length-2;if(1===c)s.children=r;else if(1<c){for(var l=Array(c),u=0;u<c;u++)l[u]=arguments[u+2];s.children=l}if(e&&e.defaultProps)for(i in c=e.defaultProps)void 0===s[i]&&(s[i]=c[i]);return{$$typeof:n,type:e,key:o,ref:a,props:s,_owner:I.current}}function k(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function x(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,s,o){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var c=!1;if(null===e)c=!0;else switch(a){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case n:case r:c=!0}}if(c)return o=o(c=e),e=""===s?"."+x(c,0):s,_(o)?(i="",null!=e&&(i=e.replace(C,"$&/")+"/"),N(o,t,i,"",(function(e){return e}))):null!=o&&(k(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||c&&c.key===o.key?"":(""+o.key).replace(C,"$&/")+"/")+e)),t.push(o)),1;if(c=0,s=""===s?".":s+":",_(e))for(var l=0;l<e.length;l++){var u=s+x(a=e[l],l);c+=N(a,t,i,u,o)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),l=0;!(a=e.next()).done;)c+=N(a=a.value,t,i,u=s+x(a,l++),o);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return c}function A(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},D={transition:null},O={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:D,ReactCurrentOwner:I};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!k(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=o,t.PureComponent=w,t.StrictMode=s,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),s=e.key,o=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,a=I.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)E.call(t,l)&&!S.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){c=Array(l);for(var u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}return{$$typeof:n,type:e.type,key:s,ref:o,props:i,_owner:a}},t.createContext=function(e){return(e={$$typeof:c,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=T,t.createFactory=function(e){var t=T.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=k,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.2.0"},43:(e,t,n)=>{"use strict";e.exports=n(202)},579:(e,t,n)=>{"use strict";e.exports=n(153)},234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var a=2*(r+1)-1,c=e[a],l=a+1,u=e[l];if(0>s(c,n))l<i&&0>s(u,c)?(e[r]=u,e[l]=n,r=l):(e[r]=c,e[a]=n,r=a);else{if(!(l<i&&0>s(u,n)))break e;e[r]=u,e[l]=n,r=l}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,c=a.now();t.unstable_now=function(){return a.now()-c}}var l=[],u=[],h=1,d=null,f=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,w="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(l,t)}t=r(u)}}function _(e){if(g=!1,b(e),!m)if(null!==r(l))m=!0,D(E);else{var t=r(u);null!==t&&O(_,t.startTime-e)}}function E(e,n){m=!1,g&&(g=!1,y(k),k=-1),p=!0;var s=f;try{for(b(n),d=r(l);null!==d&&(!(d.expirationTime>n)||e&&!N());){var o=d.callback;if("function"===typeof o){d.callback=null,f=d.priorityLevel;var a=o(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?d.callback=a:d===r(l)&&i(l),b(n)}else i(l);d=r(l)}if(null!==d)var c=!0;else{var h=r(u);null!==h&&O(_,h.startTime-n),c=!1}return c}finally{d=null,f=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var I,S=!1,T=null,k=-1,C=5,x=-1;function N(){return!(t.unstable_now()-x<C)}function A(){if(null!==T){var e=t.unstable_now();x=e;var n=!0;try{n=T(!0,e)}finally{n?I():(S=!1,T=null)}}else S=!1}if("function"===typeof w)I=function(){w(A)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,R=P.port2;P.port1.onmessage=A,I=function(){R.postMessage(null)}}else I=function(){v(A,0)};function D(e){T=e,S||(S=!0,I())}function O(e,n){k=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,D(E))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var o=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?o+s:o:s=o,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:s,expirationTime:a=s+a,sortIndex:-1},s>o?(e.sortIndex=s,n(u,e),null===r(l)&&e===r(u)&&(g?(y(k),k=-1):g=!0,O(_,s-o))):(e.sortIndex=a,n(l,e),m||p||(m=!0,D(E))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},853:(e,t,n)=>{"use strict";e.exports=n(234)},324:e=>{e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var s=Object.keys(e),o=Object.keys(t);if(s.length!==o.length)return!1;for(var a=Object.prototype.hasOwnProperty.bind(t),c=0;c<s.length;c++){var l=s[c];if(!a(l))return!1;var u=e[l],h=t[l];if(!1===(i=n?n.call(r,u,h,l):void 0)||void 0===i&&u!==h)return!1}return!0}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var s=Object.create(null);n.r(s);var o={};e=e||[null,t({}),t([]),t(t)];for(var a=2&i&&r;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>o[e]=()=>r[e]));return o.default=()=>r,n.d(s,o),s}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e={};n.r(e),n.d(e,{FirebaseError:()=>gs,SDK_VERSION:()=>So,_DEFAULT_ENTRY_NAME:()=>ao,_addComponent:()=>fo,_addOrOverwriteComponent:()=>po,_apps:()=>lo,_clearComponents:()=>bo,_components:()=>ho,_getProvider:()=>go,_isFirebaseApp:()=>yo,_isFirebaseServerApp:()=>wo,_registerComponent:()=>mo,_removeServiceInstance:()=>vo,_serverApps:()=>uo,deleteApp:()=>No,getApp:()=>Co,getApps:()=>xo,initializeApp:()=>To,initializeServerApp:()=>ko,onLog:()=>Po,registerVersion:()=>Ao,setLogLevel:()=>Ro});var t,r=n(391),i=n(43),s=n.t(i,2),o=n(950),a=n.t(o,2);function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));const l="popstate";function u(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function h(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function d(e,t){return{usr:e.state,key:e.key,idx:t}}function f(e,t,n,r){return void 0===n&&(n=null),c({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?m(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function p(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function m(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function g(e,n,r,i){void 0===i&&(i={});let{window:s=document.defaultView,v5Compat:o=!1}=i,a=s.history,h=t.Pop,m=null,g=v();function v(){return(a.state||{idx:null}).idx}function y(){h=t.Pop;let e=v(),n=null==e?null:e-g;g=e,m&&m({action:h,location:b.location,delta:n})}function w(e){let t="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof e?e:p(e);return n=n.replace(/ $/,"%20"),u(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,a.replaceState(c({},a.state,{idx:g}),""));let b={get action(){return h},get location(){return e(s,a)},listen(e){if(m)throw new Error("A history only accepts one active listener");return s.addEventListener(l,y),m=e,()=>{s.removeEventListener(l,y),m=null}},createHref:e=>n(s,e),createURL:w,encodeLocation(e){let t=w(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,n){h=t.Push;let i=f(b.location,e,n);r&&r(i,e),g=v()+1;let c=d(i,g),l=b.createHref(i);try{a.pushState(c,"",l)}catch(u){if(u instanceof DOMException&&"DataCloneError"===u.name)throw u;s.location.assign(l)}o&&m&&m({action:h,location:b.location,delta:1})},replace:function(e,n){h=t.Replace;let i=f(b.location,e,n);r&&r(i,e),g=v();let s=d(i,g),c=b.createHref(i);a.replaceState(s,"",c),o&&m&&m({action:h,location:b.location,delta:0})},go:e=>a.go(e)};return b}var v;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(v||(v={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function y(e,t,n){void 0===n&&(n="/");let r=R(("string"===typeof t?m(t):t).pathname||"/",n);if(null==r)return null;let i=w(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let s=null;for(let o=0;null==s&&o<i.length;++o){let e=P(r);s=N(i[o],e)}return s}function w(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,s)=>{let o={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(u(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));let a=F([r,o.relativePath]),c=n.concat(o);e.children&&e.children.length>0&&(u(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+a+'".'),w(e.children,t,c,a)),(null!=e.path||e.index)&&t.push({path:a,score:x(a,e.index),routesMeta:c})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of b(e.path))i(e,t,r);else i(e,t)})),t}function b(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return i?[s,""]:[s];let o=b(r.join("/")),a=[];return a.push(...o.map((e=>""===e?s:[s,e].join("/")))),i&&a.push(...o),a.map((t=>e.startsWith("/")&&""===t?"/":t))}const _=/^:[\w-]+$/,E=3,I=2,S=1,T=10,k=-2,C=e=>"*"===e;function x(e,t){let n=e.split("/"),r=n.length;return n.some(C)&&(r+=k),t&&(r+=I),n.filter((e=>!C(e))).reduce(((e,t)=>e+(_.test(t)?E:""===t?S:T)),r)}function N(e,t){let{routesMeta:n}=e,r={},i="/",s=[];for(let o=0;o<n.length;++o){let e=n[o],a=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=A({path:e.relativePath,caseSensitive:e.caseSensitive,end:a},c);if(!l)return null;Object.assign(r,l.params);let u=e.route;s.push({params:r,pathname:F([i,l.pathname]),pathnameBase:U(F([i,l.pathnameBase])),route:u}),"/"!==l.pathnameBase&&(i=F([i,l.pathnameBase]))}return s}function A(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);h("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let s=new RegExp(i,t?void 0:"i");return[s,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=a[n]||"";o=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const c=a[n];return e[r]=i&&!c?void 0:(c||"").replace(/%2F/g,"/"),e}),{}),pathname:s,pathnameBase:o,pattern:e}}function P(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return h(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function R(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function D(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function O(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function L(e,t){let n=O(e);return t?n.map(((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)):n.map((e=>e.pathnameBase))}function M(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=m(e):(i=c({},e),u(!i.pathname||!i.pathname.includes("?"),D("?","pathname","search",i)),u(!i.pathname||!i.pathname.includes("#"),D("#","pathname","hash",i)),u(!i.search||!i.search.includes("#"),D("#","search","hash",i)));let s,o=""===e||""===i.pathname,a=o?"/":i.pathname;if(null==a)s=n;else{let e=t.length-1;if(!r&&a.startsWith("..")){let t=a.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}s=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?m(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:j(r),hash:V(i)}}(i,s),h=a&&"/"!==a&&a.endsWith("/"),d=(o||"."===a)&&n.endsWith("/");return l.pathname.endsWith("/")||!h&&!d||(l.pathname+="/"),l}const F=e=>e.join("/").replace(/\/\/+/g,"/"),U=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),j=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",V=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function z(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const B=["post","put","patch","delete"],q=(new Set(B),["get",...B]);new Set(q),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function G(){return G=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},G.apply(this,arguments)}const K=i.createContext(null);const H=i.createContext(null);const W=i.createContext(null);const Q=i.createContext(null);const Y=i.createContext({outlet:null,matches:[],isDataRoute:!1});const $=i.createContext(null);function J(){return null!=i.useContext(Q)}function X(){return J()||u(!1),i.useContext(Q).location}function Z(e){i.useContext(W).static||i.useLayoutEffect(e)}function ee(){let{isDataRoute:e}=i.useContext(Y);return e?function(){let{router:e}=he(le.UseNavigateStable),t=fe(ue.UseNavigateStable),n=i.useRef(!1);Z((()=>{n.current=!0}));let r=i.useCallback((function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,G({fromRouteId:t},i)))}),[e,t]);return r}():function(){J()||u(!1);let e=i.useContext(K),{basename:t,future:n,navigator:r}=i.useContext(W),{matches:s}=i.useContext(Y),{pathname:o}=X(),a=JSON.stringify(L(s,n.v7_relativeSplatPath)),c=i.useRef(!1);return Z((()=>{c.current=!0})),i.useCallback((function(n,i){if(void 0===i&&(i={}),!c.current)return;if("number"===typeof n)return void r.go(n);let s=M(n,JSON.parse(a),o,"path"===i.relative);null==e&&"/"!==t&&(s.pathname="/"===s.pathname?t:F([t,s.pathname])),(i.replace?r.replace:r.push)(s,i.state,i)}),[t,r,a,o,e])}()}const te=i.createContext(null);function ne(e,t){let{relative:n}=void 0===t?{}:t,{future:r}=i.useContext(W),{matches:s}=i.useContext(Y),{pathname:o}=X(),a=JSON.stringify(L(s,r.v7_relativeSplatPath));return i.useMemo((()=>M(e,JSON.parse(a),o,"path"===n)),[e,a,o,n])}function re(e,n,r,s){J()||u(!1);let{navigator:o}=i.useContext(W),{matches:a}=i.useContext(Y),c=a[a.length-1],l=c?c.params:{},h=(c&&c.pathname,c?c.pathnameBase:"/");c&&c.route;let d,f=X();if(n){var p;let e="string"===typeof n?m(n):n;"/"===h||(null==(p=e.pathname)?void 0:p.startsWith(h))||u(!1),d=e}else d=f;let g=d.pathname||"/",v=g;if("/"!==h){let e=h.replace(/^\//,"").split("/");v="/"+g.replace(/^\//,"").split("/").slice(e.length).join("/")}let w=y(e,{pathname:v});let b=ce(w&&w.map((e=>Object.assign({},e,{params:Object.assign({},l,e.params),pathname:F([h,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?h:F([h,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),a,r,s);return n&&b?i.createElement(Q.Provider,{value:{location:G({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:t.Pop}},b):b}function ie(){let e=function(){var e;let t=i.useContext($),n=de(ue.UseRouteError),r=fe(ue.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=z(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r};return i.createElement(i.Fragment,null,i.createElement("h2",null,"Unexpected Application Error!"),i.createElement("h3",{style:{fontStyle:"italic"}},t),n?i.createElement("pre",{style:s},n):null,null)}const se=i.createElement(ie,null);class oe extends i.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?i.createElement(Y.Provider,{value:this.props.routeContext},i.createElement($.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ae(e){let{routeContext:t,match:n,children:r}=e,s=i.useContext(K);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),i.createElement(Y.Provider,{value:t},r)}function ce(e,t,n,r){var s;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var o;if(null==(o=n)||!o.errors)return null;e=n.matches}let a=e,c=null==(s=n)?void 0:s.errors;if(null!=c){let e=a.findIndex((e=>e.route.id&&(null==c?void 0:c[e.route.id])));e>=0||u(!1),a=a.slice(0,Math.min(a.length,e+1))}let l=!1,h=-1;if(n&&r&&r.v7_partialHydration)for(let i=0;i<a.length;i++){let e=a[i];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(h=i),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){l=!0,a=h>=0?a.slice(0,h+1):[a[0]];break}}}return a.reduceRight(((e,r,s)=>{let o,u=!1,d=null,f=null;var p;n&&(o=c&&r.route.id?c[r.route.id]:void 0,d=r.route.errorElement||se,l&&(h<0&&0===s?(p="route-fallback",!1||pe[p]||(pe[p]=!0),u=!0,f=null):h===s&&(u=!0,f=r.route.hydrateFallbackElement||null)));let m=t.concat(a.slice(0,s+1)),g=()=>{let t;return t=o?d:u?f:r.route.Component?i.createElement(r.route.Component,null):r.route.element?r.route.element:e,i.createElement(ae,{match:r,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===s)?i.createElement(oe,{location:n.location,revalidation:n.revalidation,component:d,error:o,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()}),null)}var le=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(le||{}),ue=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(ue||{});function he(e){let t=i.useContext(K);return t||u(!1),t}function de(e){let t=i.useContext(H);return t||u(!1),t}function fe(e){let t=function(e){let t=i.useContext(Y);return t||u(!1),t}(),n=t.matches[t.matches.length-1];return n.route.id||u(!1),n.route.id}const pe={};s.startTransition;function me(e){let{to:t,replace:n,state:r,relative:s}=e;J()||u(!1);let{future:o,static:a}=i.useContext(W),{matches:c}=i.useContext(Y),{pathname:l}=X(),h=ee(),d=M(t,L(c,o.v7_relativeSplatPath),l,"path"===s),f=JSON.stringify(d);return i.useEffect((()=>h(JSON.parse(f),{replace:n,state:r,relative:s})),[h,f,s,n,r]),null}function ge(e){return function(e){let t=i.useContext(Y).outlet;return t?i.createElement(te.Provider,{value:e},t):t}(e.context)}function ve(e){u(!1)}function ye(e){let{basename:n="/",children:r=null,location:s,navigationType:o=t.Pop,navigator:a,static:c=!1,future:l}=e;J()&&u(!1);let h=n.replace(/^\/*/,"/"),d=i.useMemo((()=>({basename:h,navigator:a,static:c,future:G({v7_relativeSplatPath:!1},l)})),[h,l,a,c]);"string"===typeof s&&(s=m(s));let{pathname:f="/",search:p="",hash:g="",state:v=null,key:y="default"}=s,w=i.useMemo((()=>{let e=R(f,h);return null==e?null:{location:{pathname:e,search:p,hash:g,state:v,key:y},navigationType:o}}),[h,f,p,g,v,y,o]);return null==w?null:i.createElement(W.Provider,{value:d},i.createElement(Q.Provider,{children:r,value:w}))}function we(e){let{children:t,location:n}=e;return re(be(t),n)}new Promise((()=>{}));i.Component;function be(e,t){void 0===t&&(t=[]);let n=[];return i.Children.forEach(e,((e,r)=>{if(!i.isValidElement(e))return;let s=[...t,r];if(e.type===i.Fragment)return void n.push.apply(n,be(e.props.children,s));e.type!==ve&&u(!1),e.props.index&&e.props.children&&u(!1);let o={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=be(e.props.children,s)),n.push(o)})),n}function _e(){return _e=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_e.apply(this,arguments)}function Ee(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const Ie=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"];try{window.__reactRouterVersion="6"}catch(wF){}new Map;const Se=s.startTransition;a.flushSync,s.useId;function Te(e){let{basename:t,children:n,future:r,window:s}=e,o=i.useRef();var a;null==o.current&&(o.current=(void 0===(a={window:s,v5Compat:!0})&&(a={}),g((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return f("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:p(t)}),null,a)));let c=o.current,[l,u]=i.useState({action:c.action,location:c.location}),{v7_startTransition:h}=r||{},d=i.useCallback((e=>{h&&Se?Se((()=>u(e))):u(e)}),[u,h]);return i.useLayoutEffect((()=>c.listen(d)),[c,d]),i.createElement(ye,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:c,future:r})}const ke="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Ce=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xe=i.forwardRef((function(e,t){let n,{onClick:r,relative:s,reloadDocument:o,replace:a,state:c,target:l,to:h,preventScrollReset:d,unstable_viewTransition:f}=e,m=Ee(e,Ie),{basename:g}=i.useContext(W),v=!1;if("string"===typeof h&&Ce.test(h)&&(n=h,ke))try{let e=new URL(window.location.href),t=h.startsWith("//")?new URL(e.protocol+h):new URL(h),n=R(t.pathname,g);t.origin===e.origin&&null!=n?h=n+t.search+t.hash:v=!0}catch(wF){}let y=function(e,t){let{relative:n}=void 0===t?{}:t;J()||u(!1);let{basename:r,navigator:s}=i.useContext(W),{hash:o,pathname:a,search:c}=ne(e,{relative:n}),l=a;return"/"!==r&&(l="/"===a?r:F([r,a])),s.createHref({pathname:l,search:c,hash:o})}(h,{relative:s}),w=function(e,t){let{target:n,replace:r,state:s,preventScrollReset:o,relative:a,unstable_viewTransition:c}=void 0===t?{}:t,l=ee(),u=X(),h=ne(e,{relative:a});return i.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:p(u)===p(h);l(e,{replace:n,state:s,preventScrollReset:o,relative:a,unstable_viewTransition:c})}}),[u,l,h,r,s,n,e,o,a,c])}(h,{replace:a,state:c,target:l,preventScrollReset:d,relative:s,unstable_viewTransition:f});return i.createElement("a",_e({},m,{href:n||y,onClick:v||o?r:function(e){r&&r(e),e.defaultPrevented||w(e)},ref:t,target:l}))}));var Ne,Ae;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Ne||(Ne={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Ae||(Ae={}));function Pe(){return Pe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pe.apply(this,arguments)}function Re(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=Re(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}const De=function(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=Re(e))&&(r&&(r+=" "),r+=t);return r};var Oe={1:"one",2:"two",3:"three",4:"four",5:"five",6:"six",7:"seven",8:"eight",9:"nine",10:"ten",11:"eleven",12:"twelve",13:"thirteen",14:"fourteen",15:"fifteen",16:"sixteen"};function Le(e){var t=typeof e;return"string"===t||"number"===t?Oe[e]||e:""}var Me=function(e,t){return e&&t},Fe=function(e,t){return e&&!0!==e&&e+" "+t},Ue=function(e,t){return e&&(!0===e?t:e+" "+t)},je=function(e,t){return e&&!0!==e?e.replace("large screen","large-screen").replace(/ vertically/g,"-vertically").split(" ").map((function(e){return e.replace("-"," ")+" "+t})).join(" "):null},Ve=function(e){return"justified"===e?"justified":Fe(e,"aligned")},ze=function(e){return Fe(e,"aligned")},Be=function(e,t,n){if(void 0===t&&(t=""),void 0===n&&(n=!1),n&&"equal"===e)return"equal width";var r=typeof e;return"string"!==r&&"number"!==r||!t?Le(e):Le(e)+" "+t};const qe=function(e,t){var n=e.handledProps,r=void 0===n?[]:n;return Object.keys(t).reduce((function(e,n){return"childKey"===n||-1===r.indexOf(n)&&(e[n]=t[n]),e}),{})};const Ge=function(e,t,n){var r=e.defaultProps,i=void 0===r?{}:r;if(t.as&&t.as!==i.as)return t.as;if(n){var s=n();if(s)return s}return t.href?"a":i.as||"div"};const Ke=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1};const He=function(){this.__data__=[],this.size=0};const We=function(e,t){return e===t||e!==e&&t!==t};const Qe=function(e,t){for(var n=e.length;n--;)if(We(e[n][0],t))return n;return-1};var Ye=Array.prototype.splice;const $e=function(e){var t=this.__data__,n=Qe(t,e);return!(n<0)&&(n==t.length-1?t.pop():Ye.call(t,n,1),--this.size,!0)};const Je=function(e){var t=this.__data__,n=Qe(t,e);return n<0?void 0:t[n][1]};const Xe=function(e){return Qe(this.__data__,e)>-1};const Ze=function(e,t){var n=this.__data__,r=Qe(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function et(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}et.prototype.clear=He,et.prototype.delete=$e,et.prototype.get=Je,et.prototype.has=Xe,et.prototype.set=Ze;const tt=et;const nt=function(){this.__data__=new tt,this.size=0};const rt=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n};const it=function(e){return this.__data__.get(e)};const st=function(e){return this.__data__.has(e)};const ot="object"==typeof global&&global&&global.Object===Object&&global;var at="object"==typeof self&&self&&self.Object===Object&&self;const ct=ot||at||Function("return this")();const lt=ct.Symbol;var ut=Object.prototype,ht=ut.hasOwnProperty,dt=ut.toString,ft=lt?lt.toStringTag:void 0;const pt=function(e){var t=ht.call(e,ft),n=e[ft];try{e[ft]=void 0;var r=!0}catch(wF){}var i=dt.call(e);return r&&(t?e[ft]=n:delete e[ft]),i};var mt=Object.prototype.toString;const gt=function(e){return mt.call(e)};var vt=lt?lt.toStringTag:void 0;const yt=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":vt&&vt in Object(e)?pt(e):gt(e)};const wt=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};const bt=function(e){if(!wt(e))return!1;var t=yt(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t};const _t=ct["__core-js_shared__"];var Et=function(){var e=/[^.]+$/.exec(_t&&_t.keys&&_t.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();const It=function(e){return!!Et&&Et in e};var St=Function.prototype.toString;const Tt=function(e){if(null!=e){try{return St.call(e)}catch(wF){}try{return e+""}catch(wF){}}return""};var kt=/^\[object .+?Constructor\]$/,Ct=Function.prototype,xt=Object.prototype,Nt=Ct.toString,At=xt.hasOwnProperty,Pt=RegExp("^"+Nt.call(At).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const Rt=function(e){return!(!wt(e)||It(e))&&(bt(e)?Pt:kt).test(Tt(e))};const Dt=function(e,t){return null==e?void 0:e[t]};const Ot=function(e,t){var n=Dt(e,t);return Rt(n)?n:void 0};const Lt=Ot(ct,"Map");const Mt=Ot(Object,"create");const Ft=function(){this.__data__=Mt?Mt(null):{},this.size=0};const Ut=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t};var jt=Object.prototype.hasOwnProperty;const Vt=function(e){var t=this.__data__;if(Mt){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return jt.call(t,e)?t[e]:void 0};var zt=Object.prototype.hasOwnProperty;const Bt=function(e){var t=this.__data__;return Mt?void 0!==t[e]:zt.call(t,e)};const qt=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Mt&&void 0===t?"__lodash_hash_undefined__":t,this};function Gt(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Gt.prototype.clear=Ft,Gt.prototype.delete=Ut,Gt.prototype.get=Vt,Gt.prototype.has=Bt,Gt.prototype.set=qt;const Kt=Gt;const Ht=function(){this.size=0,this.__data__={hash:new Kt,map:new(Lt||tt),string:new Kt}};const Wt=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};const Qt=function(e,t){var n=e.__data__;return Wt(t)?n["string"==typeof t?"string":"hash"]:n.map};const Yt=function(e){var t=Qt(this,e).delete(e);return this.size-=t?1:0,t};const $t=function(e){return Qt(this,e).get(e)};const Jt=function(e){return Qt(this,e).has(e)};const Xt=function(e,t){var n=Qt(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function Zt(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Zt.prototype.clear=Ht,Zt.prototype.delete=Yt,Zt.prototype.get=$t,Zt.prototype.has=Jt,Zt.prototype.set=Xt;const en=Zt;const tn=function(e,t){var n=this.__data__;if(n instanceof tt){var r=n.__data__;if(!Lt||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new en(r)}return n.set(e,t),this.size=n.size,this};function nn(e){var t=this.__data__=new tt(e);this.size=t.size}nn.prototype.clear=nt,nn.prototype.delete=rt,nn.prototype.get=it,nn.prototype.has=st,nn.prototype.set=tn;const rn=nn;const sn=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this};const on=function(e){return this.__data__.has(e)};function an(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new en;++t<n;)this.add(e[t])}an.prototype.add=an.prototype.push=sn,an.prototype.has=on;const cn=an;const ln=function(e,t){return e.has(t)};const un=function(e,t,n,r,i,s){var o=1&n,a=e.length,c=t.length;if(a!=c&&!(o&&c>a))return!1;var l=s.get(e),u=s.get(t);if(l&&u)return l==t&&u==e;var h=-1,d=!0,f=2&n?new cn:void 0;for(s.set(e,t),s.set(t,e);++h<a;){var p=e[h],m=t[h];if(r)var g=o?r(m,p,h,t,e,s):r(p,m,h,e,t,s);if(void 0!==g){if(g)continue;d=!1;break}if(f){if(!Ke(t,(function(e,t){if(!ln(f,t)&&(p===e||i(p,e,n,r,s)))return f.push(t)}))){d=!1;break}}else if(p!==m&&!i(p,m,n,r,s)){d=!1;break}}return s.delete(e),s.delete(t),d};const hn=ct.Uint8Array;const dn=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n};const fn=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n};var pn=lt?lt.prototype:void 0,mn=pn?pn.valueOf:void 0;const gn=function(e,t,n,r,i,s,o){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!s(new hn(e),new hn(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return We(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var a=dn;case"[object Set]":var c=1&r;if(a||(a=fn),e.size!=t.size&&!c)return!1;var l=o.get(e);if(l)return l==t;r|=2,o.set(e,t);var u=un(a(e),a(t),r,i,s,o);return o.delete(e),u;case"[object Symbol]":if(mn)return mn.call(e)==mn.call(t)}return!1};const vn=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e};const yn=Array.isArray;const wn=function(e,t,n){var r=t(e);return yn(e)?r:vn(r,n(e))};const bn=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,s=[];++n<r;){var o=e[n];t(o,n,e)&&(s[i++]=o)}return s};const _n=function(){return[]};var En=Object.prototype.propertyIsEnumerable,In=Object.getOwnPropertySymbols;const Sn=In?function(e){return null==e?[]:(e=Object(e),bn(In(e),(function(t){return En.call(e,t)})))}:_n;const Tn=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r};const kn=function(e){return null!=e&&"object"==typeof e};const Cn=function(e){return kn(e)&&"[object Arguments]"==yt(e)};var xn=Object.prototype,Nn=xn.hasOwnProperty,An=xn.propertyIsEnumerable;const Pn=Cn(function(){return arguments}())?Cn:function(e){return kn(e)&&Nn.call(e,"callee")&&!An.call(e,"callee")};const Rn=function(){return!1};var Dn="object"==typeof exports&&exports&&!exports.nodeType&&exports,On=Dn&&"object"==typeof module&&module&&!module.nodeType&&module,Ln=On&&On.exports===Dn?ct.Buffer:void 0;const Mn=(Ln?Ln.isBuffer:void 0)||Rn;var Fn=/^(?:0|[1-9]\d*)$/;const Un=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&Fn.test(e))&&e>-1&&e%1==0&&e<t};const jn=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991};var Vn={};Vn["[object Float32Array]"]=Vn["[object Float64Array]"]=Vn["[object Int8Array]"]=Vn["[object Int16Array]"]=Vn["[object Int32Array]"]=Vn["[object Uint8Array]"]=Vn["[object Uint8ClampedArray]"]=Vn["[object Uint16Array]"]=Vn["[object Uint32Array]"]=!0,Vn["[object Arguments]"]=Vn["[object Array]"]=Vn["[object ArrayBuffer]"]=Vn["[object Boolean]"]=Vn["[object DataView]"]=Vn["[object Date]"]=Vn["[object Error]"]=Vn["[object Function]"]=Vn["[object Map]"]=Vn["[object Number]"]=Vn["[object Object]"]=Vn["[object RegExp]"]=Vn["[object Set]"]=Vn["[object String]"]=Vn["[object WeakMap]"]=!1;const zn=function(e){return kn(e)&&jn(e.length)&&!!Vn[yt(e)]};const Bn=function(e){return function(t){return e(t)}};var qn="object"==typeof exports&&exports&&!exports.nodeType&&exports,Gn=qn&&"object"==typeof module&&module&&!module.nodeType&&module,Kn=Gn&&Gn.exports===qn&&ot.process,Hn=function(){try{var e=Gn&&Gn.require&&Gn.require("util").types;return e||Kn&&Kn.binding&&Kn.binding("util")}catch(wF){}}();var Wn=Hn&&Hn.isTypedArray;const Qn=Wn?Bn(Wn):zn;var Yn=Object.prototype.hasOwnProperty;const $n=function(e,t){var n=yn(e),r=!n&&Pn(e),i=!n&&!r&&Mn(e),s=!n&&!r&&!i&&Qn(e),o=n||r||i||s,a=o?Tn(e.length,String):[],c=a.length;for(var l in e)!t&&!Yn.call(e,l)||o&&("length"==l||i&&("offset"==l||"parent"==l)||s&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||Un(l,c))||a.push(l);return a};var Jn=Object.prototype;const Xn=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Jn)};const Zn=function(e,t){return function(n){return e(t(n))}};const er=Zn(Object.keys,Object);var tr=Object.prototype.hasOwnProperty;const nr=function(e){if(!Xn(e))return er(e);var t=[];for(var n in Object(e))tr.call(e,n)&&"constructor"!=n&&t.push(n);return t};const rr=function(e){return null!=e&&jn(e.length)&&!bt(e)};const ir=function(e){return rr(e)?$n(e):nr(e)};const sr=function(e){return wn(e,ir,Sn)};var or=Object.prototype.hasOwnProperty;const ar=function(e,t,n,r,i,s){var o=1&n,a=sr(e),c=a.length;if(c!=sr(t).length&&!o)return!1;for(var l=c;l--;){var u=a[l];if(!(o?u in t:or.call(t,u)))return!1}var h=s.get(e),d=s.get(t);if(h&&d)return h==t&&d==e;var f=!0;s.set(e,t),s.set(t,e);for(var p=o;++l<c;){var m=e[u=a[l]],g=t[u];if(r)var v=o?r(g,m,u,t,e,s):r(m,g,u,e,t,s);if(!(void 0===v?m===g||i(m,g,n,r,s):v)){f=!1;break}p||(p="constructor"==u)}if(f&&!p){var y=e.constructor,w=t.constructor;y==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof w&&w instanceof w||(f=!1)}return s.delete(e),s.delete(t),f};const cr=Ot(ct,"DataView");const lr=Ot(ct,"Promise");const ur=Ot(ct,"Set");const hr=Ot(ct,"WeakMap");var dr="[object Map]",fr="[object Promise]",pr="[object Set]",mr="[object WeakMap]",gr="[object DataView]",vr=Tt(cr),yr=Tt(Lt),wr=Tt(lr),br=Tt(ur),_r=Tt(hr),Er=yt;(cr&&Er(new cr(new ArrayBuffer(1)))!=gr||Lt&&Er(new Lt)!=dr||lr&&Er(lr.resolve())!=fr||ur&&Er(new ur)!=pr||hr&&Er(new hr)!=mr)&&(Er=function(e){var t=yt(e),n="[object Object]"==t?e.constructor:void 0,r=n?Tt(n):"";if(r)switch(r){case vr:return gr;case yr:return dr;case wr:return fr;case br:return pr;case _r:return mr}return t});const Ir=Er;var Sr="[object Arguments]",Tr="[object Array]",kr="[object Object]",Cr=Object.prototype.hasOwnProperty;const xr=function(e,t,n,r,i,s){var o=yn(e),a=yn(t),c=o?Tr:Ir(e),l=a?Tr:Ir(t),u=(c=c==Sr?kr:c)==kr,h=(l=l==Sr?kr:l)==kr,d=c==l;if(d&&Mn(e)){if(!Mn(t))return!1;o=!0,u=!1}if(d&&!u)return s||(s=new rn),o||Qn(e)?un(e,t,n,r,i,s):gn(e,t,c,n,r,i,s);if(!(1&n)){var f=u&&Cr.call(e,"__wrapped__"),p=h&&Cr.call(t,"__wrapped__");if(f||p){var m=f?e.value():e,g=p?t.value():t;return s||(s=new rn),i(m,g,n,r,s)}}return!!d&&(s||(s=new rn),ar(e,t,n,r,i,s))};const Nr=function e(t,n,r,i,s){return t===n||(null==t||null==n||!kn(t)&&!kn(n)?t!==t&&n!==n:xr(t,n,r,i,e,s))};const Ar=function(e,t,n,r){var i=n.length,s=i,o=!r;if(null==e)return!s;for(e=Object(e);i--;){var a=n[i];if(o&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++i<s;){var c=(a=n[i])[0],l=e[c],u=a[1];if(o&&a[2]){if(void 0===l&&!(c in e))return!1}else{var h=new rn;if(r)var d=r(l,u,c,e,t,h);if(!(void 0===d?Nr(u,l,3,r,h):d))return!1}}return!0};const Pr=function(e){return e===e&&!wt(e)};const Rr=function(e){for(var t=ir(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,Pr(i)]}return t};const Dr=function(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in Object(n)))}};const Or=function(e){var t=Rr(e);return 1==t.length&&t[0][2]?Dr(t[0][0],t[0][1]):function(n){return n===e||Ar(n,e,t)}};const Lr=function(e){return"symbol"==typeof e||kn(e)&&"[object Symbol]"==yt(e)};var Mr=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Fr=/^\w*$/;const Ur=function(e,t){if(yn(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Lr(e))||(Fr.test(e)||!Mr.test(e)||null!=t&&e in Object(t))};function jr(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=e.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(jr.Cache||en),n}jr.Cache=en;const Vr=jr;var zr=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Br=/\\(\\)?/g;const qr=function(e){var t=Vr(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(zr,(function(e,n,r,i){t.push(r?i.replace(Br,"$1"):n||e)})),t}));const Gr=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i};var Kr=lt?lt.prototype:void 0,Hr=Kr?Kr.toString:void 0;const Wr=function e(t){if("string"==typeof t)return t;if(yn(t))return Gr(t,e)+"";if(Lr(t))return Hr?Hr.call(t):"";var n=t+"";return"0"==n&&1/t==-1/0?"-0":n};const Qr=function(e){return null==e?"":Wr(e)};const Yr=function(e,t){return yn(e)?e:Ur(e,t)?[e]:qr(Qr(e))};const $r=function(e){if("string"==typeof e||Lr(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t};const Jr=function(e,t){for(var n=0,r=(t=Yr(t,e)).length;null!=e&&n<r;)e=e[$r(t[n++])];return n&&n==r?e:void 0};const Xr=function(e,t,n){var r=null==e?void 0:Jr(e,t);return void 0===r?n:r};const Zr=function(e,t){return null!=e&&t in Object(e)};const ei=function(e,t,n){for(var r=-1,i=(t=Yr(t,e)).length,s=!1;++r<i;){var o=$r(t[r]);if(!(s=null!=e&&n(e,o)))break;e=e[o]}return s||++r!=i?s:!!(i=null==e?0:e.length)&&jn(i)&&Un(o,i)&&(yn(e)||Pn(e))};const ti=function(e,t){return null!=e&&ei(e,t,Zr)};const ni=function(e,t){return Ur(e)&&Pr(t)?Dr($r(e),t):function(n){var r=Xr(n,e);return void 0===r&&r===t?ti(n,e):Nr(t,r,3)}};const ri=function(e){return e};const ii=function(e){return function(t){return null==t?void 0:t[e]}};const si=function(e){return function(t){return Jr(t,e)}};const oi=function(e){return Ur(e)?ii($r(e)):si(e)};const ai=function(e){return"function"==typeof e?e:null==e?ri:"object"==typeof e?yn(e)?ni(e[0],e[1]):Or(e):oi(e)};const ci=function(e){return function(t,n,r){for(var i=-1,s=Object(t),o=r(t),a=o.length;a--;){var c=o[e?a:++i];if(!1===n(s[c],c,s))break}return t}}();const li=function(e,t){return function(n,r){if(null==n)return n;if(!rr(n))return e(n,r);for(var i=n.length,s=t?i:-1,o=Object(n);(t?s--:++s<i)&&!1!==r(o[s],s,o););return n}};const ui=li((function(e,t){return e&&ci(e,t,ir)}));const hi=function(e,t){var n;return ui(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n};const di=function(e,t,n){if(!wt(n))return!1;var r=typeof t;return!!("number"==r?rr(n)&&Un(t,n.length):"string"==r&&t in n)&&We(n[t],e)};const fi=function(e,t,n){var r=yn(e)?Ke:hi;return n&&di(e,t,n)&&(t=void 0),r(e,ai(t,3))};var pi=function(e){return null===e||void 0===e||Array.isArray(e)&&0===e.length};function mi(e){var t=e.children,n=e.className,r=e.content,s=e.fluid,o=e.text,a=e.textAlign,c=De("ui",Me(o,"text"),Me(s,"fluid"),Ve(a),"container",n),l=qe(mi,e),u=Ge(mi,e);return i.createElement(u,Pe({},l,{className:c}),pi(t)?r:t)}mi.handledProps=["as","children","className","content","fluid","text","textAlign"],mi.propTypes={};const gi=mi;const vi=function(e,t,n,r){for(var i=e.length,s=n+(r?1:-1);r?s--:++s<i;)if(t(e[s],s,e))return s;return-1};const yi=function(e){return e!==e};const wi=function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1};const bi=function(e,t,n){return t===t?wi(e,t,n):vi(e,yi,n)};const _i=function(e,t){return!!(null==e?0:e.length)&&bi(e,t,0)>-1};const Ei=function(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1};const Ii=function(){};var Si=ur&&1/fn(new ur([,-0]))[1]==1/0?function(e){return new ur(e)}:Ii;const Ti=Si;const ki=function(e,t,n){var r=-1,i=_i,s=e.length,o=!0,a=[],c=a;if(n)o=!1,i=Ei;else if(s>=200){var l=t?null:Ti(e);if(l)return fn(l);o=!1,i=ln,c=new cn}else c=t?[]:a;e:for(;++r<s;){var u=e[r],h=t?t(u):u;if(u=n||0!==u?u:0,o&&h===h){for(var d=c.length;d--;)if(c[d]===h)continue e;t&&c.push(h),a.push(u)}else i(c,h,n)||(c!==a&&c.push(h),a.push(u))}return a};const Ci=function(e){return e&&e.length?ki(e):[]};const xi=Zn(Object.getPrototypeOf,Object);var Ni=Function.prototype,Ai=Object.prototype,Pi=Ni.toString,Ri=Ai.hasOwnProperty,Di=Pi.call(Object);const Oi=function(e){if(!kn(e)||"[object Object]"!=yt(e))return!1;var t=xi(e);if(null===t)return!0;var n=Ri.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Pi.call(n)==Di};const Li=function(e){return"number"==typeof e||kn(e)&&"[object Number]"==yt(e)};const Mi=function(e){return"string"==typeof e||!yn(e)&&kn(e)&&"[object String]"==yt(e)};const Fi=function(e){return!0===e||!1===e||kn(e)&&"[object Boolean]"==yt(e)};const Ui=function(e){return null==e};function ji(e,t,n,r){if(void 0===r&&(r={}),"function"!==typeof e&&"string"!==typeof e)throw new Error("createShorthand() Component must be a string or function.");if(Ui(n)||Fi(n))return null;var s=Mi(n),o=Li(n),a=bt(n),c=i.isValidElement(n),l=Oi(n),u=s||o||yn(n);if(!a&&!c&&!l&&!u)return null;var h=r.defaultProps,d=void 0===h?{}:h,f=c&&n.props||l&&n||u&&t(n),p=r.overrideProps,m=void 0===p?{}:p;m=bt(m)?m(Pe({},d,f)):m;var g=Pe({},d,f,m);if(d.className||m.className||f.className){var v=De(d.className,m.className,f.className);g.className=Ci(v.split(" ")).join(" ")}if((d.style||m.style||f.style)&&(g.style=Pe({},d.style,f.style,m.style)),Ui(g.key)){var y=g.childKey,w=r.autoGenerateKey,b=void 0===w||w;Ui(y)?b&&(s||o)&&(g.key=n):(g.key="function"===typeof y?y(g):y,delete g.childKey)}return c?i.cloneElement(n,g):"function"===typeof g.children?g.children(e,Pe({},g,{children:void 0})):u||l?i.createElement(e,g):a?n(e,g,g.children):void 0}function Vi(e,t){if("function"!==typeof e&&"string"!==typeof e)throw new Error("createShorthandFactory() Component must be a string or function.");return function(n,r){return ji(e,t,n,r)}}var zi=Vi("img",(function(e){return{src:e}})),Bi=Vi("input",(function(e){return{type:e}})),qi=Vi("label",(function(e){return{children:e}})),Gi=Vi("p",(function(e){return{children:e}}));function Ki(e){var t=e.children,n=e.className,r=e.computer,s=e.color,o=e.floated,a=e.largeScreen,c=e.mobile,l=e.only,u=e.stretched,h=e.tablet,d=e.textAlign,f=e.verticalAlign,p=e.widescreen,m=e.width,g=De(s,Me(u,"stretched"),je(l,"only"),Ve(d),Fe(o,"floated"),ze(f),Be(r,"wide computer"),Be(a,"wide large screen"),Be(c,"wide mobile"),Be(h,"wide tablet"),Be(p,"wide widescreen"),Be(m,"wide"),"column",n),v=qe(Ki,e),y=Ge(Ki,e);return i.createElement(y,Pe({},v,{className:g}),t)}Ki.handledProps=["as","children","className","color","computer","floated","largeScreen","mobile","only","stretched","tablet","textAlign","verticalAlign","widescreen","width"],Ki.propTypes={},Ki.create=Vi(Ki,(function(e){return{children:e}}));const Hi=Ki;function Wi(e){var t=e.centered,n=e.children,r=e.className,s=e.color,o=e.columns,a=e.divided,c=e.only,l=e.reversed,u=e.stretched,h=e.textAlign,d=e.verticalAlign,f=De(s,Me(t,"centered"),Me(a,"divided"),Me(u,"stretched"),je(c,"only"),je(l,"reversed"),Ve(h),ze(d),Be(o,"column",!0),"row",r),p=qe(Wi,e),m=Ge(Wi,e);return i.createElement(m,Pe({},p,{className:f}),n)}Wi.handledProps=["as","centered","children","className","color","columns","divided","only","reversed","stretched","textAlign","verticalAlign"],Wi.propTypes={};const Qi=Wi;function Yi(e){var t=e.celled,n=e.centered,r=e.children,s=e.className,o=e.columns,a=e.container,c=e.divided,l=e.doubling,u=e.inverted,h=e.padded,d=e.relaxed,f=e.reversed,p=e.stackable,m=e.stretched,g=e.textAlign,v=e.verticalAlign,y=De("ui",Me(n,"centered"),Me(a,"container"),Me(l,"doubling"),Me(u,"inverted"),Me(p,"stackable"),Me(m,"stretched"),Ue(t,"celled"),Ue(c,"divided"),Ue(h,"padded"),Ue(d,"relaxed"),je(f,"reversed"),Ve(g),ze(v),Be(o,"column",!0),"grid",s),w=qe(Yi,e),b=Ge(Yi,e);return i.createElement(b,Pe({},w,{className:y}),r)}Yi.handledProps=["as","celled","centered","children","className","columns","container","divided","doubling","inverted","padded","relaxed","reversed","stackable","stretched","textAlign","verticalAlign"],Yi.Column=Hi,Yi.Row=Qi,Yi.propTypes={};const $i=Yi,Ji=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Xi={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,o=s?e[i+1]:0,a=i+2<e.length,c=a?e[i+2]:0,l=t>>2,u=(3&t)<<4|o>>4;let h=(15&o)<<2|c>>6,d=63&c;a||(d=64,s||(h=64)),r.push(n[l],n[u],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Ji(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const o=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==o||null==a)throw new Zi;const c=t<<2|s>>4;if(r.push(c),64!==o){const e=s<<4&240|o>>2;if(r.push(e),64!==a){const e=o<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Zi extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const es=function(e){return function(e){const t=Ji(e);return Xi.encodeByteArray(t,!0)}(e).replace(/\./g,"")},ts=function(e){try{return Xi.decodeString(e,!0)}catch(wF){console.error("base64Decode failed: ",wF)}return null};function ns(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=ns(e[n],t[n]));return e}const rs=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,is=()=>{try{return rs()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(wF){return}const t=e&&ts(e[1]);return t&&JSON.parse(t)})()}catch(wF){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(wF))}},ss=()=>{var e;return null===(e=is())||void 0===e?void 0:e.config};class os{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function as(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[es(JSON.stringify({alg:"none",type:"JWT"})),es(JSON.stringify(s)),""].join(".")}function cs(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function ls(){var e;const t=null===(e=is())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(wF){return!1}}function us(){return"object"===typeof self&&self.self===self}function hs(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function ds(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function fs(){const e=cs();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function ps(){return!ls()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ms(){try{return"object"===typeof indexedDB}catch(wF){return!1}}class gs extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,gs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vs.prototype.create)}}class vs{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(ys,((e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",s="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new gs(n,s,t)}}const ys=/\{\$([^}]+)}/g;function ws(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function bs(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(_s(n)&&_s(s)){if(!bs(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function _s(e){return null!==e&&"object"===typeof e}function Es(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Is(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function Ss(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function Ts(e,t){const n=new ks(e,t);return n.subscribe.bind(n)}class ks{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=Cs),void 0===r.error&&(r.error=Cs),void 0===r.complete&&(r.complete=Cs);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(wF){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(wF){"undefined"!==typeof console&&console.error&&console.error(wF)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function Cs(){}function xs(e){return e&&e._delegate?e._delegate:e}class Ns{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const As="[DEFAULT]";class Ps{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new os;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(wF){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(wF){if(r)return null;throw wF}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:As})}catch(wF){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(wF){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:As;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:As;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:As;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===As?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(s){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:As;return this.component?this.component.multipleInstances?e:As:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Rs{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Ps(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Ds=[];var Os;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Os||(Os={}));const Ls={debug:Os.DEBUG,verbose:Os.VERBOSE,info:Os.INFO,warn:Os.WARN,error:Os.ERROR,silent:Os.SILENT},Ms=Os.INFO,Fs={[Os.DEBUG]:"log",[Os.VERBOSE]:"log",[Os.INFO]:"info",[Os.WARN]:"warn",[Os.ERROR]:"error"},Us=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=Fs[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,s=new Array(i>2?i-2:0),o=2;o<i;o++)s[o-2]=arguments[o];console[r]("[".concat(n,"]  ").concat(e.name,":"),...s)};class js{constructor(e){this.name=e,this._logLevel=Ms,this._logHandler=Us,this._userLogHandler=null,Ds.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Os))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?Ls[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Os.DEBUG,...t),this._logHandler(this,Os.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Os.VERBOSE,...t),this._logHandler(this,Os.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Os.INFO,...t),this._logHandler(this,Os.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Os.WARN,...t),this._logHandler(this,Os.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Os.ERROR,...t),this._logHandler(this,Os.ERROR,...t)}}const Vs=(e,t)=>t.some((t=>e instanceof t));let zs,Bs;const qs=new WeakMap,Gs=new WeakMap,Ks=new WeakMap,Hs=new WeakMap,Ws=new WeakMap;let Qs={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Gs.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Ks.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Js(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Ys(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Bs||(Bs=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Xs(this),n),Js(qs.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Js(e.apply(Xs(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(Xs(this),t,...r);return Ks.set(s,t.sort?t.sort():[t]),Js(s)}}function $s(e){return"function"===typeof e?Ys(e):(e instanceof IDBTransaction&&function(e){if(Gs.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)}));Gs.set(e,t)}(e),Vs(e,zs||(zs=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Qs):e)}function Js(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(Js(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)}));return t.then((t=>{t instanceof IDBCursor&&qs.set(t,e)})).catch((()=>{})),Ws.set(t,e),t}(e);if(Hs.has(e))return Hs.get(e);const t=$s(e);return t!==e&&(Hs.set(e,t),Ws.set(t,e)),t}const Xs=e=>Ws.get(e);const Zs=["get","getKey","getAll","getAllKeys","count"],eo=["put","add","delete","clear"],to=new Map;function no(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(to.get(t))return to.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=eo.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Zs.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var o=arguments.length,a=new Array(o>1?o-1:0),c=1;c<o;c++)a[c-1]=arguments[c];return r&&(s=s.index(a.shift())),(await Promise.all([s[n](...a),i&&t.done]))[0]};return to.set(t,s),s}Qs=(e=>({...e,get:(t,n,r)=>no(t,n)||e.get(t,n,r),has:(t,n)=>!!no(t,n)||e.has(t,n)}))(Qs);class ro{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((e=>e)).join(" ")}}const io="@firebase/app",so="0.10.0",oo=new js("@firebase/app"),ao="[DEFAULT]",co={[io]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},lo=new Map,uo=new Map,ho=new Map;function fo(e,t){try{e.container.addComponent(t)}catch(wF){oo.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),wF)}}function po(e,t){e.container.addOrOverwriteComponent(t)}function mo(e){const t=e.name;if(ho.has(t))return oo.debug("There were multiple attempts to register component ".concat(t,".")),!1;ho.set(t,e);for(const n of lo.values())fo(n,e);for(const n of uo.values())fo(n,e);return!0}function go(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function vo(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ao;go(e,t).clearInstance(n)}function yo(e){return void 0!==e.options}function wo(e){return void 0!==e.settings}function bo(){ho.clear()}const _o=new vs("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Eo{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Ns("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw _o.create("app-deleted",{appName:this._name})}}class Io extends Eo{constructor(e,t,n,r){const i=void 0!==t.automaticDataCollectionEnabled&&t.automaticDataCollectionEnabled,s={name:n,automaticDataCollectionEnabled:i};if(void 0!==e.apiKey)super(e,s,r);else{super(e.options,s,r)}this._serverConfig=Object.assign({automaticDataCollectionEnabled:i},t),this._finalizationRegistry=new FinalizationRegistry((()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,t.releaseOnDeref=void 0,Ao(io,so,"serverapp")}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,void 0!==e&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){No(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw _o.create("server-app-deleted")}}const So="10.10.0";function To(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:ao,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw _o.create("bad-app-name",{appName:String(i)});if(n||(n=ss()),!n)throw _o.create("no-options");const s=lo.get(i);if(s){if(bs(n,s.options)&&bs(r,s.config))return s;throw _o.create("duplicate-app",{appName:i})}const o=new Rs(i);for(const c of ho.values())o.addComponent(c);const a=new Eo(n,r,o);return lo.set(i,a),a}function ko(e,t){if(us())throw _o.create("invalid-server-app-environment");let n;void 0===t.automaticDataCollectionEnabled&&(t.automaticDataCollectionEnabled=!1),n=yo(e)?e.options:e;const r=Object.assign(Object.assign({},t),n);void 0!==r.releaseOnDeref&&delete r.releaseOnDeref;if(void 0!==t.releaseOnDeref&&"undefined"===typeof FinalizationRegistry)throw _o.create("finalization-registry-not-supported",{});const i=""+(s=JSON.stringify(r),[...s].reduce(((e,t)=>Math.imul(31,e)+t.charCodeAt(0)|0),0));var s;const o=uo.get(i);if(o)return o.incRefCount(t.releaseOnDeref),o;const a=new Rs(i);for(const l of ho.values())a.addComponent(l);const c=new Io(n,t,i,a);return uo.set(i,c),c}function Co(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ao;const t=lo.get(e);if(!t&&e===ao&&ss())return To();if(!t)throw _o.create("no-app",{appName:e});return t}function xo(){return Array.from(lo.values())}async function No(e){let t=!1;const n=e.name;if(lo.has(n))t=!0,lo.delete(n);else if(uo.has(n)){e.decRefCount()<=0&&(uo.delete(n),t=!0)}t&&(await Promise.all(e.container.getProviders().map((e=>e.delete()))),e.isDeleted=!0)}function Ao(e,t,n){var r;let i=null!==(r=co[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return s&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),s&&o&&e.push("and"),o&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void oo.warn(e.join(" "))}mo(new Ns("".concat(i,"-version"),(()=>({library:i,version:t})),"VERSION"))}function Po(e,t){if(null!==e&&"function"!==typeof e)throw _o.create("invalid-log-argument");!function(e,t){for(const n of Ds){let r=null;t&&t.level&&(r=Ls[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=arguments.length,s=new Array(i>2?i-2:0),o=2;o<i;o++)s[o-2]=arguments[o];const a=s.map((e=>{if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((e=>e)).join(" ");n>=(null!==r&&void 0!==r?r:t.logLevel)&&e({level:Os[n].toLowerCase(),message:a,args:s,type:t.name})}}}(e,t)}function Ro(e){var t;t=e,Ds.forEach((e=>{e.setLogLevel(t)}))}const Do="firebase-heartbeat-database",Oo=1,Lo="firebase-heartbeat-store";let Mo=null;function Fo(){return Mo||(Mo=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=indexedDB.open(e,t),a=Js(o);return r&&o.addEventListener("upgradeneeded",(e=>{r(Js(o.result),e.oldVersion,e.newVersion,Js(o.transaction),e)})),n&&o.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{s&&e.addEventListener("close",(()=>s())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}(Do,Oo,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(Lo)}catch(wF){console.warn(wF)}}}).catch((e=>{throw _o.create("idb-open",{originalErrorMessage:e.message})}))),Mo}async function Uo(e,t){try{const n=(await Fo()).transaction(Lo,"readwrite"),r=n.objectStore(Lo);await r.put(t,jo(e)),await n.done}catch(wF){if(wF instanceof gs)oo.warn(wF.message);else{const t=_o.create("idb-set",{originalErrorMessage:null===wF||void 0===wF?void 0:wF.message});oo.warn(t.message)}}}function jo(e){return"".concat(e.name,"!").concat(e.options.appId)}class Vo{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Bo(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=zo();if((null!=(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||(this._heartbeatsCache=await this._heartbeatsCachePromise,null!=(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))&&this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=zo(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),qo(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),qo(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=es(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function zo(){return(new Date).toISOString().substring(0,10)}class Bo{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!ms()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await Fo()).transaction(Lo),n=await t.objectStore(Lo).get(jo(e));return await t.done,n}catch(wF){if(wF instanceof gs)oo.warn(wF.message);else{const t=_o.create("idb-get",{originalErrorMessage:null===wF||void 0===wF?void 0:wF.message});oo.warn(t.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Uo(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Uo(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function qo(e){return es(JSON.stringify({version:2,heartbeats:e})).length}var Go;Go="",mo(new Ns("platform-logger",(e=>new ro(e)),"PRIVATE")),mo(new Ns("heartbeat",(e=>new Vo(e)),"PRIVATE")),Ao(io,so,Go),Ao(io,so,"esm2017"),Ao("fire-js","");class Ko{constructor(e,t){this._delegate=e,this.firebase=t,fo(e,new Ns("app-compat",(()=>this),"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise((e=>{this._delegate.checkDestroyed(),e()})).then((()=>(this.firebase.INTERNAL.removeApp(this.name),No(this._delegate))))}_getService(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ao;var n;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ao;this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){fo(this._delegate,e)}_addOrOverwriteComponent(e){po(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ho=new vs("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."});const Wo=function t(){const n=function(t){const n={},r={__esModule:!0,initializeApp:function(e){const i=To(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(ws(n,i.name))return n[i.name];const s=new t(i,r);return n[i.name]=s,s},app:i,registerVersion:Ao,setLogLevel:Ro,onLog:Po,apps:null,SDK_VERSION:So,INTERNAL:{registerComponent:function(e){const n=e.name,s=n.replace("-compat","");if(mo(e)&&"PUBLIC"===e.type){const o=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[s])throw Ho.create("invalid-app-argument",{appName:n});return e[s]()};void 0!==e.serviceProps&&ns(o,e.serviceProps),r[s]=o,t.prototype[s]=function(){const t=this._getService.bind(this,n);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[s]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!ws(n,e=e||ao))throw Ho.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((e=>n[e]))}}),i.App=t,r}(Ko);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){ns(n,e)},createSubscribe:Ts,ErrorFactory:vs,deepExtend:ns}),n}(),Qo=new js("@firebase/app-compat");if(us()&&void 0!==self.firebase){Qo.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const e=self.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&Qo.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Yo=Wo;!function(e){Ao("@firebase/app-compat","0.2.30",e)}();Yo.registerVersion("firebase","10.10.0","app-compat");Yo.initializeApp({apiKey:"AIzaSyCP-EuwOzUHgrWyjPstI6hTSCesDmTv_6s",authDomain:"social-web-14759.firebaseapp.com",projectId:"social-web-14759",storageBucket:"social-web-14759.appspot.com",messagingSenderId:"459529135700",appId:"1:459529135700:web:6f9c9b586f0e300abe2fc1"});const $o=Yo;function Jo(e,t){return Jo=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Jo(e,t)}function Xo(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Jo(e,t)}const Zo=function(e,t){var n=-1,r=rr(e)?Array(e.length):[];return ui(e,(function(e,i,s){r[++n]=t(e,i,s)})),r};const ea=function(e,t){return(yn(e)?Gr:Zo)(e,ai(t,3))};const ta=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)};const na=function(e){var t=null==e?0:e.length;return t?e[t-1]:void 0};const ra=function(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(n=n>i?i:n)<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var s=Array(i);++r<i;)s[r]=e[r+t];return s};const ia=function(e,t){return t.length<2?e:Jr(e,ra(t,0,-1))};const sa=function(e,t,n){t=Yr(t,e);var r=null==(e=ia(e,t))?e:e[$r(na(t))];return null==r?void 0:ta(r,e,n)};var oa=Math.max;const aa=function(e,t,n){return t=oa(void 0===t?e.length-1:t,0),function(){for(var r=arguments,i=-1,s=oa(r.length-t,0),o=Array(s);++i<s;)o[i]=r[t+i];i=-1;for(var a=Array(t+1);++i<t;)a[i]=r[i];return a[t]=n(o),ta(e,this,a)}};const ca=function(e){return function(){return e}};const la=function(){try{var e=Ot(Object,"defineProperty");return e({},"",{}),e}catch(wF){}}();const ua=la?function(e,t){return la(e,"toString",{configurable:!0,enumerable:!1,value:ca(t),writable:!0})}:ri;var ha=Date.now;const da=function(e){var t=0,n=0;return function(){var r=ha(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}};const fa=da(ua);const pa=function(e,t){return fa(aa(e,t,ri),e+"")};const ma=pa(sa);const ga=function(e){return void 0===e};var va=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var s=(t=e.call.apply(e,[this].concat(r))||this).constructor,o=s.autoControlledProps,a=s.getAutoControlledStateFromProps,c=ma(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t),"getInitialAutoControlledState",t.props)||{},l=o.reduce((function(e,n){return e[n]=function(e,t,n,r){void 0===r&&(r=!1);var i,s=t[e];if(void 0!==s)return s;if(r){var o=t[(i=e,"default"+(i[0].toUpperCase()+i.slice(1)))];if(void 0!==o)return o;if(n){var a=n[e];if(void 0!==a)return a}}return"checked"!==e&&("value"===e?t.multiple?[]:"":void 0)}(n,t.props,c,!0),e}),{});return t.state=Pe({},c,l,{autoControlledProps:o,getAutoControlledStateFromProps:a}),t}return Xo(t,e),t.getDerivedStateFromProps=function(e,t){var n=t.autoControlledProps,r=t.getAutoControlledStateFromProps,i=n.reduce((function(t,n){return!ga(e[n])&&(t[n]=e[n]),t}),{});if(r){var s=r(e,Pe({},t,i),t);return Pe({},i,s)}return i},t.getAutoControlledStateFromProps=function(){return null},t}(i.Component);function ya(e){var t=e.children,n=e.className,r=e.content,s=De("header",n),o=qe(ya,e),a=Ge(ya,e);return i.createElement(a,Pe({},o,{className:s}),pi(t)?r:t)}ya.handledProps=["as","children","className","content"],ya.propTypes={};const wa=ya;const ba=function(e,t,n,r){var i=-1,s=null==e?0:e.length;for(r&&s&&(n=e[++i]);++i<s;)n=t(n,e[i],i,e);return n};const _a=function(e){return function(t){return null==e?void 0:e[t]}}({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"});var Ea=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ia=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");const Sa=function(e){return(e=Qr(e))&&e.replace(Ea,_a).replace(Ia,"")};var Ta=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;const ka=function(e){return e.match(Ta)||[]};var Ca=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;const xa=function(e){return Ca.test(e)};var Na="\\ud800-\\udfff",Aa="\\u2700-\\u27bf",Pa="a-z\\xdf-\\xf6\\xf8-\\xff",Ra="A-Z\\xc0-\\xd6\\xd8-\\xde",Da="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Oa="["+Da+"]",La="\\d+",Ma="["+Aa+"]",Fa="["+Pa+"]",Ua="[^"+Na+Da+La+Aa+Pa+Ra+"]",ja="(?:\\ud83c[\\udde6-\\uddff]){2}",Va="[\\ud800-\\udbff][\\udc00-\\udfff]",za="["+Ra+"]",Ba="(?:"+Fa+"|"+Ua+")",qa="(?:"+za+"|"+Ua+")",Ga="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Ka="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",Ha="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",Wa="[\\ufe0e\\ufe0f]?",Qa=Wa+Ha+("(?:\\u200d(?:"+["[^"+Na+"]",ja,Va].join("|")+")"+Wa+Ha+")*"),Ya="(?:"+[Ma,ja,Va].join("|")+")"+Qa,$a=RegExp([za+"?"+Fa+"+"+Ga+"(?="+[Oa,za,"$"].join("|")+")",qa+"+"+Ka+"(?="+[Oa,za+Ba,"$"].join("|")+")",za+"?"+Ba+"+"+Ga,za+"+"+Ka,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",La,Ya].join("|"),"g");const Ja=function(e){return e.match($a)||[]};const Xa=function(e,t,n){return e=Qr(e),void 0===(t=n?void 0:t)?xa(e)?Ja(e):ka(e):e.match(t)||[]};var Za=RegExp("['\u2019]","g");const ec=function(e){return function(t){return ba(Xa(Sa(t).replace(Za,"")),e,"")}};const tc=function(e,t,n){var r=e.length;return n=void 0===n?r:n,!t&&n>=r?e:ra(e,t,n)};var nc=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");const rc=function(e){return nc.test(e)};const ic=function(e){return e.split("")};var sc="\\ud800-\\udfff",oc="["+sc+"]",ac="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",cc="\\ud83c[\\udffb-\\udfff]",lc="[^"+sc+"]",uc="(?:\\ud83c[\\udde6-\\uddff]){2}",hc="[\\ud800-\\udbff][\\udc00-\\udfff]",dc="(?:"+ac+"|"+cc+")"+"?",fc="[\\ufe0e\\ufe0f]?",pc=fc+dc+("(?:\\u200d(?:"+[lc,uc,hc].join("|")+")"+fc+dc+")*"),mc="(?:"+[lc+ac+"?",ac,uc,hc,oc].join("|")+")",gc=RegExp(cc+"(?="+cc+")|"+mc+pc,"g");const vc=function(e){return e.match(gc)||[]};const yc=function(e){return rc(e)?vc(e):ic(e)};const wc=function(e){return function(t){t=Qr(t);var n=rc(t)?yc(t):void 0,r=n?n[0]:t.charAt(0),i=n?tc(n,1).join(""):t.slice(1);return r[e]()+i}}("toUpperCase");const bc=ec((function(e,t,n){return e+(n?" ":"")+wc(t)}));function _c(e){var t=e.children,n=e.className,r=e.content,s=e.size,o=De(s,"icons",n),a=qe(_c,e),c=Ge(_c,e);return i.createElement(c,Pe({},a,{className:o}),pi(t)?r:t)}_c.handledProps=["as","children","className","content","size"],_c.propTypes={},_c.defaultProps={as:"i"};const Ec=_c;var Ic=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleClick=function(e){t.props.disabled?e.preventDefault():ma(t.props,"onClick",e,t.props)},t}Xo(t,e);var n=t.prototype;return n.getIconAriaOptions=function(){var e={},t=this.props,n=t["aria-label"],r=t["aria-hidden"];return Ui(n)?e["aria-hidden"]="true":e["aria-label"]=n,Ui(r)||(e["aria-hidden"]=r),e},n.render=function(){var e=this.props,n=e.bordered,r=e.circular,s=e.className,o=e.color,a=e.corner,c=e.disabled,l=e.fitted,u=e.flipped,h=e.inverted,d=e.link,f=e.loading,p=e.name,m=e.rotated,g=e.size,v=De(o,p,g,Me(n,"bordered"),Me(r,"circular"),Me(c,"disabled"),Me(l,"fitted"),Me(h,"inverted"),Me(d,"link"),Me(f,"loading"),Ue(a,"corner"),Fe(u,"flipped"),Fe(m,"rotated"),"icon",s),y=qe(t,this.props),w=Ge(t,this.props),b=this.getIconAriaOptions();return i.createElement(w,Pe({},y,b,{className:v,onClick:this.handleClick}))},t}(i.PureComponent);Ic.handledProps=["aria-hidden","aria-label","as","bordered","circular","className","color","corner","disabled","fitted","flipped","inverted","link","loading","name","rotated","size"],Ic.propTypes={},Ic.defaultProps={as:"i"},Ic.Group=Ec,Ic.create=Vi(Ic,(function(e){return{name:e}}));const Sc=Ic;var Tc=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleClick=function(e){t.props.disabled||ma(t.props,"onClick",e,t.props)},t}return Xo(t,e),t.prototype.render=function(){var e=this.props,n=e.active,r=e.children,s=e.className,o=e.color,a=e.content,c=e.disabled,l=e.fitted,u=e.header,h=e.icon,d=e.link,f=e.name,p=e.onClick,m=e.position,g=De(o,m,Me(n,"active"),Me(c,"disabled"),Me(!0===h||h&&!(f||a),"icon"),Me(u,"header"),Me(d,"link"),Ue(l,"fitted"),"item",s),v=Ge(t,this.props,(function(){if(p)return"a"})),y=qe(t,this.props);return pi(r)?i.createElement(v,Pe({},y,{className:g,onClick:this.handleClick}),Sc.create(h,{autoGenerateKey:!1}),pi(a)?bc(f):a):i.createElement(v,Pe({},y,{className:g,onClick:this.handleClick}),r)},t}(i.Component);function kc(e){var t=e.children,n=e.className,r=e.content,s=e.position,o=De(s,"menu",n),a=qe(kc,e),c=Ge(kc,e);return i.createElement(c,Pe({},a,{className:o}),pi(t)?r:t)}Tc.handledProps=["active","as","children","className","color","content","disabled","fitted","header","icon","index","link","name","onClick","position"],Tc.propTypes={},Tc.create=Vi(Tc,(function(e){return{content:e,name:e}})),kc.handledProps=["as","children","className","content","position"],kc.propTypes={};const Cc=kc;var xc=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleItemOverrides=function(e){return{onClick:function(n,r){var i=r.index;t.setState({activeIndex:i}),ma(e,"onClick",n,r),ma(t.props,"onItemClick",n,r)}}},t}Xo(t,e);var n=t.prototype;return n.renderItems=function(){var e=this,t=this.props.items,n=this.state.activeIndex;return ea(t,(function(t,r){return Tc.create(t,{defaultProps:{active:parseInt(n,10)===r,index:r},overrideProps:e.handleItemOverrides})}))},n.render=function(){var e=this.props,n=e.attached,r=e.borderless,s=e.children,o=e.className,a=e.color,c=e.compact,l=e.fixed,u=e.floated,h=e.fluid,d=e.icon,f=e.inverted,p=e.pagination,m=e.pointing,g=e.secondary,v=e.size,y=e.stackable,w=e.tabular,b=e.text,_=e.vertical,E=e.widths,I=De("ui",a,v,Me(r,"borderless"),Me(c,"compact"),Me(h,"fluid"),Me(f,"inverted"),Me(p,"pagination"),Me(m,"pointing"),Me(g,"secondary"),Me(y,"stackable"),Me(b,"text"),Me(_,"vertical"),Ue(n,"attached"),Ue(u,"floated"),Ue(d,"icon"),Ue(w,"tabular"),Fe(l,"fixed"),Be(E,"item"),o,"menu"),S=qe(t,this.props),T=Ge(t,this.props);return i.createElement(T,Pe({},S,{className:I}),pi(s)?this.renderItems():s)},t}(va);xc.handledProps=["activeIndex","as","attached","borderless","children","className","color","compact","defaultActiveIndex","fixed","floated","fluid","icon","inverted","items","onItemClick","pagination","pointing","secondary","size","stackable","tabular","text","vertical","widths"],xc.propTypes={},xc.autoControlledProps=["activeIndex"],xc.Header=wa,xc.Item=Tc,xc.Menu=Cc,xc.create=Vi(xc,(function(e){return{items:e}}));const Nc=xc;var Ac=n(579);const Pc=function(e){let{user:t}=e;return(0,Ac.jsxs)(Nc,{children:[(0,Ac.jsx)(Nc.Item,{as:xe,to:"/",children:"Social Web"}),(0,Ac.jsx)(Nc.Menu,{position:"right",children:t?(0,Ac.jsxs)(Ac.Fragment,{children:[(0,Ac.jsx)(Nc.Item,{as:xe,to:"/new-post",children:"\u767c\u8868\u6587\u7ae0"}),(0,Ac.jsx)(Nc.Item,{as:xe,to:"/my/posts",children:"\u6703\u54e1"}),(0,Ac.jsx)(Nc.Item,{as:xe,onClick:()=>$o.auth().signOut(),children:"\u767b\u51fa"})]}):(0,Ac.jsx)(Nc.Item,{as:xe,to:"/login",children:"\u8a3b\u518a/\u767b\u5165"})})]})};function Rc(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var Dc=n(86),Oc=function(e,t){"function"!==typeof e?null!==e&&"object"===typeof e&&(e.current=t):e(t)},Lc=function(e){return null!==e&&"object"===typeof e&&e.hasOwnProperty("current")};var Mc=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).prevNode=void 0,t}Xo(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=o.findDOMNode(this);this.prevNode=e,Oc(this.props.innerRef,e)},n.componentDidUpdate=function(e){var t=o.findDOMNode(this);this.prevNode!==t&&(this.prevNode=t,Oc(this.props.innerRef,t)),e.innerRef!==this.props.innerRef&&Oc(this.props.innerRef,t)},n.componentWillUnmount=function(){Oc(this.props.innerRef,null),delete this.prevNode},n.render=function(){return this.props.children},t}(i.Component),Fc=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).currentNode=void 0,t.handleRefOverride=function(e){var n=t.props,r=n.children,i=n.innerRef;Oc(r.ref,e),Oc(i,e),t.currentNode=e},t}Xo(t,e);var n=t.prototype;return n.componentDidUpdate=function(e){e.innerRef!==this.props.innerRef&&Oc(this.props.innerRef,this.currentNode)},n.componentWillUnmount=function(){delete this.currentNode},n.render=function(){var e=this.props.children;return i.cloneElement(e,{ref:this.handleRefOverride})},t}(i.Component),Uc=["children","innerRef"],jc=function(e){var t=e.children,n=e.innerRef,r=Rc(e,Uc),s=i.Children.only(t),o=Dc.isForwardRef(s)?Fc:Mc,a=s&&r&&Object.keys(r).length>0?i.cloneElement(s,r):s;return i.createElement(o,{innerRef:n},a)},Vc=/\s/;const zc=function(e){for(var t=e.length;t--&&Vc.test(e.charAt(t)););return t};var Bc=/^\s+/;const qc=function(e){return e?e.slice(0,zc(e)+1).replace(Bc,""):e};var Gc=/^[-+]0x[0-9a-f]+$/i,Kc=/^0b[01]+$/i,Hc=/^0o[0-7]+$/i,Wc=parseInt;const Qc=function(e){if("number"==typeof e)return e;if(Lr(e))return NaN;if(wt(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=wt(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=qc(e);var n=Kc.test(e);return n||Hc.test(e)?Wc(e.slice(2),n?2:8):Gc.test(e)?NaN:+e};var Yc=1/0;const $c=function(e){return e?(e=Qc(e))===Yc||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0};const Jc=function(e){var t=$c(e),n=t%1;return t===t?n?t-n:t:0};const Xc=function(e,t){return Gr(t,(function(t){return e[t]}))};const Zc=function(e){return null==e?[]:Xc(e,ir(e))};var el=Math.max;const tl=function(e,t,n,r){e=rr(e)?e:Zc(e),n=n&&!r?Jc(n):0;var i=e.length;return n<0&&(n=el(i+n,0)),Mi(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&bi(e,t,n)>-1};const nl=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e};const rl=function(e){return"function"==typeof e?e:ri};const il=function(e,t){return(yn(e)?nl:ui)(e,rl(t))};var sl=["selected","defaultValue","defaultChecked","accept","autoCapitalize","autoComplete","autoCorrect","autoFocus","checked","disabled","enterKeyHint","form","id","inputMode","lang","list","max","maxLength","min","minLength","multiple","name","pattern","placeholder","readOnly","required","step","title","type","value"],ol=[].concat(sl,["onKeyDown","onKeyPress","onKeyUp","onFocus","onBlur","onChange","onInput","onClick","onContextMenu","onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onSelect","onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"]),al=["alt","height","src","srcSet","width","loading"],cl=function(e,t){void 0===t&&(t={});var n=t,r=n.htmlProps,i=void 0===r?ol:r,s=n.includeAria,o=void 0===s||s,a={},c={};return il(e,(function(e,t){var n=o&&(/^aria-.*$/.test(t)||"role"===t);(tl(i,t)||n?a:c)[t]=e})),[a,c]},ll="object"===typeof document&&null!==document,ul="object"===typeof window&&null!==window&&window.self===window;const hl=function e(){return Ui(e.override)?ll&&ul:e.override};var dl=n(173),fl=n.n(dl),pl=n(90),ml=n.n(pl),gl=Math.max,vl=Math.min;const yl=function(e,t,n){return e>=vl(t,n)&&e<gl(t,n)};const wl=function(e,t,n){return t=$c(t),void 0===n?(n=t,t=0):n=$c(n),e=Qc(e),yl(e,t,n)};const bl=function(e){return e&&e.length?e[0]:void 0};const _l=function(e,t){if(fi([t,e],Ui))return!1;if(t.target&&(ma(t.target,"setAttribute","data-suir-click-target",!0),document.querySelector("[data-suir-click-target=true]")))return ma(t.target,"removeAttribute","data-suir-click-target"),e.contains(t.target);var n=t.clientX,r=t.clientY;if(fi([n,r],Ui))return!1;var i=e.getClientRects();if(!e.offsetWidth||!e.offsetHeight||!i||!i.length)return!1;var s=bl(i),o=s.top,a=s.bottom,c=s.left,l=s.right;return!fi([o,a,c,l],Ui)&&(wl(r,o,a+.001)&&wl(n,c,l+.001))};var El=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleRef=function(e){Oc(t.props.innerRef,e)},t}Xo(t,e);var n=t.prototype;return n.componentDidMount=function(){ma(this.props,"onMount",null,this.props)},n.componentWillUnmount=function(){ma(this.props,"onUnmount",null,this.props)},n.render=function(){if(!hl())return null;var e=this.props,t=e.children,n=e.mountNode,r=void 0===n?document.body:n;return(0,o.createPortal)(i.createElement(jc,{innerRef:this.handleRef},t),r)},t}(i.Component);El.handledProps=["children","innerRef","mountNode","onMount","onUnmount"],El.propTypes={};const Il=El;var Sl=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(t=e.call.apply(e,[this].concat(r))||this).contentRef=i.createRef(),t.triggerRef=i.createRef(),t.latestDocumentMouseDownEvent=null,t.handleDocumentMouseDown=function(e){t.latestDocumentMouseDownEvent=e},t.handleDocumentClick=function(e){var n=t.props.closeOnDocumentClick,r=t.latestDocumentMouseDownEvent;t.latestDocumentMouseDownEvent=null,!t.contentRef.current||_l(t.triggerRef.current,e)||r&&_l(t.contentRef.current,r)||_l(t.contentRef.current,e)||n&&t.close(e)},t.handleEscape=function(e){t.props.closeOnEscape&&ml().getCode(e)===ml().Escape&&t.close(e)},t.handlePortalMouseLeave=function(e){var n=t.props,r=n.closeOnPortalMouseLeave,i=n.mouseLeaveDelay;r&&e.target===t.contentRef.current&&(t.mouseLeaveTimer=t.closeWithTimeout(e,i))},t.handlePortalMouseEnter=function(){t.props.closeOnPortalMouseLeave&&clearTimeout(t.mouseLeaveTimer)},t.handleTriggerBlur=function(e){for(var n=t.props,r=n.trigger,i=n.closeOnTriggerBlur,s=arguments.length,o=new Array(s>1?s-1:0),a=1;a<s;a++)o[a-1]=arguments[a];ma.apply(void 0,[r,"props.onBlur",e].concat(o));var c=e.relatedTarget||document.activeElement,l=ma(t.contentRef.current,"contains",c);i&&!l&&t.close(e)},t.handleTriggerClick=function(e){for(var n=t.props,r=n.trigger,i=n.closeOnTriggerClick,s=n.openOnTriggerClick,o=t.state.open,a=arguments.length,c=new Array(a>1?a-1:0),l=1;l<a;l++)c[l-1]=arguments[l];ma.apply(void 0,[r,"props.onClick",e].concat(c)),o&&i?t.close(e):!o&&s&&t.open(e)},t.handleTriggerFocus=function(e){for(var n=t.props,r=n.trigger,i=n.openOnTriggerFocus,s=arguments.length,o=new Array(s>1?s-1:0),a=1;a<s;a++)o[a-1]=arguments[a];ma.apply(void 0,[r,"props.onFocus",e].concat(o)),i&&t.open(e)},t.handleTriggerMouseLeave=function(e){clearTimeout(t.mouseEnterTimer);for(var n=t.props,r=n.trigger,i=n.closeOnTriggerMouseLeave,s=n.mouseLeaveDelay,o=arguments.length,a=new Array(o>1?o-1:0),c=1;c<o;c++)a[c-1]=arguments[c];ma.apply(void 0,[r,"props.onMouseLeave",e].concat(a)),i&&(t.mouseLeaveTimer=t.closeWithTimeout(e,s))},t.handleTriggerMouseEnter=function(e){clearTimeout(t.mouseLeaveTimer);for(var n=t.props,r=n.trigger,i=n.mouseEnterDelay,s=n.openOnTriggerMouseEnter,o=arguments.length,a=new Array(o>1?o-1:0),c=1;c<o;c++)a[c-1]=arguments[c];ma.apply(void 0,[r,"props.onMouseEnter",e].concat(a)),s&&(t.mouseEnterTimer=t.openWithTimeout(e,i))},t.open=function(e){ma(t.props,"onOpen",e,Pe({},t.props,{open:!0})),t.setState({open:!0})},t.openWithTimeout=function(e,n){var r=Pe({},e);return setTimeout((function(){return t.open(r)}),n||0)},t.close=function(e){t.setState({open:!1}),ma(t.props,"onClose",e,Pe({},t.props,{open:!1}))},t.closeWithTimeout=function(e,n){var r=Pe({},e);return setTimeout((function(){return t.close(r)}),n||0)},t.handleMount=function(){ma(t.props,"onMount",null,t.props)},t.handleUnmount=function(){ma(t.props,"onUnmount",null,t.props)},t.handleTriggerRef=function(e){t.triggerRef.current=e,Oc(t.props.triggerRef,e)},t}Xo(t,e);var n=t.prototype;return n.componentWillUnmount=function(){clearTimeout(this.mouseEnterTimer),clearTimeout(this.mouseLeaveTimer)},n.render=function(){var e=this.props,t=e.children,n=e.eventPool,r=e.mountNode,s=e.trigger,o=this.state.open;return i.createElement(i.Fragment,null,o&&i.createElement(i.Fragment,null,i.createElement(Il,{innerRef:this.contentRef,mountNode:r,onMount:this.handleMount,onUnmount:this.handleUnmount},t),i.createElement(fl(),{name:"mouseleave",on:this.handlePortalMouseLeave,pool:n,target:this.contentRef}),i.createElement(fl(),{name:"mouseenter",on:this.handlePortalMouseEnter,pool:n,target:this.contentRef}),i.createElement(fl(),{name:"mousedown",on:this.handleDocumentMouseDown,pool:n}),i.createElement(fl(),{name:"click",on:this.handleDocumentClick,pool:n}),i.createElement(fl(),{name:"keydown",on:this.handleEscape,pool:n})),s&&i.createElement(jc,{innerRef:this.handleTriggerRef},i.cloneElement(s,{onBlur:this.handleTriggerBlur,onClick:this.handleTriggerClick,onFocus:this.handleTriggerFocus,onMouseLeave:this.handleTriggerMouseLeave,onMouseEnter:this.handleTriggerMouseEnter})))},t}(va);Sl.handledProps=["children","closeOnDocumentClick","closeOnEscape","closeOnPortalMouseLeave","closeOnTriggerBlur","closeOnTriggerClick","closeOnTriggerMouseLeave","defaultOpen","eventPool","mountNode","mouseEnterDelay","mouseLeaveDelay","onClose","onMount","onOpen","onUnmount","open","openOnTriggerClick","openOnTriggerFocus","openOnTriggerMouseEnter","trigger","triggerRef"],Sl.propTypes={},Sl.defaultProps={closeOnDocumentClick:!0,closeOnEscape:!0,eventPool:"default",openOnTriggerClick:!0},Sl.autoControlledProps=["open"],Sl.Inner=Il;const Tl=Sl;function kl(e){var t=e.blurring,n=e.className,r=e.children,s=e.content,o=e.dimmed,a=De(Me(t,"blurring"),Me(o,"dimmed"),"dimmable",n),c=qe(kl,e),l=Ge(kl,e);return i.createElement(l,Pe({},c,{className:a}),pi(r)?s:r)}kl.handledProps=["as","blurring","children","className","content","dimmed"],kl.propTypes={};const Cl=kl;var xl=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(t=e.call.apply(e,[this].concat(r))||this).containerRef=(0,i.createRef)(),t.contentRef=(0,i.createRef)(),t.handleClick=function(e){var n=t.contentRef.current;ma(t.props,"onClick",e,t.props),n&&n!==e.target&&_l(n,e)||ma(t.props,"onClickOutside",e,t.props)},t}Xo(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props.active;this.toggleStyles(e)},n.componentDidUpdate=function(e){var t=this.props.active;e.active!==t&&this.toggleStyles(t)},n.toggleStyles=function(e){var t=this.containerRef.current;t&&t.style&&(e?t.style.setProperty("display","flex","important"):t.style.removeProperty("display"))},n.render=function(){var e=this.props,n=e.active,r=e.children,s=e.className,o=e.content,a=e.disabled,c=e.inverted,l=e.page,u=e.simple,h=e.verticalAlign,d=De("ui",Me(n,"active transition visible"),Me(a,"disabled"),Me(c,"inverted"),Me(l,"page"),Me(u,"simple"),ze(h),"dimmer",s),f=qe(t,this.props),p=Ge(t,this.props),m=pi(r)?o:r;return i.createElement(jc,{innerRef:this.containerRef},i.createElement(p,Pe({},f,{className:d,onClick:this.handleClick}),m&&i.createElement("div",{className:"content",ref:this.contentRef},m)))},t}(i.Component);xl.handledProps=["active","as","children","className","content","disabled","inverted","onClick","onClickOutside","page","simple","verticalAlign"],xl.propTypes={};var Nl=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handlePortalMount=function(){hl()&&(document.body.classList.add("dimmed"),document.body.classList.add("dimmable"))},t.handlePortalUnmount=function(){hl()&&(document.body.classList.remove("dimmed"),document.body.classList.remove("dimmable"))},t}return Xo(t,e),t.prototype.render=function(){var e=this.props,n=e.active,r=e.page,s=qe(t,this.props);return r?i.createElement(Tl,{closeOnEscape:!1,closeOnDocumentClick:!1,onMount:this.handlePortalMount,onUnmount:this.handlePortalUnmount,open:n,openOnTriggerClick:!1},i.createElement(xl,Pe({},s,{active:n,page:r}))):i.createElement(xl,Pe({},s,{active:n,page:r}))},t}(i.Component);function Al(e){var t=e.children,n=e.className,r=e.content,s=e.size,o=De("ui",s,n,"images"),a=qe(Al,e),c=Ge(Al,e);return i.createElement(c,Pe({},a,{className:o}),pi(t)?r:t)}Nl.handledProps=["active","page"],Nl.propTypes={},Nl.Dimmable=Cl,Nl.Inner=xl,Nl.create=Vi(Nl,(function(e){return{content:e}})),Al.handledProps=["as","children","className","content","size"],Al.propTypes={};const Pl=Al;function Rl(e){var t=e.avatar,n=e.bordered,r=e.centered,s=e.children,o=e.circular,a=e.className,c=e.content,l=e.dimmer,u=e.disabled,h=e.floated,d=e.fluid,f=e.hidden,p=e.href,m=e.inline,g=e.label,v=e.rounded,y=e.size,w=e.spaced,b=e.verticalAlign,_=e.wrapped,E=e.ui,I=De(Me(E,"ui"),y,Me(t,"avatar"),Me(n,"bordered"),Me(o,"circular"),Me(r,"centered"),Me(u,"disabled"),Me(d,"fluid"),Me(f,"hidden"),Me(m,"inline"),Me(v,"rounded"),Ue(w,"spaced"),Fe(h,"floated"),ze(b),"image",a),S=qe(Rl,e),T=cl(S,{htmlProps:al}),k=T[0],C=T[1],x=Ge(Rl,e,(function(){if(!Ui(l)||!Ui(g)||!Ui(_)||!pi(s))return"div"}));return pi(s)?pi(c)?"img"===x?i.createElement(x,Pe({},C,k,{className:I})):i.createElement(x,Pe({},C,{className:I,href:p}),Nl.create(l,{autoGenerateKey:!1}),Ul.create(g,{autoGenerateKey:!1}),i.createElement("img",k)):i.createElement(x,Pe({},S,{className:I}),c):i.createElement(x,Pe({},S,{className:I}),s)}Rl.handledProps=["as","avatar","bordered","centered","children","circular","className","content","dimmer","disabled","floated","fluid","hidden","href","inline","label","rounded","size","spaced","ui","verticalAlign","wrapped"],Rl.Group=Pl,Rl.propTypes={},Rl.defaultProps={as:"img",ui:!0},Rl.create=Vi(Rl,(function(e){return{src:e}}));const Dl=Rl;function Ol(e){var t=e.children,n=e.className,r=e.content,s=De("detail",n),o=qe(Ol,e),a=Ge(Ol,e);return i.createElement(a,Pe({},o,{className:s}),pi(t)?r:t)}Ol.handledProps=["as","children","className","content"],Ol.propTypes={},Ol.create=Vi(Ol,(function(e){return{content:e}}));const Ll=Ol;function Ml(e){var t=e.children,n=e.circular,r=e.className,s=e.color,o=e.content,a=e.size,c=e.tag,l=De("ui",s,a,Me(n,"circular"),Me(c,"tag"),"labels",r),u=qe(Ml,e),h=Ge(Ml,e);return i.createElement(h,Pe({},u,{className:l}),pi(t)?o:t)}Ml.handledProps=["as","children","circular","className","color","content","size","tag"],Ml.propTypes={};const Fl=Ml;var Ul=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleClick=function(e){var n=t.props.onClick;n&&n(e,t.props)},t.handleIconOverrides=function(e){return{onClick:function(n){ma(e,"onClick",n),ma(t.props,"onRemove",n,t.props)}}},t}return Xo(t,e),t.prototype.render=function(){var e=this.props,n=e.active,r=e.attached,s=e.basic,o=e.children,a=e.circular,c=e.className,l=e.color,u=e.content,h=e.corner,d=e.detail,f=e.empty,p=e.floating,m=e.horizontal,g=e.icon,v=e.image,y=e.onRemove,w=e.pointing,b=e.prompt,_=e.removeIcon,E=e.ribbon,I=e.size,S=e.tag,T=De("ui",l,(!0===w?"pointing":("left"===w||"right"===w)&&w+" pointing")||("above"===w||"below"===w)&&"pointing "+w,I,Me(n,"active"),Me(s,"basic"),Me(a,"circular"),Me(f,"empty"),Me(p,"floating"),Me(m,"horizontal"),Me(!0===v,"image"),Me(b,"prompt"),Me(S,"tag"),Ue(h,"corner"),Ue(E,"ribbon"),Fe(r,"attached"),"label",c),k=qe(t,this.props),C=Ge(t,this.props);if(!pi(o))return i.createElement(C,Pe({},k,{className:T,onClick:this.handleClick}),o);var x=ga(_)?"delete":_;return i.createElement(C,Pe({className:T,onClick:this.handleClick},k),Sc.create(g,{autoGenerateKey:!1}),"boolean"!==typeof v&&Dl.create(v,{autoGenerateKey:!1}),u,Ll.create(d,{autoGenerateKey:!1}),y&&Sc.create(x,{autoGenerateKey:!1,overrideProps:this.handleIconOverrides}))},t}(i.Component);function jl(e){var t=e.children,n=e.className,r=e.content,s=e.hidden,o=e.visible,a=De(Me(o,"visible"),Me(s,"hidden"),"content",n),c=qe(jl,e),l=Ge(jl,e);return i.createElement(l,Pe({},c,{className:a}),pi(t)?r:t)}Ul.handledProps=["active","as","attached","basic","children","circular","className","color","content","corner","detail","empty","floating","horizontal","icon","image","onClick","onRemove","pointing","prompt","removeIcon","ribbon","size","tag"],Ul.propTypes={},Ul.Detail=Ll,Ul.Group=Fl,Ul.create=Vi(Ul,(function(e){return{content:e}})),jl.handledProps=["as","children","className","content","hidden","visible"],jl.propTypes={};const Vl=jl;function zl(e){var t=e.attached,n=e.basic,r=e.buttons,s=e.children,o=e.className,a=e.color,c=e.compact,l=e.content,u=e.floated,h=e.fluid,d=e.icon,f=e.inverted,p=e.labeled,m=e.negative,g=e.positive,v=e.primary,y=e.secondary,w=e.size,b=e.toggle,_=e.vertical,E=e.widths,I=De("ui",a,w,Me(n,"basic"),Me(c,"compact"),Me(h,"fluid"),Me(d,"icon"),Me(f,"inverted"),Me(p,"labeled"),Me(m,"negative"),Me(g,"positive"),Me(v,"primary"),Me(y,"secondary"),Me(b,"toggle"),Me(_,"vertical"),Ue(t,"attached"),Fe(u,"floated"),Be(E),"buttons",o),S=qe(zl,e),T=Ge(zl,e);return Ui(r)?i.createElement(T,Pe({},S,{className:I}),pi(s)?l:s):i.createElement(T,Pe({},S,{className:I}),ea(r,(function(e){return Hl.create(e)})))}zl.handledProps=["as","attached","basic","buttons","children","className","color","compact","content","floated","fluid","icon","inverted","labeled","negative","positive","primary","secondary","size","toggle","vertical","widths"],zl.propTypes={};const Bl=zl;function ql(e){var t=e.className,n=e.text,r=De("or",t),s=qe(ql,e),o=Ge(ql,e);return i.createElement(o,Pe({},s,{className:r,"data-text":n}))}ql.handledProps=["as","className","text"],ql.propTypes={};const Gl=ql;var Kl=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(t=e.call.apply(e,[this].concat(r))||this).ref=(0,i.createRef)(),t.computeElementType=function(){var e=t.props,n=e.attached,r=e.label;if(!Ui(n)||!Ui(r))return"div"},t.computeTabIndex=function(e){var n=t.props,r=n.disabled,i=n.tabIndex;return Ui(i)?r?-1:"div"===e?0:void 0:i},t.focus=function(e){return ma(t.ref.current,"focus",e)},t.handleClick=function(e){t.props.disabled?e.preventDefault():ma(t.props,"onClick",e,t.props)},t.hasIconClass=function(){var e=t.props,n=e.labelPosition,r=e.children,i=e.content,s=e.icon;return!0===s||s&&(n||pi(r)&&Ui(i))},t}Xo(t,e);var n=t.prototype;return n.computeButtonAriaRole=function(e){var t=this.props.role;return Ui(t)?"button"!==e?"button":void 0:t},n.render=function(){var e=this.props,n=e.active,r=e.animated,s=e.attached,o=e.basic,a=e.children,c=e.circular,l=e.className,u=e.color,h=e.compact,d=e.content,f=e.disabled,p=e.floated,m=e.fluid,g=e.icon,v=e.inverted,y=e.label,w=e.labelPosition,b=e.loading,_=e.negative,E=e.positive,I=e.primary,S=e.secondary,T=e.size,k=e.toggle,C=e.type,x=De(u,T,Me(n,"active"),Me(o,"basic"),Me(c,"circular"),Me(h,"compact"),Me(m,"fluid"),Me(this.hasIconClass(),"icon"),Me(v,"inverted"),Me(b,"loading"),Me(_,"negative"),Me(E,"positive"),Me(I,"primary"),Me(S,"secondary"),Me(k,"toggle"),Ue(r,"animated"),Ue(s,"attached")),N=De(Ue(w||!!y,"labeled")),A=De(Me(f,"disabled"),Fe(p,"floated")),P=qe(t,this.props),R=Ge(t,this.props,this.computeElementType),D=this.computeTabIndex(R);if(!Ui(y)){var O=De("ui",x,"button",l),L=De("ui",N,"button",l,A),M=Ul.create(y,{defaultProps:{basic:!0,pointing:"left"===w?"right":"left"},autoGenerateKey:!1});return i.createElement(R,Pe({},P,{className:L,onClick:this.handleClick}),"left"===w&&M,i.createElement(jc,{innerRef:this.ref},i.createElement("button",{className:O,"aria-pressed":k?!!n:void 0,disabled:f,type:C,tabIndex:D},Sc.create(g,{autoGenerateKey:!1})," ",d)),("right"===w||!w)&&M)}var F=De("ui",x,A,N,"button",l),U=!pi(a),j=this.computeButtonAriaRole(R);return i.createElement(jc,{innerRef:this.ref},i.createElement(R,Pe({},P,{className:F,"aria-pressed":k?!!n:void 0,disabled:f&&"button"===R||void 0,onClick:this.handleClick,role:j,type:C,tabIndex:D}),U&&a,!U&&Sc.create(g,{autoGenerateKey:!1}),!U&&d))},t}(i.Component);Kl.handledProps=["active","animated","as","attached","basic","children","circular","className","color","compact","content","disabled","floated","fluid","icon","inverted","label","labelPosition","loading","negative","onClick","positive","primary","role","secondary","size","tabIndex","toggle","type"],Kl.propTypes={},Kl.defaultProps={as:"button"},Kl.Content=Vl,Kl.Group=Bl,Kl.Or=Gl,Kl.create=Vi(Kl,(function(e){return{content:e}}));const Hl=Kl;const Wl=function(e,t,n){"__proto__"==t&&la?la(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n};var Ql=Object.prototype.hasOwnProperty;const Yl=function(e,t,n){var r=e[t];Ql.call(e,t)&&We(r,n)&&(void 0!==n||t in e)||Wl(e,t,n)};const $l=function(e,t,n,r){if(!wt(e))return e;for(var i=-1,s=(t=Yr(t,e)).length,o=s-1,a=e;null!=a&&++i<s;){var c=$r(t[i]),l=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(i!=o){var u=a[c];void 0===(l=r?r(u,c,a):void 0)&&(l=wt(u)?u:Un(t[i+1])?[]:{})}Yl(a,c,l),a=a[c]}return e};const Jl=function(e,t,n){return null==e?e:$l(e,t,n)};var Xl=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(t=e.call.apply(e,[this].concat(r))||this).inputRef=(0,i.createRef)(),t.labelRef=(0,i.createRef)(),t.canToggle=function(){var e=t.props,n=e.disabled,r=e.radio,i=e.readOnly,s=t.state.checked;return!n&&!i&&!(r&&s)},t.computeTabIndex=function(){var e=t.props,n=e.disabled,r=e.tabIndex;return Ui(r)?n?-1:0:r},t.handleClick=function(e){var n=t.props.id,r=t.state,i=r.checked,s=r.indeterminate,o=ma(t.inputRef.current,"contains",e.target),a=ma(t.labelRef.current,"contains",e.target),c=!a&&!o,l=!Ui(n);a&&l||ma(t.props,"onClick",e,Pe({},t.props,{checked:!i,indeterminate:!!s})),t.isClickFromMouse&&(t.isClickFromMouse=!1,a&&!l&&t.handleChange(e),c&&t.handleChange(e),a&&l&&e.stopPropagation())},t.handleChange=function(e){var n=t.state.checked;t.canToggle()&&(ma(t.props,"onChange",e,Pe({},t.props,{checked:!n,indeterminate:!1})),t.setState({checked:!n,indeterminate:!1}))},t.handleMouseDown=function(e){var n=t.state,r=n.checked,i=n.indeterminate;ma(t.props,"onMouseDown",e,Pe({},t.props,{checked:!!r,indeterminate:!!i})),e.defaultPrevented||ma(t.inputRef.current,"focus"),e.preventDefault()},t.handleMouseUp=function(e){var n=t.state,r=n.checked,i=n.indeterminate;t.isClickFromMouse=!0,ma(t.props,"onMouseUp",e,Pe({},t.props,{checked:!!r,indeterminate:!!i}))},t.setIndeterminate=function(){var e=t.state.indeterminate;Jl(t.inputRef,"current.indeterminate",!!e)},t}Xo(t,e);var n=t.prototype;return n.componentDidMount=function(){this.setIndeterminate()},n.componentDidUpdate=function(){this.setIndeterminate()},n.render=function(){var e=this.props,n=e.className,r=e.disabled,s=e.label,o=e.id,a=e.name,c=e.radio,l=e.readOnly,u=e.slider,h=e.toggle,d=e.type,f=e.value,p=this.state,m=p.checked,g=p.indeterminate,v=De("ui",Me(m,"checked"),Me(r,"disabled"),Me(g,"indeterminate"),Me(Ui(s),"fitted"),Me(c,"radio"),Me(l,"read-only"),Me(u,"slider"),Me(h,"toggle"),"checkbox",n),y=qe(t,this.props),w=Ge(t,this.props),b=cl(y,{htmlProps:sl}),_=b[0],E=b[1],I=qi(s,{defaultProps:{htmlFor:o},autoGenerateKey:!1})||i.createElement("label",{htmlFor:o});return i.createElement(w,Pe({},E,{className:v,onClick:this.handleClick,onChange:this.handleChange,onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp}),i.createElement(jc,{innerRef:this.inputRef},i.createElement("input",Pe({},_,{checked:m,className:"hidden",disabled:r,id:o,name:a,readOnly:!0,tabIndex:this.computeTabIndex(),type:d,value:f}))),i.createElement(jc,{innerRef:this.labelRef},I))},t}(va);function Zl(e){var t=e.slider,n=e.toggle,r=e.type,s=qe(Zl,e),o=!(t||n)||void 0;return i.createElement(Xl,Pe({},s,{type:r,radio:o,slider:t,toggle:n}))}Xl.handledProps=["as","checked","className","defaultChecked","defaultIndeterminate","disabled","fitted","id","indeterminate","label","name","onChange","onClick","onMouseDown","onMouseUp","radio","readOnly","slider","tabIndex","toggle","type","value"],Xl.propTypes={},Xl.defaultProps={type:"checkbox"},Xl.autoControlledProps=["checked","indeterminate"],Zl.handledProps=["slider","toggle","type"],Zl.propTypes={},Zl.defaultProps={type:"radio"};const eu=Zl;function tu(e){var t=e.children,n=e.className,r=e.content,s=e.control,o=e.disabled,a=e.error,c=e.inline,l=e.label,u=e.required,h=e.type,d=e.width,f=e.id,p=De(Me(o,"disabled"),Me(a,"error"),Me(c,"inline"),Me(u,"required"),Be(d,"wide"),"field",n),m=qe(tu,e),g=Ge(tu,e),v=Xr(a,"pointing","above"),y=Ul.create(a,{autoGenerateKey:!1,defaultProps:{prompt:!0,pointing:v,id:f?f+"-error-message":void 0,role:"alert","aria-atomic":!0}}),w=("below"===v||"right"===v)&&y,b=("above"===v||"left"===v)&&y;if(Ui(s))return Ui(l)?i.createElement(g,Pe({},m,{className:p,id:f}),pi(t)?r:t):i.createElement(g,Pe({},m,{className:p,id:f}),w,qi(l,{autoGenerateKey:!1}),b);var _={"aria-describedby":f&&a?f+"-error-message":null,"aria-invalid":!!a||void 0},E=Pe({},m,{content:r,children:t,disabled:o,required:u,type:h,id:f});return"input"!==s||"checkbox"!==h&&"radio"!==h?s===Xl||s===eu?i.createElement(g,{className:p},w,(0,i.createElement)(s,Pe({},_,E,{label:l})),b):i.createElement(g,{className:p},qi(l,{defaultProps:{htmlFor:f},autoGenerateKey:!1}),w,(0,i.createElement)(s,Pe({},_,E)),b):i.createElement(g,{className:p},i.createElement("label",null,w,(0,i.createElement)(s,Pe({},_,E))," ",l,b))}tu.handledProps=["as","children","className","content","control","disabled","error","id","inline","label","required","type","width"],tu.propTypes={};const nu=tu;function ru(e){var t=e.control,n=qe(ru,e),r=Ge(ru,e);return i.createElement(r,Pe({},n,{control:t}))}ru.handledProps=["as","control"],ru.propTypes={},ru.defaultProps={as:nu,control:Hl};const iu=ru;function su(e){var t=e.control,n=qe(su,e),r=Ge(su,e);return i.createElement(r,Pe({},n,{control:t}))}su.handledProps=["as","control"],su.propTypes={},su.defaultProps={as:nu,control:Xl};const ou=su;const au=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var s=e[t];s&&(i[r++]=s)}return i};const cu=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0};const lu=function(e,t){var n=!0;return ui(e,(function(e,r,i){return n=!!t(e,r,i)})),n};const uu=function(e,t,n){var r=yn(e)?cu:lu;return n&&di(e,t,n)&&(t=void 0),r(e,ai(t,3))};const hu=function(e,t,n,r){var i=-1,s=_i,o=!0,a=e.length,c=[],l=t.length;if(!a)return c;n&&(t=Gr(t,Bn(n))),r?(s=Ei,o=!1):t.length>=200&&(s=ln,o=!1,t=new cn(t));e:for(;++i<a;){var u=e[i],h=null==n?u:n(u);if(u=r||0!==u?u:0,o&&h===h){for(var d=l;d--;)if(t[d]===h)continue e;c.push(u)}else s(t,h,r)||c.push(u)}return c};const du=function(e){return kn(e)&&rr(e)};var fu=pa((function(e,t){return du(e)?hu(e,t):[]}));const pu=fu;const mu=function(e){return function(t,n,r){var i=Object(t);if(!rr(t)){var s=ai(n,3);t=ir(t),n=function(e){return s(i[e],e,i)}}var o=e(t,n,r);return o>-1?i[s?t[o]:o]:void 0}};var gu=Math.max;const vu=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:Jc(n);return i<0&&(i=gu(r+i,0)),vi(e,ai(t,3),i)};const yu=mu(vu);const wu=function(e,t,n){var r=null==e?0:e.length;return r?(t=n||void 0===t?1:Jc(t),ra(e,0,(t=r-t)<0?0:t)):[]};var bu=Object.prototype.hasOwnProperty;const _u=function(e){if(null==e)return!0;if(rr(e)&&(yn(e)||"string"==typeof e||"function"==typeof e.splice||Mn(e)||Qn(e)||Pn(e)))return!e.length;var t=Ir(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(Xn(e))return!nr(e).length;for(var n in e)if(bu.call(e,n))return!1;return!0};const Eu=ii("length");var Iu="\\ud800-\\udfff",Su="["+Iu+"]",Tu="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",ku="\\ud83c[\\udffb-\\udfff]",Cu="[^"+Iu+"]",xu="(?:\\ud83c[\\udde6-\\uddff]){2}",Nu="[\\ud800-\\udbff][\\udc00-\\udfff]",Au="(?:"+Tu+"|"+ku+")"+"?",Pu="[\\ufe0e\\ufe0f]?",Ru=Pu+Au+("(?:\\u200d(?:"+[Cu,xu,Nu].join("|")+")"+Pu+Au+")*"),Du="(?:"+[Cu+Tu+"?",Tu,xu,Nu,Su].join("|")+")",Ou=RegExp(ku+"(?="+ku+")|"+Du+Ru,"g");const Lu=function(e){for(var t=Ou.lastIndex=0;Ou.test(e);)++t;return t};const Mu=function(e){return rc(e)?Lu(e):Eu(e)};const Fu=function(e){if(null==e)return 0;if(rr(e))return Mi(e)?Mu(e):e.length;var t=Ir(e);return"[object Map]"==t||"[object Set]"==t?e.size:nr(e).length};var Uu=lt?lt.isConcatSpreadable:void 0;const ju=function(e){return yn(e)||Pn(e)||!!(Uu&&e&&e[Uu])};const Vu=function e(t,n,r,i,s){var o=-1,a=t.length;for(r||(r=ju),s||(s=[]);++o<a;){var c=t[o];n>0&&r(c)?n>1?e(c,n-1,r,i,s):vn(s,c):i||(s[s.length]=c)}return s};var zu=pa((function(e,t){return du(e)?hu(e,Vu(t,1,du,!0)):[]}));const Bu=zu;const qu=pa((function(e){return ki(Vu(e,1,du,!0))}));const Gu=function(e,t){return Nr(e,t)};const Ku=function(e,t,n){for(var r=-1,i=t.length,s={};++r<i;){var o=t[r],a=Jr(e,o);n(a,o)&&$l(s,Yr(o,e),a)}return s};const Hu=function(e,t){return Ku(e,t,(function(t,n){return ti(e,n)}))};const Wu=function(e){return(null==e?0:e.length)?Vu(e,1):[]};const Qu=function(e){return fa(aa(e,void 0,Wu),e+"")}((function(e,t){return null==e?{}:Hu(e,t)}));var Yu=n(324),$u=n.n(Yu),Ju=function(e){function t(){return e.apply(this,arguments)||this}return Xo(t,e),t.prototype.render=function(){var e=this.props,n=e.className,r=e.name,s=De(r,"flag",n),o=qe(t,this.props),a=Ge(t,this.props);return i.createElement(a,Pe({},o,{className:s}))},t}(i.PureComponent);Ju.handledProps=["as","className","name"],Ju.propTypes={},Ju.defaultProps={as:"i"},Ju.create=Vi(Ju,(function(e){return{name:e}}));const Xu=Ju;function Zu(e){var t=e.className,n=De("divider",t),r=qe(Zu,e),s=Ge(Zu,e);return i.createElement(s,Pe({},r,{className:n}))}Zu.handledProps=["as","className"],Zu.propTypes={};const eh=Zu;var th=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleClick=function(e){ma(t.props,"onClick",e,t.props)},t}return Xo(t,e),t.prototype.render=function(){var e=this.props,n=e.active,r=e.children,s=e.className,o=e.content,a=e.disabled,c=e.description,l=e.flag,u=e.icon,h=e.image,d=e.label,f=e.selected,p=e.text,m=De(Me(n,"active"),Me(a,"disabled"),Me(f,"selected"),"item",s),g=Ui(u)?function(e,t){return fi(i.Children.toArray(e),{type:t})}(r,"DropdownMenu")&&"dropdown":u,v=qe(t,this.props),y=Ge(t,this.props),w={role:"option","aria-disabled":a,"aria-checked":n,"aria-selected":f};if(!pi(r))return i.createElement(y,Pe({},v,w,{className:m,onClick:this.handleClick}),r);var b=Xu.create(l,{autoGenerateKey:!1}),_=Sc.create(g,{autoGenerateKey:!1}),E=Dl.create(h,{autoGenerateKey:!1}),I=Ul.create(d,{autoGenerateKey:!1}),S=ji("span",(function(e){return{children:e}}),c,{defaultProps:{className:"description"},autoGenerateKey:!1}),T=ji("span",(function(e){return{children:e}}),pi(o)?p:o,{defaultProps:{className:"text"},autoGenerateKey:!1});return i.createElement(y,Pe({},v,w,{className:m,onClick:this.handleClick}),E,_,b,I,S,T)},t}(i.Component);th.handledProps=["active","as","children","className","content","description","disabled","flag","icon","image","label","onClick","selected","text","value"],th.propTypes={},th.create=Vi(th,(function(e){return e}));const nh=th;function rh(e){var t=e.children,n=e.className,r=e.content,s=e.icon,o=De("header",n),a=qe(rh,e),c=Ge(rh,e);return pi(t)?i.createElement(c,Pe({},a,{className:o}),Sc.create(s,{autoGenerateKey:!1}),r):i.createElement(c,Pe({},a,{className:o}),t)}rh.handledProps=["as","children","className","content","icon"],rh.propTypes={},rh.create=Vi(rh,(function(e){return{content:e}}));const ih=rh;function sh(e){var t=e.children,n=e.className,r=e.content,s=e.direction,o=e.open,a=e.scrolling,c=De(s,Me(o,"visible"),Me(a,"scrolling"),"menu transition",n),l=qe(sh,e),u=Ge(sh,e);return i.createElement(u,Pe({},l,{className:c}),pi(t)?r:t)}sh.handledProps=["as","children","className","content","direction","open","scrolling"],sh.propTypes={};const oh=sh;var ah=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleChange=function(e){var n=Xr(e,"target.value");ma(t.props,"onChange",e,Pe({},t.props,{value:n}))},t}return Xo(t,e),t.prototype.render=function(){var e=this.props,n=e.autoComplete,r=e.className,s=e.tabIndex,o=e.type,a=e.value,c=De("search",r),l=qe(t,this.props);return i.createElement("input",Pe({},l,{"aria-autocomplete":"list",autoComplete:n,className:c,onChange:this.handleChange,tabIndex:s,type:o,value:a}))},t}(i.Component);ah.handledProps=["as","autoComplete","className","tabIndex","type","value"],ah.propTypes={},ah.defaultProps={autoComplete:"off",type:"text"},ah.create=Vi(ah,(function(e){return{type:e}}));const ch=ah;function lh(e){var t=e.children,n=e.className,r=e.content,s=De("divider",n),o=qe(lh,e),a=Ge(lh,e);return i.createElement(a,Pe({"aria-atomic":!0,"aria-live":"polite",role:"alert"},o,{className:s}),pi(t)?r:t)}lh.handledProps=["as","children","className","content"],lh.propTypes={},lh.create=Vi(lh,(function(e){return{content:e}}));const uh=lh;var hh=/[\\^$.*+?()[\]{}|]/g,dh=RegExp(hh.source);const fh=function(e){return(e=Qr(e))&&dh.test(e)?e.replace(hh,"\\$&"):e};const ph=function(e,t){var n=[];return ui(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n};const mh=function(e,t){return(yn(e)?bn:ph)(e,ai(t,3))};function gh(e){var t=e.additionLabel,n=e.additionPosition,r=e.allowAdditions,s=e.deburr,o=e.multiple,a=e.options,c=e.search,l=e.searchQuery,u=e.value,h=a;if(o&&(h=mh(h,(function(e){return!tl(u,e.value)}))),c&&l)if(bt(c))h=c(h,l);else{var d=s?Sa(l):l,f=new RegExp(fh(d),"i");h=mh(h,(function(e){return f.test(s?Sa(e.text):e.text)}))}if(r&&c&&l&&!fi(h,{text:l})){var p={key:"addition",text:[i.isValidElement(t)?i.cloneElement(t,{key:"addition-label"}):t||"",i.createElement("b",{key:"addition-query"},l)],value:l,className:"addition","data-additional":!0};"top"===n?h.unshift(p):h.push(p)}return h}gh.handledProps=[];const vh=function(e,t,n,r,i){return i(e,(function(e,i,s){n=r?(r=!1,e):t(n,e,i,s)})),n};const yh=function(e,t,n){var r=yn(e)?ba:vh,i=arguments.length<3;return r(e,ai(t,4),n,i,ui)};function wh(e){var t,n=e.additionLabel,r=e.additionPosition,i=e.allowAdditions,s=e.deburr,o=e.multiple,a=e.options,c=e.search,l=e.searchQuery,u=e.selectedIndex,h=e.value,d=gh({value:h,options:a,searchQuery:l,additionLabel:n,additionPosition:r,allowAdditions:i,deburr:s,multiple:o,search:c}),f=yh(d,(function(e,t,n){return t.disabled||e.push(n),e}),[]);if(!u||u<0){var p=f[0];t=o?p:vu(d,["value",h])||f[0]}else if(o)t=yu(f,(function(e){return e>=u})),u>=d.length-1&&(t=f[f.length-1]);else{var m=vu(d,["value",h]);t=tl(f,m)?m:void 0}return(!t||t<0)&&(t=f[0]),t}var bh=function(e,t){return Ui(e)?t:e},_h=function(e){return e?e.map((function(e){return Qu(e,["key","value"])})):e};function Eh(e){var t=e.flag,n=e.image,r=e.text;return bt(r)?r:{content:i.createElement(i.Fragment,null,Xu.create(t),Dl.create(n),r)}}var Ih=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(t=e.call.apply(e,[this].concat(r))||this).searchRef=(0,i.createRef)(),t.sizerRef=(0,i.createRef)(),t.ref=(0,i.createRef)(),t.handleChange=function(e,n){ma(t.props,"onChange",e,Pe({},t.props,{value:n}))},t.closeOnChange=function(e){var n=t.props,r=n.closeOnChange,i=n.multiple;(ga(r)?!i:r)&&t.close(e,Ii)},t.closeOnEscape=function(e){t.props.closeOnEscape&&ml().getCode(e)===ml().Escape&&(e.preventDefault(),t.close(e))},t.moveSelectionOnKeyDown=function(e){var n,r=t.props,i=r.multiple,s=r.selectOnNavigation;if(t.state.open){var o=((n={})[ml().ArrowDown]=1,n[ml().ArrowUp]=-1,n)[ml().getCode(e)];if(void 0!==o){e.preventDefault();var a=t.getSelectedIndexAfterMove(o);!i&&s&&t.makeSelectedItemActive(e,a),t.setState({selectedIndex:a})}}},t.openOnSpace=function(e){var n,r,i,s=t.state.focus&&!t.state.open&&ml().getCode(e)===ml().Spacebar,o="INPUT"!==(null==(n=e.target)?void 0:n.tagName)&&"TEXTAREA"!==(null==(r=e.target)?void 0:r.tagName)&&!0!==(null==(i=e.target)?void 0:i.isContentEditable);s&&(o&&e.preventDefault(),t.open(e))},t.openOnArrow=function(e){var n=t.state,r=n.focus,i=n.open;if(r&&!i){var s=ml().getCode(e);s!==ml().ArrowDown&&s!==ml().ArrowUp||(e.preventDefault(),t.open(e))}},t.makeSelectedItemActive=function(e,n){var r=t.state,i=r.open,s=r.value,o=t.props.multiple,a=t.getSelectedItem(n),c=Xr(a,"value"),l=Xr(a,"disabled");if(Ui(c)||!i||l)return s;var u=o?qu(s,[c]):c;return(o?!!Bu(u,s).length:u!==s)&&(t.setState({value:u}),t.handleChange(e,u),a["data-additional"]&&ma(t.props,"onAddItem",e,Pe({},t.props,{value:c}))),s},t.selectItemOnEnter=function(e){var n=t.props.search,r=t.state,i=r.open,s=r.selectedIndex;if(i&&(ml().getCode(e)===ml().Enter||!n&&ml().getCode(e)===ml().Spacebar)){e.preventDefault();var o=Fu(gh({value:t.state.value,options:t.props.options,searchQuery:t.state.searchQuery,additionLabel:t.props.additionLabel,additionPosition:t.props.additionPosition,allowAdditions:t.props.allowAdditions,deburr:t.props.deburr,multiple:t.props.multiple,search:t.props.search}));if(!n||0!==o){var a=t.makeSelectedItemActive(e,s);t.setState({selectedIndex:wh({additionLabel:t.props.additionLabel,additionPosition:t.props.additionPosition,allowAdditions:t.props.allowAdditions,deburr:t.props.deburr,multiple:t.props.multiple,search:t.props.search,selectedIndex:s,value:a,options:t.props.options,searchQuery:""})}),t.closeOnChange(e),t.clearSearchQuery(),n&&ma(t.searchRef.current,"focus")}}},t.removeItemOnBackspace=function(e){var n=t.props,r=n.multiple,i=n.search,s=t.state,o=s.searchQuery,a=s.value;if(ml().getCode(e)===ml().Backspace&&!o&&i&&r&&!_u(a)){e.preventDefault();var c=wu(a);t.setState({value:c}),t.handleChange(e,c)}},t.closeOnDocumentClick=function(e){t.props.closeOnBlur&&(t.ref.current&&_l(t.ref.current,e)||t.close())},t.handleMouseDown=function(e){t.isMouseDown=!0,ma(t.props,"onMouseDown",e,t.props),document.addEventListener("mouseup",t.handleDocumentMouseUp)},t.handleDocumentMouseUp=function(){t.isMouseDown=!1,document.removeEventListener("mouseup",t.handleDocumentMouseUp)},t.handleClick=function(e){var n=t.props,r=n.minCharacters,i=n.search,s=t.state,o=s.open,a=s.searchQuery;if(ma(t.props,"onClick",e,t.props),e.stopPropagation(),!i)return t.toggle(e);o?ma(t.searchRef.current,"focus"):a.length>=r||1===r?t.open(e):ma(t.searchRef.current,"focus")},t.handleIconClick=function(e){var n=t.props.clearable,r=t.hasValue();ma(t.props,"onClick",e,t.props),e.stopPropagation(),n&&r?t.clearValue(e):t.toggle(e)},t.handleItemClick=function(e,n){var r=t.props,i=r.multiple,s=r.search,o=t.state.value,a=n.value;if(e.stopPropagation(),(i||n.disabled)&&e.nativeEvent.stopImmediatePropagation(),!n.disabled){var c=n["data-additional"],l=i?qu(t.state.value,[a]):a;(i?!!Bu(l,o).length:l!==o)&&(t.setState({value:l}),t.handleChange(e,l)),t.clearSearchQuery(),ma(s?t.searchRef.current:t.ref.current,"focus"),t.closeOnChange(e),c&&ma(t.props,"onAddItem",e,Pe({},t.props,{value:a}))}},t.handleFocus=function(e){t.state.focus||(ma(t.props,"onFocus",e,t.props),t.setState({focus:!0}))},t.handleBlur=function(e){var n=Xr(e,"currentTarget");if(!n||!n.contains(document.activeElement)){var r=t.props,i=r.closeOnBlur,s=r.multiple,o=r.selectOnBlur;t.isMouseDown||(ma(t.props,"onBlur",e,t.props),o&&!s&&(t.makeSelectedItemActive(e,t.state.selectedIndex),i&&t.close()),t.setState({focus:!1}),t.clearSearchQuery())}},t.handleSearchChange=function(e,n){var r=n.value;e.stopPropagation();var i=t.props.minCharacters,s=t.state.open,o=r;ma(t.props,"onSearchChange",e,Pe({},t.props,{searchQuery:o})),t.setState({searchQuery:o,selectedIndex:0}),!s&&o.length>=i?t.open():s&&1!==i&&o.length<i&&t.close()},t.handleKeyDown=function(e){t.moveSelectionOnKeyDown(e),t.openOnArrow(e),t.openOnSpace(e),t.selectItemOnEnter(e),ma(t.props,"onKeyDown",e)},t.getSelectedItem=function(e){var n=gh({value:t.state.value,options:t.props.options,searchQuery:t.state.searchQuery,additionLabel:t.props.additionLabel,additionPosition:t.props.additionPosition,allowAdditions:t.props.allowAdditions,deburr:t.props.deburr,multiple:t.props.multiple,search:t.props.search});return Xr(n,"["+e+"]")},t.getItemByValue=function(e){var n=t.props.options;return yu(n,{value:e})},t.getDropdownAriaOptions=function(){var e=t.props,n=e.loading,r=e.disabled,i=e.search,s=e.multiple,o={role:i?"combobox":"listbox","aria-busy":n,"aria-disabled":r,"aria-expanded":!!t.state.open};return"listbox"===o.role&&(o["aria-multiselectable"]=s),o},t.clearSearchQuery=function(){var e=t.state.searchQuery;void 0!==e&&""!==e&&t.setState({searchQuery:""})},t.handleLabelClick=function(e,n){e.stopPropagation(),t.setState({selectedLabel:n.value}),ma(t.props,"onLabelClick",e,n)},t.handleLabelRemove=function(e,n){e.stopPropagation();var r=t.state.value,i=pu(r,n.value);t.setState({value:i}),t.handleChange(e,i)},t.getSelectedIndexAfterMove=function(e,n){void 0===n&&(n=t.state.selectedIndex);var r=gh({value:t.state.value,options:t.props.options,searchQuery:t.state.searchQuery,additionLabel:t.props.additionLabel,additionPosition:t.props.additionPosition,allowAdditions:t.props.allowAdditions,deburr:t.props.deburr,multiple:t.props.multiple,search:t.props.search});if(void 0!==r&&!uu(r,"disabled")){var i=r.length-1,s=n+e;return!t.props.wrapSelection&&(s>i||s<0)?s=n:s>i?s=0:s<0&&(s=i),r[s].disabled?t.getSelectedIndexAfterMove(e,s):s}},t.handleIconOverrides=function(e){var n=t.props.clearable;return{className:De(n&&t.hasValue()&&"clear",e.className),onClick:function(n){ma(e,"onClick",n,e),t.handleIconClick(n)}}},t.clearValue=function(e){var n=t.props.multiple?[]:"";t.setState({value:n}),t.handleChange(e,n)},t.computeSearchInputTabIndex=function(){var e=t.props,n=e.disabled,r=e.tabIndex;return Ui(r)?n?-1:0:r},t.computeSearchInputWidth=function(){var e=t.state.searchQuery;if(t.sizerRef.current&&e){t.sizerRef.current.style.display="inline",t.sizerRef.current.textContent=e;var n=Math.ceil(t.sizerRef.current.getBoundingClientRect().width);return t.sizerRef.current.style.removeProperty("display"),n}},t.computeTabIndex=function(){var e=t.props,n=e.disabled,r=e.search,i=e.tabIndex;if(!r)return n?-1:Ui(i)?0:i},t.handleSearchInputOverrides=function(e){return{onChange:function(n,r){ma(e,"onChange",n,r),t.handleSearchChange(n,r)}}},t.hasValue=function(){var e=t.props.multiple,n=t.state.value;return e?!_u(n):!Ui(n)&&""!==n},t.scrollSelectedItemIntoView=function(){if(t.ref.current){var e=t.ref.current.querySelector(".menu.visible");if(e){var n=e.querySelector(".item.selected");if(n){var r=n.offsetTop<e.scrollTop,i=n.offsetTop+n.clientHeight>e.scrollTop+e.clientHeight;r?e.scrollTop=n.offsetTop:i&&(e.scrollTop=n.offsetTop+n.clientHeight-e.clientHeight)}}}},t.setOpenDirection=function(){if(t.ref.current){var e=t.ref.current.querySelector(".menu.visible");if(e){var n=t.ref.current.getBoundingClientRect(),r=e.clientHeight,i=document.documentElement.clientHeight-n.top-n.height-r,s=n.top-r,o=i<0&&s>i;!o!==!t.state.upward&&t.setState({upward:o})}}},t.open=function(e,n){void 0===e&&(e=null),void 0===n&&(n=!0);var r=t.props,i=r.disabled,s=r.search;i||(s&&ma(t.searchRef.current,"focus"),ma(t.props,"onOpen",e,t.props),n&&t.setState({open:!0}),t.scrollSelectedItemIntoView())},t.close=function(e,n){void 0===n&&(n=t.handleClose),t.state.open&&(ma(t.props,"onClose",e,t.props),t.setState({open:!1},n))},t.handleClose=function(){var e=document.activeElement===t.searchRef.current;!e&&t.ref.current&&t.ref.current.blur();var n=document.activeElement===t.ref.current,r=e||n;t.setState({focus:r})},t.toggle=function(e){return t.state.open?t.close(e):t.open(e)},t.renderText=function(){var e,n=t.props,r=n.multiple,i=n.placeholder,s=n.search,o=n.text,a=t.state,c=a.searchQuery,l=a.selectedIndex,u=a.value,h=a.open,d=t.hasValue(),f=De(i&&!d&&"default","text",s&&c&&"filtered"),p=i;return o?p=o:h&&!r?e=t.getSelectedItem(l):d&&(e=t.getItemByValue(u)),uh.create(e?Eh(e):p,{defaultProps:{className:f}})},t.renderSearchInput=function(){var e=t.props,n=e.search,r=e.searchInput,s=t.state.searchQuery;return n&&i.createElement(jc,{innerRef:t.searchRef},ch.create(r,{defaultProps:{style:{width:t.computeSearchInputWidth()},tabIndex:t.computeSearchInputTabIndex(),value:s},overrideProps:t.handleSearchInputOverrides}))},t.renderSearchSizer=function(){var e=t.props,n=e.search,r=e.multiple;return n&&r&&i.createElement("span",{className:"sizer",ref:t.sizerRef})},t.renderLabels=function(){var e=t.props,n=e.multiple,r=e.renderLabel,i=t.state,s=i.selectedLabel,o=i.value;if(n&&!_u(o)){var a=ea(o,t.getItemByValue);return ea(au(a),(function(e,n){var i={active:e.value===s,as:"a",key:bh(e.key,e.value),onClick:t.handleLabelClick,onRemove:t.handleLabelRemove,value:e.value};return Ul.create(r(e,n,i),{defaultProps:i})}))}},t.renderOptions=function(){var e=t.props,n=e.lazyLoad,r=e.multiple,s=e.search,o=e.noResultsMessage,a=t.state,c=a.open,l=a.selectedIndex,u=a.value;if(n&&!c)return null;var h=gh({value:t.state.value,options:t.props.options,searchQuery:t.state.searchQuery,additionLabel:t.props.additionLabel,additionPosition:t.props.additionPosition,allowAdditions:t.props.allowAdditions,deburr:t.props.deburr,multiple:t.props.multiple,search:t.props.search});if(null!==o&&s&&_u(h))return i.createElement("div",{className:"message"},o);var d=r?function(e){return tl(u,e)}:function(e){return e===u};return ea(h,(function(e,n){return nh.create(Pe({active:d(e.value),selected:l===n},e,{key:bh(e.key,e.value),style:Pe({},e.style,{pointerEvents:"all"})}),{generateKey:!1,overrideProps:function(e){return{onClick:function(n,r){null==e.onClick||e.onClick(n,r),t.handleItemClick(n,r)}}}})}))},t.renderMenu=function(){var e=t.props,n=e.children,r=e.direction,s=e.header,o=t.state.open,a=t.getDropdownMenuAriaOptions();if(!pi(n)){var c=i.Children.only(n),l=De(r,Me(o,"visible"),c.props.className);return(0,i.cloneElement)(c,Pe({className:l},a))}return i.createElement(oh,Pe({},a,{direction:r,open:o}),ih.create(s,{autoGenerateKey:!1}),t.renderOptions())},t}Xo(t,e);var n=t.prototype;return n.getInitialAutoControlledState=function(){return{focus:!1,searchQuery:""}},t.getAutoControlledStateFromProps=function(e,t,n){var r={__options:e.options,__value:t.value};return(!$u()(n.__value,t.value)||!Gu(_h(e.options),_h(n.__options)))&&(r.selectedIndex=wh({additionLabel:e.additionLabel,additionPosition:e.additionPosition,allowAdditions:e.allowAdditions,deburr:e.deburr,multiple:e.multiple,search:e.search,selectedIndex:t.selectedIndex,value:t.value,options:e.options,searchQuery:t.searchQuery})),r},n.componentDidMount=function(){this.state.open&&this.open(null,!1)},n.shouldComponentUpdate=function(e,t){return!$u()(e,this.props)||!$u()(t,this.state)},n.componentDidUpdate=function(e,t){var n=this.props,r=n.closeOnBlur,i=n.minCharacters,s=n.openOnFocus,o=n.search;if(!t.focus&&this.state.focus){if(!this.isMouseDown){var a=!o||o&&1===i&&!this.state.open;s&&a&&this.open()}}else t.focus&&!this.state.focus&&!this.isMouseDown&&r&&this.close();!t.open&&this.state.open?(this.setOpenDirection(),this.scrollSelectedItemIntoView()):t.open&&this.state.open,t.selectedIndex!==this.state.selectedIndex&&this.scrollSelectedItemIntoView()},n.getDropdownMenuAriaOptions=function(){var e=this.props,t=e.search,n=e.multiple,r={};return t&&(r["aria-multiselectable"]=n,r.role="listbox"),r},n.render=function(){var e=this.props,n=e.basic,r=e.button,s=e.className,o=e.compact,a=e.disabled,c=e.error,l=e.fluid,u=e.floating,h=e.icon,d=e.inline,f=e.item,p=e.labeled,m=e.loading,g=e.multiple,v=e.pointing,y=e.search,w=e.selection,b=e.scrolling,_=e.simple,E=e.trigger,I=this.state,S=I.focus,T=I.open,k=I.upward,C=De("ui",Me(T,"active visible"),Me(a,"disabled"),Me(c,"error"),Me(m,"loading"),Me(n,"basic"),Me(r,"button"),Me(o,"compact"),Me(l,"fluid"),Me(u,"floating"),Me(d,"inline"),Me(p,"labeled"),Me(f,"item"),Me(g,"multiple"),Me(y,"search"),Me(w,"selection"),Me(_,"simple"),Me(b,"scrolling"),Me(k,"upward"),Ue(v,"pointing"),"dropdown",s),x=qe(t,this.props),N=Ge(t,this.props),A=this.getDropdownAriaOptions(N,this.props);return i.createElement(jc,{innerRef:this.ref},i.createElement(N,Pe({},x,A,{className:C,onBlur:this.handleBlur,onClick:this.handleClick,onKeyDown:this.handleKeyDown,onMouseDown:this.handleMouseDown,onFocus:this.handleFocus,onChange:this.handleChange,tabIndex:this.computeTabIndex()}),this.renderLabels(),this.renderSearchInput(),this.renderSearchSizer(),E||this.renderText(),Sc.create(h,{overrideProps:this.handleIconOverrides,autoGenerateKey:!1}),this.renderMenu(),T&&i.createElement(fl(),{name:"keydown",on:this.closeOnEscape}),T&&i.createElement(fl(),{name:"click",on:this.closeOnDocumentClick}),S&&i.createElement(fl(),{name:"keydown",on:this.removeItemOnBackspace})))},t}(va);function Sh(e){var t=e.control,n=qe(Sh,e),r=Ge(Sh,e);return i.createElement(r,Pe({},n,{control:t}))}Ih.handledProps=["additionLabel","additionPosition","allowAdditions","as","basic","button","children","className","clearable","closeOnBlur","closeOnChange","closeOnEscape","compact","deburr","defaultOpen","defaultSearchQuery","defaultSelectedLabel","defaultUpward","defaultValue","direction","disabled","error","floating","fluid","header","icon","inline","item","labeled","lazyLoad","loading","minCharacters","multiple","noResultsMessage","onAddItem","onBlur","onChange","onClick","onClose","onFocus","onLabelClick","onMouseDown","onOpen","onSearchChange","open","openOnFocus","options","placeholder","pointing","renderLabel","scrolling","search","searchInput","searchQuery","selectOnBlur","selectOnNavigation","selectedLabel","selection","simple","tabIndex","text","trigger","upward","value","wrapSelection"],Ih.propTypes={},Ih.defaultProps={additionLabel:"Add ",additionPosition:"top",closeOnBlur:!0,closeOnEscape:!0,deburr:!1,icon:"dropdown",minCharacters:1,noResultsMessage:"No results found.",openOnFocus:!0,renderLabel:Eh,searchInput:"text",selectOnBlur:!0,selectOnNavigation:!0,wrapSelection:!0},Ih.autoControlledProps=["open","searchQuery","selectedLabel","value","upward"],Ih.Divider=eh,Ih.Header=ih,Ih.Item=nh,Ih.Menu=oh,Ih.SearchInput=ch,Ih.Text=uh,Sh.handledProps=["as","control"],Sh.propTypes={},Sh.defaultProps={as:nu,control:Ih};const Th=Sh;function kh(e){var t=e.children,n=e.className,r=e.grouped,s=e.inline,o=e.unstackable,a=e.widths,c=De(Me(r,"grouped"),Me(s,"inline"),Me(o,"unstackable"),Be(a,null,!0),"fields",n),l=qe(kh,e),u=Ge(kh,e);return i.createElement(u,Pe({},l,{className:c}),t)}kh.handledProps=["as","children","className","grouped","inline","unstackable","widths"],kh.propTypes={};const Ch=kh;var xh=function(e){function t(){for(var n,r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return(n=e.call.apply(e,[this].concat(s))||this).inputRef=(0,i.createRef)(),n.computeIcon=function(){var e=n.props,t=e.loading,r=e.icon;return Ui(r)?t?"spinner":void 0:r},n.computeTabIndex=function(){var e=n.props,t=e.disabled,r=e.tabIndex;return Ui(r)?t?-1:void 0:r},n.focus=function(e){return n.inputRef.current.focus(e)},n.select=function(){return n.inputRef.current.select()},n.handleChange=function(e){var t=Xr(e,"target.value");ma(n.props,"onChange",e,Pe({},n.props,{value:t}))},n.handleChildOverrides=function(e,t){return Pe({},t,e.props,{ref:function(t){Oc(e.ref,t),n.inputRef.current=t}})},n.partitionProps=function(){var e=n.props,r=e.disabled,i=e.type,s=n.computeTabIndex(),o=qe(t,n.props),a=cl(o),c=a[0],l=a[1];return[Pe({},c,{disabled:r,type:i,tabIndex:s,onChange:n.handleChange,ref:n.inputRef}),l]},n}return Xo(t,e),t.prototype.render=function(){var e=this,n=this.props,r=n.action,s=n.actionPosition,o=n.children,a=n.className,c=n.disabled,l=n.error,u=n.fluid,h=n.focus,d=n.icon,f=n.iconPosition,p=n.input,m=n.inverted,g=n.label,v=n.labelPosition,y=n.loading,w=n.size,b=n.transparent,_=n.type,E=De("ui",w,Me(c,"disabled"),Me(l,"error"),Me(u,"fluid"),Me(h,"focus"),Me(m,"inverted"),Me(y,"loading"),Me(b,"transparent"),Fe(s,"action")||Me(r,"action"),Fe(f,"icon")||Me(d||y,"icon"),Fe(v,"labeled")||Me(g,"labeled"),"input",a),I=Ge(t,this.props),S=this.partitionProps(),T=S[0],k=S[1];if(!pi(o)){var C=ea(i.Children.toArray(o),(function(t){return"input"!==t.type?t:(0,i.cloneElement)(t,e.handleChildOverrides(t,T))}));return i.createElement(I,Pe({},k,{className:E}),C)}var x=Hl.create(r,{autoGenerateKey:!1}),N=Ul.create(g,{defaultProps:{className:De("label",tl(v,"corner")&&v)},autoGenerateKey:!1});return i.createElement(I,Pe({},k,{className:E}),"left"===s&&x,"right"!==v&&N,Bi(p||_,{defaultProps:T,autoGenerateKey:!1}),Sc.create(this.computeIcon(),{autoGenerateKey:!1}),"left"!==s&&x,"right"===v&&N)},t}(i.Component);xh.handledProps=["action","actionPosition","as","children","className","disabled","error","fluid","focus","icon","iconPosition","input","inverted","label","labelPosition","loading","onChange","size","tabIndex","transparent","type"],xh.propTypes={},xh.defaultProps={type:"text"},xh.create=Vi(xh,(function(e){return{type:e}}));const Nh=xh;function Ah(e){var t=e.control,n=qe(Ah,e),r=Ge(Ah,e);return i.createElement(r,Pe({},n,{control:t}))}Ah.handledProps=["as","control"],Ah.propTypes={},Ah.defaultProps={as:nu,control:Nh};const Ph=Ah;function Rh(e){var t=e.control,n=qe(Rh,e),r=Ge(Rh,e);return i.createElement(r,Pe({},n,{control:t}))}Rh.handledProps=["as","control"],Rh.propTypes={},Rh.defaultProps={as:nu,control:eu};const Dh=Rh;function Oh(e){return i.createElement(Ih,Pe({},e,{selection:!0}))}Oh.handledProps=["options"],Oh.propTypes={},Oh.Divider=Ih.Divider,Oh.Header=Ih.Header,Oh.Item=Ih.Item,Oh.Menu=Ih.Menu;const Lh=Oh;function Mh(e){var t=e.control,n=e.options,r=qe(Mh,e),s=Ge(Mh,e);return i.createElement(s,Pe({},r,{control:t,options:n}))}Mh.handledProps=["as","control","options"],Mh.propTypes={},Mh.defaultProps={as:nu,control:Lh};const Fh=Mh;var Uh=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(t=e.call.apply(e,[this].concat(r))||this).ref=(0,i.createRef)(),t.focus=function(){return t.ref.current.focus()},t.handleChange=function(e){var n=Xr(e,"target.value");ma(t.props,"onChange",e,Pe({},t.props,{value:n}))},t.handleInput=function(e){var n=Xr(e,"target.value");ma(t.props,"onInput",e,Pe({},t.props,{value:n}))},t}return Xo(t,e),t.prototype.render=function(){var e=this.props,n=e.rows,r=e.value,s=qe(t,this.props),o=Ge(t,this.props);return i.createElement(jc,{innerRef:this.ref},i.createElement(o,Pe({},s,{onChange:this.handleChange,onInput:this.handleInput,rows:n,value:r})))},t}(i.Component);Uh.handledProps=["as","onChange","onInput","rows","value"],Uh.propTypes={},Uh.defaultProps={as:"textarea",rows:3};const jh=Uh;function Vh(e){var t=e.control,n=qe(Vh,e),r=Ge(Vh,e);return i.createElement(r,Pe({},n,{control:t}))}Vh.handledProps=["as","control"],Vh.propTypes={},Vh.defaultProps={as:nu,control:jh};const zh=Vh;var Bh=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleSubmit=function(e){"string"!==typeof t.props.action&&ma(e,"preventDefault");for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];ma.apply(void 0,[t.props,"onSubmit",e,t.props].concat(r))},t}return Xo(t,e),t.prototype.render=function(){var e=this.props,n=e.action,r=e.children,s=e.className,o=e.error,a=e.inverted,c=e.loading,l=e.reply,u=e.size,h=e.success,d=e.unstackable,f=e.warning,p=e.widths,m=De("ui",u,Me(o,"error"),Me(a,"inverted"),Me(c,"loading"),Me(l,"reply"),Me(h,"success"),Me(d,"unstackable"),Me(f,"warning"),Be(p,null,!0),"form",s),g=qe(t,this.props),v=Ge(t,this.props);return i.createElement(v,Pe({},g,{action:n,className:m,onSubmit:this.handleSubmit}),r)},t}(i.Component);Bh.handledProps=["action","as","children","className","error","inverted","loading","onSubmit","reply","size","success","unstackable","warning","widths"],Bh.propTypes={},Bh.defaultProps={as:"form"},Bh.Field=nu,Bh.Button=iu,Bh.Checkbox=ou,Bh.Dropdown=Th,Bh.Group=Ch,Bh.Input=Ph,Bh.Radio=Dh,Bh.Select=Fh,Bh.TextArea=zh;const qh=Bh;function Gh(e){var t=e.children,n=e.className,r=e.content,s=De("content",n),o=qe(Gh,e),a=Ge(Gh,e);return i.createElement(a,Pe({},o,{className:s}),pi(t)?r:t)}Gh.handledProps=["as","children","className","content"],Gh.propTypes={};const Kh=Gh;function Hh(e){var t=e.children,n=e.className,r=e.content,s=De("header",n),o=qe(Hh,e),a=Ge(Hh,e);return i.createElement(a,Pe({},o,{className:s}),pi(t)?r:t)}Hh.handledProps=["as","children","className","content"],Hh.propTypes={},Hh.create=Vi(Hh,(function(e){return{content:e}}));const Wh=Hh;function Qh(e){var t=e.children,n=e.className,r=e.content,s=De("content",n),o=qe(Qh,e),a=Ge(Qh,e);return i.createElement(a,Pe({},o,{className:s}),pi(t)?r:t)}Qh.handledProps=["as","children","className","content"],Qh.propTypes={},Qh.defaultProps={as:"li"},Qh.create=Vi(Qh,(function(e){return{content:e}}));const Yh=Qh;function $h(e){var t=e.children,n=e.className,r=e.items,s=De("list",n),o=qe($h,e),a=Ge($h,e);return i.createElement(a,Pe({},o,{className:s}),pi(t)?ea(r,Yh.create):t)}$h.handledProps=["as","children","className","items"],$h.propTypes={},$h.defaultProps={as:"ul"},$h.create=Vi($h,(function(e){return{items:e}}));const Jh=$h;var Xh=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleDismiss=function(e){var n=t.props.onDismiss;n&&n(e,t.props)},t}return Xo(t,e),t.prototype.render=function(){var e=this.props,n=e.attached,r=e.children,s=e.className,o=e.color,a=e.compact,c=e.content,l=e.error,u=e.floating,h=e.header,d=e.hidden,f=e.icon,p=e.info,m=e.list,g=e.negative,v=e.onDismiss,y=e.positive,w=e.size,b=e.success,_=e.visible,E=e.warning,I=De("ui",o,w,Me(a,"compact"),Me(l,"error"),Me(u,"floating"),Me(d,"hidden"),Me(f,"icon"),Me(p,"info"),Me(g,"negative"),Me(y,"positive"),Me(b,"success"),Me(_,"visible"),Me(E,"warning"),Ue(n,"attached"),"message",s),S=v&&i.createElement(Sc,{name:"close",onClick:this.handleDismiss}),T=qe(t,this.props),k=Ge(t,this.props);return pi(r)?i.createElement(k,Pe({},T,{className:I}),S,Sc.create(f,{autoGenerateKey:!1}),(!Ui(h)||!Ui(c)||!Ui(m))&&i.createElement(Kh,null,Wh.create(h,{autoGenerateKey:!1}),Jh.create(m,{autoGenerateKey:!1}),Gi(c,{autoGenerateKey:!1}))):i.createElement(k,Pe({},T,{className:I}),S,r)},t}(i.Component);Xh.handledProps=["as","attached","children","className","color","compact","content","error","floating","header","hidden","icon","info","list","negative","onDismiss","positive","size","success","visible","warning"],Xh.propTypes={},Xh.Content=Kh,Xh.Header=Wh,Xh.List=Jh,Xh.Item=Yh;function Zh(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;const ed={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},td="EMAIL_SIGNIN",nd="PASSWORD_RESET",rd="RECOVER_EMAIL",id="REVERT_SECOND_FACTOR_ADDITION",sd="VERIFY_AND_CHANGE_EMAIL",od="VERIFY_EMAIL";function ad(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const cd=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements."}},ld=ad,ud=new vs("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),hd=new js("@firebase/auth");function dd(e){if(hd.logLevel<=Os.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];hd.error("Auth (".concat(So,"): ").concat(e),...n)}}function fd(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw yd(e,...n)}function pd(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return yd(e,...n)}function md(e,t,n){const r=Object.assign(Object.assign({},ld()),{[t]:n});return new vs("auth","Firebase",r).create(t,{appName:e.name})}function gd(e){return md(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function vd(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&fd(e,"argument-error"),md(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function yd(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return ud.create(e,...n)}function wd(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw yd(t,...r)}}function bd(e){const t="INTERNAL ASSERTION FAILED: "+e;throw dd(t),new Error(t)}function _d(e,t){e||bd(t)}function Ed(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Id(){return"http:"===Sd()||"https:"===Sd()}function Sd(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class Td{constructor(e,t){this.shortDelay=e,this.longDelay=t,_d(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(cs())||ds()}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Id()||hs()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function kd(e,t){_d(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class Cd{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void bd("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void bd("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void bd("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const xd={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Nd=new Td(3e4,6e4);function Ad(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Pd(e,t,n,r){return Rd(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});const o=Es(Object.assign({key:e.config.apiKey},s)).slice(1),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode),Cd.fetch()(Od(e,e.config.apiHost,n,o),Object.assign({method:t,headers:a,referrerPolicy:"no-referrer"},i))}))}async function Rd(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},xd),t);try{const t=new Md(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw Fd(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,o]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Fd(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw Fd(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw Fd(e,"user-disabled",s);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw md(e,a,o);fd(e,a)}}catch(wF){if(wF instanceof gs)throw wF;fd(e,"network-request-failed",{message:String(wF)})}}async function Dd(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await Pd(e,t,n,r,i);return"mfaPendingCredential"in s&&fd(e,"multi-factor-auth-required",{_serverResponse:s}),s}function Od(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?kd(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}function Ld(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Md{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(pd(this.auth,"network-request-failed"))),Nd.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function Fd(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=pd(e,t,r);return i.customData._tokenResponse=n,i}function Ud(e){return void 0!==e&&void 0!==e.getResponse}function jd(e){return void 0!==e&&void 0!==e.enterprise}class Vd{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Ld(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}async function zd(e,t){return Pd(e,"GET","/v2/recaptchaConfig",Ad(e,t))}async function Bd(e,t){return Pd(e,"POST","/v1/accounts:lookup",t)}function qd(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(wF){}}function Gd(e){return 1e3*Number(e)}function Kd(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return dd("JWT malformed, contained fewer than 3 sections"),null;try{const e=ts(n);return e?JSON.parse(e):(dd("Failed to decode base64 JWT payload"),null)}catch(wF){return dd("Caught error parsing JWT payload as JSON",null===wF||void 0===wF?void 0:wF.toString()),null}}function Hd(e){const t=Kd(e);return wd(t,"internal-error"),wd("undefined"!==typeof t.exp,"internal-error"),wd("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function Wd(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(wF){throw wF instanceof gs&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(wF)&&e.auth.currentUser===e&&await e.auth.signOut(),wF}}class Qd{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(wF){return void((null===wF||void 0===wF?void 0:wF.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class Yd{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=qd(this.lastLoginAt),this.creationTime=qd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function $d(e){var t;const n=e.auth,r=await e.getIdToken(),i=await Wd(e,Bd(n,{idToken:r}));wd(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const o=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?Jd(s.providerUserInfo):[],a=(c=e.providerData,l=o,[...c.filter((e=>!l.some((t=>t.providerId===e.providerId)))),...l]);var c,l;const u=e.isAnonymous,h=!(e.email&&s.passwordHash)&&!(null===a||void 0===a?void 0:a.length),d=!!u&&h,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Yd(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(e,f)}function Jd(e){return e.map((e=>{var{providerId:t}=e,n=Zh(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}class Xd{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){wd(e.idToken,"internal-error"),wd("undefined"!==typeof e.idToken,"internal-error"),wd("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):Hd(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){wd(0!==e.length,"internal-error");const t=Hd(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(wd(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await Rd(e,{},(async()=>{const n=Es({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=Od(e,r,"/v1/token","key=".concat(i)),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",Cd.fetch()(s,{method:"POST",headers:o,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new Xd;return n&&(wd("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(wd("string"===typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(wd("number"===typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Xd,this.toJSON())}_performRefresh(){return bd("not implemented")}}function Zd(e,t){wd("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class ef{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=Zh(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Qd(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Yd(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Wd(this,this.stsTokenManager.getToken(this.auth,e));return wd(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=xs(e),r=await n.getIdToken(t),i=Kd(r);wd(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"===typeof i.firebase?i.firebase:void 0,o=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:qd(Gd(i.auth_time)),issuedAtTime:qd(Gd(i.iat)),expirationTime:qd(Gd(i.exp)),signInProvider:o||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=xs(e);await $d(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(wd(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ef(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){wd(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await $d(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(wo(this.auth.app))return Promise.reject(gd(this.auth));const e=await this.getIdToken();return await Wd(this,async function(e,t){return Pd(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,o,a,c,l;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(o=t.tenantId)&&void 0!==o?o:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(c=t.createdAt)&&void 0!==c?c:void 0,v=null!==(l=t.lastLoginAt)&&void 0!==l?l:void 0,{uid:y,emailVerified:w,isAnonymous:b,providerData:_,stsTokenManager:E}=t;wd(y&&E,e,"internal-error");const I=Xd.fromJSON(this.name,E);wd("string"===typeof y,e,"internal-error"),Zd(u,e.name),Zd(h,e.name),wd("boolean"===typeof w,e,"internal-error"),wd("boolean"===typeof b,e,"internal-error"),Zd(d,e.name),Zd(f,e.name),Zd(p,e.name),Zd(m,e.name),Zd(g,e.name),Zd(v,e.name);const S=new ef({uid:y,auth:e,email:h,emailVerified:w,displayName:u,isAnonymous:b,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:I,createdAt:g,lastLoginAt:v});return _&&Array.isArray(_)&&(S.providerData=_.map((e=>Object.assign({},e)))),m&&(S._redirectEventId=m),S}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new Xd;r.updateFromServerResponse(t);const i=new ef({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await $d(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];wd(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?Jd(r.providerUserInfo):[],s=!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length),o=new Xd;o.updateFromIdToken(n);const a=new ef({uid:r.localId,auth:e,stsTokenManager:o,isAnonymous:s}),c={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new Yd(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length)};return Object.assign(a,c),a}}const tf=new Map;function nf(e){_d(e instanceof Function,"Expected a class definition");let t=tf.get(e);return t?(_d(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,tf.set(e,t),t)}class rf{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}rf.type="NONE";const sf=rf;function of(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class af{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=of(this.userKey,r.apiKey,i),this.fullPersistenceKey=of("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ef._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new af(nf(sf),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||nf(sf);const s=of(n,e.config.apiKey,e.name);let o=null;for(const l of t)try{const t=await l._get(s);if(t){const n=ef._fromJSON(e,t);l!==i&&(o=n),i=l;break}}catch(c){}const a=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&a.length?(i=a[0],o&&await i._set(s,o.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(s)}catch(c){}}))),new af(i,e,n)):new af(i,e,n)}}function cf(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(df(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(lf(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(pf(t))return"Blackberry";if(mf(t))return"Webos";if(uf(t))return"Safari";if((t.includes("chrome/")||hf(t))&&!t.includes("edge/"))return"Chrome";if(ff(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function lf(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cs();return/firefox\//i.test(e)}function uf(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:cs()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function hf(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cs();return/crios\//i.test(e)}function df(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cs();return/iemobile/i.test(e)}function ff(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cs();return/android/i.test(e)}function pf(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cs();return/blackberry/i.test(e)}function mf(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cs();return/webos/i.test(e)}function gf(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cs();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function vf(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cs();return gf(e)||ff(e)||mf(e)||pf(e)||/windows phone/i.test(e)||df(e)}function yf(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=cf(cs());break;case"Worker":t="".concat(cf(cs()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(So,"/").concat(r)}class wf{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(wF){r(wF)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(wF){t.reverse();for(const r of t)try{r()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===wF||void 0===wF?void 0:wF.message})}}}class bf{constructor(e){var t,n,r,i;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,s,o;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=null===(t=a.meetsMinPasswordLength)||void 0===t||t),a.isValid&&(a.isValid=null===(n=a.meetsMaxPasswordLength)||void 0===n||n),a.isValid&&(a.isValid=null===(r=a.containsLowercaseLetter)||void 0===r||r),a.isValid&&(a.isValid=null===(i=a.containsUppercaseLetter)||void 0===i||i),a.isValid&&(a.isValid=null===(s=a.containsNumericCharacter)||void 0===s||s),a.isValid&&(a.isValid=null===(o=a.containsNonAlphanumericCharacter)||void 0===o||o),a}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class _f{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new If(this),this.idTokenSubscription=new If(this),this.beforeStateQueue=new wf(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ud,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=nf(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await af.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(wF){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await Bd(this,{idToken:e}),n=await ef._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(wo(this.app)){const e=this.app.settings.authIdToken;return e?new Promise((t=>{setTimeout((()=>this.initializeCurrentUserFromIdToken(e).then(t,t)))})):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null===r||void 0===r?void 0:r._redirectEventId,o=await this.tryRedirectSignIn(e);n&&n!==s||!(null===o||void 0===o?void 0:o.user)||(r=o.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(wF){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(wF)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return wd(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(wF){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await $d(e)}catch(wF){if((null===wF||void 0===wF?void 0:wF.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(wo(this.app))return Promise.reject(gd(this));const t=e?xs(e):null;return t&&wd(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&wd(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return wo(this.app)?Promise.reject(gd(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return wo(this.app)?Promise.reject(gd(this)):this.queue((async()=>{await this.assertedPersistence.setPersistence(nf(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return Pd(e,"GET","/v2/passwordPolicy",Ad(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new bf(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new vs("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return Pd(e,"POST","/v2/accounts:revokeToken",Ad(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&nf(e)||this._popupRedirectResolver;wd(t,this,"argument-error"),this.redirectPersistenceManager=await af.create(this,[nf(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let s=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(wd(o,this,"internal-error"),o.then((()=>{s||i(this.currentUser)})),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{s=!0,i()}}{const n=e.addObserver(t);return()=>{s=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return wd(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=yf(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(hd.logLevel<=Os.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];hd.warn("Auth (".concat(So,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function Ef(e){return xs(e)}class If{constructor(e){this.auth=e,this.observer=null,this.addObserver=Ts((e=>this.observer=e))}get next(){return wd(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Sf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Tf(e){return Sf.loadJS(e)}function kf(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class Cf{constructor(e){this.type="recaptcha-enterprise",this.auth=Ef(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;jd(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{zd(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new Vd(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&jd(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=Sf.recaptchaEnterpriseScript;0!==t.length&&(t+=i),Tf(t).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function xf(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new Cf(e);let s;try{s=await i.verify(n)}catch(a){s=await i.verify(n,!0)}const o=Object.assign({},t);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Nf(e,t,n,r){var i;if(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await xf(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch((async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await xf(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)}))}function Af(e,t,n){const r=Ef(e);wd(r._canInitEmulator,r,"emulator-config-failed"),wd(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),s=Pf(t),{host:o,port:a}=function(e){const t=Pf(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Rf(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Rf(t)}}}(t),c=null===a?"":":".concat(a);r.config.emulator={url:"".concat(s,"//").concat(o).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Pf(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Rf(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Df{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return bd("not implemented")}_getIdTokenResponse(e){return bd("not implemented")}_linkToIdToken(e,t){return bd("not implemented")}_getReauthenticationResolver(e){return bd("not implemented")}}async function Of(e,t){return Pd(e,"POST","/v1/accounts:resetPassword",Ad(e,t))}async function Lf(e,t){return Pd(e,"POST","/v1/accounts:signUp",t)}async function Mf(e,t){return Dd(e,"POST","/v1/accounts:signInWithPassword",Ad(e,t))}async function Ff(e,t){return Pd(e,"POST","/v1/accounts:sendOobCode",Ad(e,t))}async function Uf(e,t){return Ff(e,t)}async function jf(e,t){return Ff(e,t)}class Vf extends Df{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Vf(e,t,"password")}static _fromEmailAndCode(e,t){return new Vf(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Nf(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Mf);case"emailLink":return async function(e,t){return Dd(e,"POST","/v1/accounts:signInWithEmailLink",Ad(e,t))}(e,{email:this._email,oobCode:this._password});default:fd(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Nf(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Lf);case"emailLink":return async function(e,t){return Dd(e,"POST","/v1/accounts:signInWithEmailLink",Ad(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:fd(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function zf(e,t){return Dd(e,"POST","/v1/accounts:signInWithIdp",Ad(e,t))}class Bf extends Df{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Bf(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):fd("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=Zh(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new Bf(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return zf(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,zf(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,zf(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Es(t)}return e}}const qf={USER_NOT_FOUND:"user-not-found"};class Gf extends Df{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Gf({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Gf({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Dd(e,"POST","/v1/accounts:signInWithPhoneNumber",Ad(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Dd(e,"POST","/v1/accounts:signInWithPhoneNumber",Ad(e,t));if(n.temporaryProof)throw Fd(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Dd(e,"POST","/v1/accounts:signInWithPhoneNumber",Ad(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),qf)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new Gf({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Kf{constructor(e){var t,n,r,i,s,o;const a=Is(Ss(e)),c=null!==(t=a.apiKey)&&void 0!==t?t:null,l=null!==(n=a.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);wd(c&&l&&u,"argument-error"),this.apiKey=c,this.operation=u,this.code=l,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=a.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(o=a.tenantId)&&void 0!==o?o:null}static parseLink(e){const t=function(e){const t=Is(Ss(e)).link,n=t?Is(Ss(t)).deep_link_id:null,r=Is(Ss(e)).deep_link_id;return(r?Is(Ss(r)).link:null)||r||n||t||e}(e);try{return new Kf(t)}catch(n){return null}}}class Hf{constructor(){this.providerId=Hf.PROVIDER_ID}static credential(e,t){return Vf._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Kf.parseLink(t);return wd(n,"argument-error"),Vf._fromEmailAndCode(e,n.code,n.tenantId)}}Hf.PROVIDER_ID="password",Hf.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Hf.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Wf{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Qf extends Wf{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Yf extends Qf{static credentialFromJSON(e){const t="string"===typeof e?JSON.parse(e):e;return wd("providerId"in t&&"signInMethod"in t,"argument-error"),Bf._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return wd(e.idToken||e.accessToken,"argument-error"),Bf._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return Yf.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Yf.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:s,nonce:o,providerId:a}=t;if(!r&&!i&&!n&&!s)return null;if(!a)return null;try{return new Yf(a)._credential({idToken:n,accessToken:r,nonce:o,pendingToken:s})}catch(wF){return null}}}class $f extends Qf{constructor(){super("facebook.com")}static credential(e){return Bf._fromParams({providerId:$f.PROVIDER_ID,signInMethod:$f.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $f.credentialFromTaggedObject(e)}static credentialFromError(e){return $f.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return $f.credential(t.oauthAccessToken)}catch(n){return null}}}$f.FACEBOOK_SIGN_IN_METHOD="facebook.com",$f.PROVIDER_ID="facebook.com";class Jf extends Qf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Bf._fromParams({providerId:Jf.PROVIDER_ID,signInMethod:Jf.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Jf.credentialFromTaggedObject(e)}static credentialFromError(e){return Jf.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Jf.credential(n,r)}catch(i){return null}}}Jf.GOOGLE_SIGN_IN_METHOD="google.com",Jf.PROVIDER_ID="google.com";class Xf extends Qf{constructor(){super("github.com")}static credential(e){return Bf._fromParams({providerId:Xf.PROVIDER_ID,signInMethod:Xf.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xf.credentialFromTaggedObject(e)}static credentialFromError(e){return Xf.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Xf.credential(t.oauthAccessToken)}catch(n){return null}}}Xf.GITHUB_SIGN_IN_METHOD="github.com",Xf.PROVIDER_ID="github.com";class Zf extends Df{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return zf(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,zf(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,zf(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r,pendingToken:i}=t;return n&&r&&i&&n===r?new Zf(n,i):null}static _create(e,t){return new Zf(e,t)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ep extends Wf{constructor(e){wd(e.startsWith("saml."),"argument-error"),super(e)}static credentialFromResult(e){return ep.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return ep.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=Zf.fromJSON(e);return wd(t,"argument-error"),t}static samlCredentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{pendingToken:n,providerId:r}=t;if(!n||!r)return null;try{return Zf._create(r,n)}catch(wF){return null}}}class tp extends Qf{constructor(){super("twitter.com")}static credential(e,t){return Bf._fromParams({providerId:tp.PROVIDER_ID,signInMethod:tp.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return tp.credentialFromTaggedObject(e)}static credentialFromError(e){return tp.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return tp.credential(n,r)}catch(i){return null}}}async function np(e,t){return Dd(e,"POST","/v1/accounts:signUp",Ad(e,t))}tp.TWITTER_SIGN_IN_METHOD="twitter.com",tp.PROVIDER_ID="twitter.com";class rp{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await ef._fromIdTokenResponse(e,n,r),s=ip(n);return new rp({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=ip(n);return new rp({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function ip(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class sp extends gs{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,sp.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new sp(e,t,n,r)}}function op(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw sp._fromErrorAndOperation(e,n,t,r);throw n}))}function ap(e){return new Set(e.map((e=>{let{providerId:t}=e;return t})).filter((e=>!!e)))}async function cp(e,t){const n=xs(e);await up(!0,n,t);const{providerUserInfo:r}=await async function(e,t){return Pd(e,"POST","/v1/accounts:update",t)}(n.auth,{idToken:await n.getIdToken(),deleteProvider:[t]}),i=ap(r||[]);return n.providerData=n.providerData.filter((e=>i.has(e.providerId))),i.has("phone")||(n.phoneNumber=null),await n.auth._persistUserIfCurrent(n),n}async function lp(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await Wd(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return rp._forOperation(e,"link",r)}async function up(e,t,n){await $d(t);const r=!1===e?"provider-already-linked":"no-such-provider";wd(ap(t.providerData).has(n)===e,t.auth,r)}async function hp(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(wo(r.app))return Promise.reject(gd(r));const i="reauthenticate";try{const s=await Wd(e,op(r,i,t,e),n);wd(s.idToken,r,"internal-error");const o=Kd(s.idToken);wd(o,r,"internal-error");const{sub:a}=o;return wd(e.uid===a,r,"user-mismatch"),rp._forOperation(e,i,s)}catch(wF){throw(null===wF||void 0===wF?void 0:wF.code)==="auth/".concat("user-not-found")&&fd(r,"user-mismatch"),wF}}async function dp(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(wo(e.app))return Promise.reject(gd(e));const r="signIn",i=await op(e,r,t),s=await rp._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function fp(e,t){return dp(Ef(e),t)}async function pp(e,t){const n=xs(e);return await up(!1,n,t.providerId),lp(n,t)}async function mp(e,t){return hp(xs(e),t)}async function gp(e,t){if(wo(e.app))return Promise.reject(gd(e));const n=Ef(e),r=await async function(e,t){return Dd(e,"POST","/v1/accounts:signInWithCustomToken",Ad(e,t))}(n,{token:t,returnSecureToken:!0}),i=await rp._fromIdTokenResponse(n,"signIn",r);return await n._updateCurrentUser(i.user),i}class vp{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?yp._fromServerResponse(e,t):"totpInfo"in t?wp._fromServerResponse(e,t):fd(e,"internal-error")}}class yp extends vp{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new yp(t)}}class wp extends vp{constructor(e){super("totp",e)}static _fromServerResponse(e,t){return new wp(t)}}function bp(e,t,n){var r;wd((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),wd("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(wd(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(wd(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function _p(e){const t=Ef(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function Ep(e,t){await async function(e,t){return Pd(e,"POST","/v1/accounts:update",Ad(e,t))}(xs(e),{oobCode:t})}async function Ip(e,t){const n=xs(e),r=await Of(n,{oobCode:t}),i=r.requestType;switch(wd(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":wd(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":wd(r.mfaInfo,n,"internal-error");default:wd(r.email,n,"internal-error")}let s=null;return r.mfaInfo&&(s=vp._fromServerResponse(Ef(n),r.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.newEmail:r.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.email:r.newEmail)||null,multiFactorInfo:s},operation:i}}async function Sp(e,t){const n={identifier:t,continueUri:Id()?Ed():"http://localhost"},{signinMethods:r}=await async function(e,t){return Pd(e,"POST","/v1/accounts:createAuthUri",Ad(e,t))}(xs(e),n);return r||[]}async function Tp(e,t){const n=xs(e),r={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&bp(n.auth,r,t);const{email:i}=await async function(e,t){return Ff(e,t)}(n.auth,r);i!==e.email&&await e.reload()}async function kp(e,t,n){const r=xs(e),i={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await e.getIdToken(),newEmail:t};n&&bp(r.auth,i,n);const{email:s}=await async function(e,t){return Ff(e,t)}(r.auth,i);s!==e.email&&await e.reload()}async function Cp(e,t){let{displayName:n,photoURL:r}=t;if(void 0===n&&void 0===r)return;const i=xs(e),s={idToken:await i.getIdToken(),displayName:n,photoUrl:r,returnSecureToken:!0},o=await Wd(i,async function(e,t){return Pd(e,"POST","/v1/accounts:update",t)}(i.auth,s));i.displayName=o.displayName||null,i.photoURL=o.photoUrl||null;const a=i.providerData.find((e=>{let{providerId:t}=e;return"password"===t}));a&&(a.displayName=i.displayName,a.photoURL=i.photoURL),await i._updateTokensIfNecessary(o)}async function xp(e,t,n){const{auth:r}=e,i={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(i.email=t),n&&(i.password=n);const s=await Wd(e,async function(e,t){return Pd(e,"POST","/v1/accounts:update",t)}(r,i));await e._updateTokensIfNecessary(s,!0)}class Np{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.isNewUser=e,this.providerId=t,this.profile=n}}class Ap extends Np{constructor(e,t,n,r){super(e,t,n),this.username=r}}class Pp extends Np{constructor(e,t){super(e,"facebook.com",t)}}class Rp extends Ap{constructor(e,t){super(e,"github.com",t,"string"===typeof(null===t||void 0===t?void 0:t.login)?null===t||void 0===t?void 0:t.login:null)}}class Dp extends Np{constructor(e,t){super(e,"google.com",t)}}class Op extends Ap{constructor(e,t,n){super(e,"twitter.com",t,n)}}function Lp(e){const{user:t,_tokenResponse:n}=e;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;const{providerId:r}=e,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},s=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){const r=null===(n=null===(t=Kd(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(r)return new Np(s,"anonymous"!==r&&"custom"!==r?r:null)}if(!r)return null;switch(r){case"facebook.com":return new Pp(s,i);case"github.com":return new Rp(s,i);case"google.com":return new Dp(s,i);case"twitter.com":return new Op(s,i,e.screenName||null);case"custom":case"anonymous":return new Np(s,null);default:return new Np(s,r,i)}}(n)}class Mp{constructor(e,t,n){this.type=e,this.credential=t,this.user=n}static _fromIdtoken(e,t){return new Mp("enroll",e,t)}static _fromMfaPendingCredential(e){return new Mp("signin",e)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,n;if(null===e||void 0===e?void 0:e.multiFactorSession){if(null===(t=e.multiFactorSession)||void 0===t?void 0:t.pendingCredential)return Mp._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null===(n=e.multiFactorSession)||void 0===n?void 0:n.idToken)return Mp._fromIdtoken(e.multiFactorSession.idToken)}return null}}class Fp{constructor(e,t,n){this.session=e,this.hints=t,this.signInResolver=n}static _fromError(e,t){const n=Ef(e),r=t.customData._serverResponse,i=(r.mfaInfo||[]).map((e=>vp._fromServerResponse(n,e)));wd(r.mfaPendingCredential,n,"internal-error");const s=Mp._fromMfaPendingCredential(r.mfaPendingCredential);return new Fp(s,i,(async e=>{const i=await e._process(n,s);delete r.mfaInfo,delete r.mfaPendingCredential;const o=Object.assign(Object.assign({},r),{idToken:i.idToken,refreshToken:i.refreshToken});switch(t.operationType){case"signIn":const e=await rp._fromIdTokenResponse(n,t.operationType,o);return await n._updateCurrentUser(e.user),e;case"reauthenticate":return wd(t.user,n,"internal-error"),rp._forOperation(t.user,t.operationType,o);default:fd(n,"internal-error")}}))}async resolveSignIn(e){const t=e;return this.signInResolver(t)}}class Up{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload((t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map((t=>vp._fromServerResponse(e.auth,t))))}))}static _fromUser(e){return new Up(e)}async getSession(){return Mp._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,t){const n=e,r=await this.getSession(),i=await Wd(this.user,n._process(this.user.auth,r,t));return await this.user._updateTokensIfNecessary(i),this.user.reload()}async unenroll(e){const t="string"===typeof e?e:e.uid,n=await this.user.getIdToken();try{const e=await Wd(this.user,(r=this.user.auth,i={idToken:n,mfaEnrollmentId:t},Pd(r,"POST","/v2/accounts/mfaEnrollment:withdraw",Ad(r,i))));this.enrolledFactors=this.enrolledFactors.filter((e=>{let{uid:n}=e;return n!==t})),await this.user._updateTokensIfNecessary(e),await this.user.reload()}catch(wF){throw wF}var r,i}}const jp=new WeakMap;const Vp="__sak";class zp{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Vp,"1"),this.storage.removeItem(Vp),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Bp extends zp{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=cs();return uf(e)||gf(e)}()&&function(){try{return!(!window||window===window.top)}catch(wF){return!1}}(),this.fallbackToPolling=vf(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);fs()&&10===document.documentMode&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Bp.type="LOCAL";const qp=Bp;class Gp extends zp{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Gp.type="SESSION";const Kp=Gp;class Hp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new Hp(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(!(null===s||void 0===s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const o=Array.from(s).map((async e=>e(t.origin,i))),a=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(o);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Wp(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Hp.receivers=[];class Qp{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise(((o,a)=>{const c=Wp("",20);r.port1.start();const l=setTimeout((()=>{a(new Error("unsupported_event"))}),n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===c)switch(t.data.status){case"ack":clearTimeout(l),i=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),o(t.data.response);break;default:clearTimeout(l),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:c,data:t},[r.port2])})).finally((()=>{s&&this.removeMessageHandler(s)}))}}function Yp(){return window}function $p(){return"undefined"!==typeof Yp().WorkerGlobalScope&&"function"===typeof Yp().importScripts}const Jp="firebaseLocalStorageDb",Xp="firebaseLocalStorage",Zp="fbase_key";class em{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function tm(e,t){return e.transaction([Xp],t?"readwrite":"readonly").objectStore(Xp)}function nm(){const e=indexedDB.open(Jp,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(Xp,{keyPath:Zp})}catch(wF){n(wF)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(Xp)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Jp);return new em(e).toPromise()}(),t(await nm()))}))}))}async function rm(e,t,n){const r=tm(e,!0).put({[Zp]:t,value:n});return new em(r).toPromise()}function im(e,t){const n=tm(e,!0).delete(t);return new em(n).toPromise()}class sm{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await nm()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(wF){if(t++>3)throw wF;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return $p()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Hp._getInstance($p()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new Qp(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await nm();return await rm(e,Vp,"1"),await im(e,Vp),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>rm(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=tm(e,!1).get(t),r=await new em(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>im(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=tm(e,!1).getAll();return new em(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}sm.type="LOCAL";const om=sm;const am=1e12;class cm{constructor(e){this.auth=e,this.counter=am,this._widgets=new Map}render(e,t){const n=this.counter;return this._widgets.set(n,new lm(e,this.auth.name,t||{})),this.counter++,n}reset(e){var t;const n=e||am;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}getResponse(e){var t;const n=e||am;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}async execute(e){var t;const n=e||am;return null===(t=this._widgets.get(n))||void 0===t||t.execute(),""}}class lm{constructor(e,t,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const r="string"===typeof e?document.getElementById(e):e;wd(r,"argument-error",{appName:t}),this.container=r,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((()=>{this.responseToken=function(e){const t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch(wF){}this.timerId=window.setTimeout((()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(wF){}this.isVisible&&this.execute()}),6e4)}),500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const um=kf("rcb"),hm=new Td(3e4,6e4);class dm{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(null===(e=Yp().grecaptcha)||void 0===e?void 0:e.render)}load(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return wd(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(t),e,"argument-error"),this.shouldResolveImmediately(t)&&Ud(Yp().grecaptcha)?Promise.resolve(Yp().grecaptcha):new Promise(((n,r)=>{const i=Yp().setTimeout((()=>{r(pd(e,"network-request-failed"))}),hm.get());Yp()[um]=()=>{Yp().clearTimeout(i),delete Yp()[um];const s=Yp().grecaptcha;if(!s||!Ud(s))return void r(pd(e,"internal-error"));const o=s.render;s.render=(e,t)=>{const n=o(e,t);return this.counter++,n},this.hostLanguage=t,n(s)};Tf("".concat(Sf.recaptchaV2Script,"?").concat(Es({onload:um,render:"explicit",hl:t}))).catch((()=>{clearTimeout(i),r(pd(e,"internal-error"))}))}))}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(null===(t=Yp().grecaptcha)||void 0===t?void 0:t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class fm{async load(e){return new cm(e)}clearedOneInstance(){}}const pm="recaptcha",mm={theme:"light",type:"image"};class gm{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Object.assign({},mm);this.parameters=n,this.type=pm,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ef(e),this.isInvisible="invisible"===this.parameters.size,wd("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");const r="string"===typeof t?document.getElementById(t):t;wd(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new fm:new dm,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),t=this.getAssertedRecaptcha(),n=t.getResponse(e);return n||new Promise((n=>{const r=e=>{e&&(this.tokenChangeListeners.delete(r),n(e))};this.tokenChangeListeners.add(r),this.isInvisible&&t.execute(e)}))}render(){try{this.assertNotDestroyed()}catch(wF){return Promise.reject(wF)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((e=>{throw this.renderPromise=null,e}))),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((e=>{this.container.removeChild(e)}))}validateStartingState(){wd(!this.parameters.sitekey,this.auth,"argument-error"),wd(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),wd("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach((e=>e(t))),"function"===typeof e)e(t);else if("string"===typeof e){const n=Yp()[e];"function"===typeof n&&n(t)}}}assertNotDestroyed(){wd(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){wd(Id()&&!$p(),this.auth,"internal-error"),await function(){let e=null;return new Promise((t=>{"complete"!==document.readyState?(e=()=>t(),window.addEventListener("load",e)):t()})).catch((t=>{throw e&&window.removeEventListener("load",e),t}))}(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await async function(e){return(await Pd(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}(this.auth);wd(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return wd(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class vm{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=Gf._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}async function ym(e,t,n){var r;const i=await n.verify();try{let s;if(wd("string"===typeof i,e,"argument-error"),wd(n.type===pm,e,"argument-error"),s="string"===typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s){wd("enroll"===t.type,e,"internal-error");const n=await function(e,t){return Pd(e,"POST","/v2/accounts/mfaEnrollment:start",Ad(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{wd("signin"===t.type,e,"internal-error");const n=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;wd(n,e,"missing-multi-factor-info");const o=await function(e,t){return Pd(e,"POST","/v2/accounts/mfaSignIn:start",Ad(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return o.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return Pd(e,"POST","/v1/accounts:sendVerificationCode",Ad(e,t))}(e,{phoneNumber:s.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class wm{constructor(e){this.providerId=wm.PROVIDER_ID,this.auth=Ef(e)}verifyPhoneNumber(e,t){return ym(this.auth,e,xs(t))}static credential(e,t){return Gf._fromVerification(e,t)}static credentialFromResult(e){const t=e;return wm.credentialFromTaggedObject(t)}static credentialFromError(e){return wm.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?Gf._fromTokenResponse(n,r):null}}function bm(e,t){return t?nf(t):(wd(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}wm.PROVIDER_ID="phone",wm.PHONE_SIGN_IN_METHOD="phone";class _m extends Df{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return zf(e,this._buildIdpRequest())}_linkToIdToken(e,t){return zf(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return zf(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Em(e){return dp(e.auth,new _m(e),e.bypassAuthState)}function Im(e){const{auth:t,user:n}=e;return wd(n,t,"internal-error"),hp(n,new _m(e),e.bypassAuthState)}async function Sm(e){const{auth:t,user:n}=e;return wd(n,t,"internal-error"),lp(n,new _m(e),e.bypassAuthState)}class Tm{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(wF){this.reject(wF)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:o}=e;if(s)return void this.reject(s);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(a))}catch(wF){this.reject(wF)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Em;case"linkViaPopup":case"linkViaRedirect":return Sm;case"reauthViaPopup":case"reauthViaRedirect":return Im;default:fd(this.auth,"internal-error")}}resolve(e){_d(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){_d(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const km=new Td(2e3,1e4);class Cm extends Tm{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,Cm.currentPopupAction&&Cm.currentPopupAction.cancel(),Cm.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return wd(e,this.auth,"internal-error"),e}async onExecution(){_d(1===this.filter.length,"Popup operations only handle one event");const e=Wp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(pd(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(pd(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Cm.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(pd(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,km.get())};e()}}Cm.currentPopupAction=null;const xm="pendingRedirect",Nm=new Map;class Am extends Tm{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Nm.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Om(t),r=Dm(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(wF){e=()=>Promise.reject(wF)}Nm.set(this.auth._key(),e)}return this.bypassAuthState||Nm.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}async function Pm(e,t){return Dm(e)._set(Om(t),"true")}function Rm(e,t){Nm.set(e._key(),t)}function Dm(e){return nf(e._redirectPersistence)}function Om(e){return of(xm,e.config.apiKey,e.name)}function Lm(e,t,n){return async function(e,t,n){if(wo(e.app))return Promise.reject(gd(e));const r=Ef(e);vd(e,t,Wf),await r._initializationPromise;const i=bm(r,n);return await Pm(i,r),i._openRedirect(r,t,"signInViaRedirect")}(e,t,n)}function Mm(e,t,n){return async function(e,t,n){const r=xs(e);if(vd(r.auth,t,Wf),wo(r.auth.app))return Promise.reject(gd(r.auth));await r.auth._initializationPromise;const i=bm(r.auth,n);await Pm(i,r.auth);const s=await jm(r);return i._openRedirect(r.auth,t,"reauthViaRedirect",s)}(e,t,n)}function Fm(e,t,n){return async function(e,t,n){const r=xs(e);vd(r.auth,t,Wf),await r.auth._initializationPromise;const i=bm(r.auth,n);await up(!1,r,t.providerId),await Pm(i,r.auth);const s=await jm(r);return i._openRedirect(r.auth,t,"linkViaRedirect",s)}(e,t,n)}async function Um(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(wo(e.app))return Promise.reject(gd(e));const r=Ef(e),i=bm(r,t),s=new Am(r,i,n),o=await s.execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}async function jm(e){const t=Wp("".concat(e.uid,":::"));return e._redirectEventId=t,await e.auth._setRedirectUser(e),await e.auth._persistUserIfCurrent(e),t}class Vm{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Bm(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Bm(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(pd(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(zm(e))}saveEventToCache(e){this.cachedEventUids.add(zm(e)),this.lastProcessedEventTime=Date.now()}}function zm(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function Bm(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}async function qm(e){return Pd(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}const Gm=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Km=/^https?/;function Hm(e){const t=Ed(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Km.test(n))return!1;if(Gm.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Wm=new Td(3e4,6e4);function Qm(){const e=Yp().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function Ym(e){return new Promise(((t,n)=>{var r,i,s;function o(){Qm(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Qm(),n(pd(e,"network-request-failed"))},timeout:Wm.get()})}if(null===(i=null===(r=Yp().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=Yp().gapi)||void 0===s?void 0:s.load)){const t=kf("iframefcb");return Yp()[t]=()=>{gapi.load?o():n(pd(e,"network-request-failed"))},Tf("".concat(Sf.gapiScript,"?onload=").concat(t)).catch((e=>n(e)))}o()}})).catch((e=>{throw $m=null,e}))}let $m=null;const Jm=new Td(5e3,15e3),Xm="__/auth/iframe",Zm="emulator/auth/iframe",eg={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},tg=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ng(e){const t=e.config;wd(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?kd(t,Zm):"https://".concat(e.config.authDomain,"/").concat(Xm),r={apiKey:t.apiKey,appName:e.name,v:So},i=tg.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),"".concat(n,"?").concat(Es(r).slice(1))}async function rg(e){const t=await function(e){return $m=$m||Ym(e),$m}(e),n=Yp().gapi;return wd(n,e,"internal-error"),t.open({where:document.body,url:ng(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:eg,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=pd(e,"network-request-failed"),s=Yp().setTimeout((()=>{r(i)}),Jm.get());function o(){Yp().clearTimeout(s),n(t)}t.ping(o).then(o,(()=>{r(i)}))}))))}const ig={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class sg{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(wF){}}}function og(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c=Object.assign(Object.assign({},ig),{width:r.toString(),height:i.toString(),top:s,left:o}),l=cs().toLowerCase();n&&(a=hf(l)?"_blank":n),lf(l)&&(t=t||"http://localhost",c.scrollbars="yes");const u=Object.entries(c).reduce(((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")}),"");if(function(){var e;return gf(arguments.length>0&&void 0!==arguments[0]?arguments[0]:cs())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(l)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new sg(null);const h=window.open(t||"",a,u);wd(h,e,"popup-blocked");try{h.focus()}catch(wF){}return new sg(h)}const ag="__/auth/handler",cg="emulator/auth/handler",lg=encodeURIComponent("fac");async function ug(e,t,n,r,i,s){wd(e.config.authDomain,e,"auth-domain-config-required"),wd(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:So,eventId:i};if(t instanceof Wf){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))o[e]=t}if(t instanceof Qf){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(o.scopes=e.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const c=await e._getAppCheckToken(),l=c?"#".concat(lg,"=").concat(encodeURIComponent(c)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(ag);return kd(t,cg)}(e),"?").concat(Es(a).slice(1)).concat(l)}const hg="webStorageSupport";const dg=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Kp,this._completeRedirectFn=Um,this._overrideRedirectResult=Rm}async _openPopup(e,t,n,r){var i;_d(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return og(e,await ug(e,t,n,Ed(),r),Wp())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){Yp().location.href=e}(await ug(e,t,n,Ed(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(_d(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await rg(e),n=new Vm(e);return t.register("authEvent",(t=>{wd(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(hg,{type:hg},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[hg];void 0!==i&&t(!!i),fd(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){if(e.config.emulator)return;const{authorizedDomains:t}=await qm(e);for(const r of t)try{if(Hm(r))return}catch(n){}fd(e,"unauthorized-domain")}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return vf()||uf()||gf()}};class fg{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return bd("unexpected MultiFactorSessionType")}}}class pg extends fg{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new pg(e)}_finalizeEnroll(e,t,n){return function(e,t){return Pd(e,"POST","/v2/accounts/mfaEnrollment:finalize",Ad(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return function(e,t){return Pd(e,"POST","/v2/accounts/mfaSignIn:finalize",Ad(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class mg{constructor(){}static assertion(e){return pg._fromCredential(e)}}mg.FACTOR_ID="phone";var gg="@firebase/auth",vg="1.7.0";class yg{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){wd(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(e=>{var t;null===(t=is())||void 0===t||t["_".concat(e)]})("authIdTokenMaxAge");var wg;function bg(){return window}!function(e){Sf=e}({loadJS:e=>new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=pd("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),wg="Browser",mo(new Ns("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;wd(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:a,clientPlatform:wg,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:yf(wg)},l=new _f(r,i,s,c);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(nf);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(l,n),l}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),mo(new Ns("auth-internal",(e=>(e=>new yg(e))(Ef(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),Ao(gg,vg,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(wg)),Ao(gg,vg,"esm2017");async function _g(e,t,n){var r;const{BuildInfo:i}=bg();_d(t.sessionId,"AuthEvent did not contain a session ID");const s=await async function(e){const t=function(e){if(_d(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);const t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(e),n=await crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map((e=>e.toString(16).padStart(2,"0"))).join("")}(t.sessionId),o={};return gf()?o.ibi=i.packageName:ff()?o.apn=i.packageName:fd(e,"operation-not-supported-in-this-environment"),i.displayName&&(o.appDisplayName=i.displayName),o.sessionId=s,ug(e,n,t.type,void 0,null!==(r=t.eventId)&&void 0!==r?r:void 0,o)}function Eg(e){const{cordova:t}=bg();return new Promise((n=>{t.plugins.browsertab.isAvailable((r=>{let i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cs();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}const Ig=20;class Sg extends Vm{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise((e=>{this.resolveInialized=e}))}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach((t=>t(e))),super.onEvent(e)}async initialized(){await this.initPromise}}async function Tg(e){const t=await xg()._get(Ng(e));return t&&await xg()._remove(Ng(e)),t}function kg(e,t){var n,r;const i=function(e){const t=Ag(e),n=t.link?decodeURIComponent(t.link):void 0,r=Ag(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return Ag(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){const t=Ag(i),s=t.firebaseError?function(e){try{return JSON.parse(e)}catch(wF){return null}}(decodeURIComponent(t.firebaseError)):null,o=null===(r=null===(n=null===s||void 0===s?void 0:s.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],a=o?pd(o):null;return a?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:a,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function Cg(){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<Ig;n++){const n=Math.floor(62*Math.random());e.push(t.charAt(n))}return e.join("")}function xg(){return nf(qp)}function Ng(e){return of("authEvent",e.config.apiKey,e.name)}function Ag(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};const[t,...n]=e.split("?");return Is(n.join("?"))}const Pg=class{constructor(){this._redirectPersistence=Kp,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Um,this._overrideRedirectResult=Rm}async _initialize(e){const t=e._key();let n=this.eventManagers.get(t);return n||(n=new Sg(e),this.eventManagers.set(t,n),this.attachCallbackListeners(e,n)),n}_openPopup(e){fd(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,n,r){!function(e){var t,n,r,i,s,o,a,c,l,u;const h=bg();wd("function"===typeof(null===(t=null===h||void 0===h?void 0:h.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),wd("undefined"!==typeof(null===(n=null===h||void 0===h?void 0:h.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),wd("function"===typeof(null===(s=null===(i=null===(r=null===h||void 0===h?void 0:h.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===s?void 0:s.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),wd("function"===typeof(null===(c=null===(a=null===(o=null===h||void 0===h?void 0:h.cordova)||void 0===o?void 0:o.plugins)||void 0===a?void 0:a.browsertab)||void 0===c?void 0:c.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),wd("function"===typeof(null===(u=null===(l=null===h||void 0===h?void 0:h.cordova)||void 0===l?void 0:l.InAppBrowser)||void 0===u?void 0:u.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(e);const i=await this._initialize(e);await i.initialized(),i.resetRedirect(),Nm.clear(),await this._originValidation(e);const s=function(e,t){return{type:t,eventId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,urlResponse:null,sessionId:Cg(),postBody:null,tenantId:e.tenantId,error:pd(e,"no-auth-event")}}(e,n,r);await function(e,t){return xg()._set(Ng(e),t)}(e,s);const o=await _g(e,s,t);return async function(e,t,n){const{cordova:r}=bg();let i=()=>{};try{await new Promise(((s,o)=>{let a=null;function c(){var e;s();const t=null===(e=r.plugins.browsertab)||void 0===e?void 0:e.close;"function"===typeof t&&t(),"function"===typeof(null===n||void 0===n?void 0:n.close)&&n.close()}function l(){a||(a=window.setTimeout((()=>{o(pd(e,"redirect-cancelled-by-user"))}),2e3))}function u(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&l()}t.addPassiveListener(c),document.addEventListener("resume",l,!1),ff()&&document.addEventListener("visibilitychange",u,!1),i=()=>{t.removePassiveListener(c),document.removeEventListener("resume",l,!1),document.removeEventListener("visibilitychange",u,!1),a&&window.clearTimeout(a)}}))}finally{i()}}(e,i,await Eg(o))}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=async function(e){const{BuildInfo:t}=bg(),n={};gf()?n.iosBundleId=t.packageName:ff()?n.androidPackageName=t.packageName:fd(e,"operation-not-supported-in-this-environment"),await qm(e,n)}(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:n,handleOpenURL:r,BuildInfo:i}=bg(),s=setTimeout((async()=>{await Tg(e),t.onEvent(Rg())}),500),o=async n=>{clearTimeout(s);const r=await Tg(e);let i=null;r&&(null===n||void 0===n?void 0:n.url)&&(i=kg(r,n.url)),t.onEvent(i||Rg())};"undefined"!==typeof n&&"function"===typeof n.subscribe&&n.subscribe(null,o);const a=r,c="".concat(i.packageName.toLowerCase(),"://");bg().handleOpenURL=async e=>{if(e.toLowerCase().startsWith(c)&&o({url:e}),"function"===typeof a)try{a(e)}catch(wF){console.error(wF)}}}};function Rg(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:pd("no-auth-event")}}function Dg(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function Og(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cs();return!("file:"!==Dg()&&"ionic:"!==Dg()&&"capacitor:"!==Dg()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Lg(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cs();return fs()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:cs();return/Edge\/\d+/.test(e)}(e)}function Mg(){try{const e=self.localStorage,t=Wp();if(e)return e.setItem(t,"1"),e.removeItem(t),!Lg()||ms()}catch(wF){return Fg()&&ms()}return!1}function Fg(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function Ug(){return("http:"===Dg()||"https:"===Dg()||hs()||Og())&&!(ds()||ls())&&Mg()&&!Fg()}function jg(){return Og()&&"undefined"!==typeof document}const Vg={LOCAL:"local",NONE:"none",SESSION:"session"},zg=wd,Bg="persistence";async function qg(e){await e._initializationPromise;const t=Gg(),n=of(Bg,e.config.apiKey,e.name);t&&t.setItem(n,e._getPersistence())}function Gg(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(wF){return null}}const Kg=wd;class Hg{constructor(){this.browserResolver=nf(dg),this.cordovaResolver=nf(Pg),this.underlyingResolver=null,this._redirectPersistence=Kp,this._completeRedirectFn=Um,this._overrideRedirectResult=Rm}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,n,r)}async _openRedirect(e,t,n,r){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,n,r)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return jg()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Kg(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;const e=await async function(){return!!jg()&&new Promise((e=>{const t=setTimeout((()=>{e(!1)}),1e3);document.addEventListener("deviceready",(()=>{clearTimeout(t),e(!0)}))}))}();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}}function Wg(e){return e.unwrap()}function Qg(e,t){var n;const r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===(null===t||void 0===t?void 0:t.code)){t.resolver=new Xg(e,function(e,t){var n;const r=xs(e),i=t;return wd(t.customData.operationType,r,"argument-error"),wd(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),Fp._fromError(r,i)}(e,t))}else if(r){const e=Yg(t),n=t;e&&(n.credential=e,n.tenantId=r.tenantId||void 0,n.email=r.email||void 0,n.phoneNumber=r.phoneNumber||void 0)}}function Yg(e){const{_tokenResponse:t}=e instanceof gs?e.customData:e;if(!t)return null;if(!(e instanceof gs)&&"temporaryProof"in t&&"phoneNumber"in t)return wm.credentialFromResult(e);const n=t.providerId;if(!n||n===ed.PASSWORD)return null;let r;switch(n){case ed.GOOGLE:r=Jf;break;case ed.FACEBOOK:r=$f;break;case ed.GITHUB:r=Xf;break;case ed.TWITTER:r=tp;break;default:const{oauthIdToken:e,oauthAccessToken:i,oauthTokenSecret:s,pendingToken:o,nonce:a}=t;return i||s||e||o?o?n.startsWith("saml.")?Zf._create(n,o):Bf._fromParams({providerId:n,signInMethod:n,pendingToken:o,idToken:e,accessToken:i}):new Yf(n).credential({idToken:e,accessToken:i,rawNonce:a}):null}return e instanceof gs?r.credentialFromError(e):r.credentialFromResult(e)}function $g(e,t){return t.catch((t=>{throw t instanceof gs&&Qg(e,t),t})).then((e=>{const t=e.operationType,n=e.user;return{operationType:t,credential:(r=e,Yg(r)),additionalUserInfo:Lp(e),user:Zg.getOrCreate(n)};var r}))}async function Jg(e,t){const n=await t;return{verificationId:n.verificationId,confirm:t=>$g(e,n.confirm(t))}}class Xg{constructor(e,t){this.resolver=t,this.auth=e.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return $g(Wg(this.auth),this.resolver.resolveSignIn(e))}}class Zg{constructor(e){this._delegate=e,this.multiFactor=function(e){const t=xs(e);return jp.has(t)||jp.set(t,Up._fromUser(t)),jp.get(t)}(e)}static getOrCreate(e){return Zg.USER_MAP.has(e)||Zg.USER_MAP.set(e,new Zg(e)),Zg.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return $g(this.auth,pp(this._delegate,e))}async linkWithPhoneNumber(e,t){return Jg(this.auth,async function(e,t,n){const r=xs(e);await up(!1,r,"phone");const i=await ym(r.auth,t,xs(n));return new vm(i,(e=>pp(r,e)))}(this._delegate,e,t))}async linkWithPopup(e){return $g(this.auth,async function(e,t,n){const r=xs(e);vd(r.auth,t,Wf);const i=bm(r.auth,n);return new Cm(r.auth,"linkViaPopup",t,i,r).executeNotNull()}(this._delegate,e,Hg))}async linkWithRedirect(e){return await qg(Ef(this.auth)),Fm(this._delegate,e,Hg)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return $g(this.auth,mp(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return Jg(this.auth,async function(e,t,n){const r=xs(e);if(wo(r.auth.app))return Promise.reject(gd(r.auth));const i=await ym(r.auth,t,xs(n));return new vm(i,(e=>mp(r,e)))}(this._delegate,e,t))}reauthenticateWithPopup(e){return $g(this.auth,async function(e,t,n){const r=xs(e);if(wo(r.auth.app))return Promise.reject(pd(r.auth,"operation-not-supported-in-this-environment"));vd(r.auth,t,Wf);const i=bm(r.auth,n);return new Cm(r.auth,"reauthViaPopup",t,i,r).executeNotNull()}(this._delegate,e,Hg))}async reauthenticateWithRedirect(e){return await qg(Ef(this.auth)),Mm(this._delegate,e,Hg)}sendEmailVerification(e){return Tp(this._delegate,e)}async unlink(e){return await cp(this._delegate,e),this}updateEmail(e){return function(e,t){const n=xs(e);return wo(n.auth.app)?Promise.reject(gd(n.auth)):xp(n,t,null)}(this._delegate,e)}updatePassword(e){return function(e,t){return xp(xs(e),null,t)}(this._delegate,e)}updatePhoneNumber(e){return async function(e,t){const n=xs(e);if(wo(n.auth.app))return Promise.reject(gd(n.auth));await lp(n,t)}(this._delegate,e)}updateProfile(e){return Cp(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return kp(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Zg.USER_MAP=new WeakMap;const ev=wd;class tv{constructor(e,t){if(this.app=e,t.isInitialized())return this._delegate=t.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:n}=e.options;ev(n,"invalid-api-key",{appName:e.name}),ev(n,"invalid-api-key",{appName:e.name});const r="undefined"!==typeof window?Hg:void 0;this._delegate=t.initialize({options:{persistence:rv(n,e.name),popupRedirectResolver:r}}),this._delegate._updateErrorMap(cd),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Zg.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){Af(this._delegate,e,t)}applyActionCode(e){return Ep(this._delegate,e)}checkActionCode(e){return Ip(this._delegate,e)}confirmPasswordReset(e,t){return async function(e,t,n){await Of(xs(e),{oobCode:t,newPassword:n}).catch((async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&_p(e),t}))}(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return $g(this._delegate,async function(e,t,n){if(wo(e.app))return Promise.reject(gd(e));const r=Ef(e),i=Nf(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",np),s=await i.catch((t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&_p(e),t})),o=await rp._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(o.user),o}(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return Sp(this._delegate,e)}isSignInWithEmailLink(e){return function(e,t){const n=Kf.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}async getRedirectResult(){ev(Ug(),this._delegate,"operation-not-supported-in-this-environment");const e=await async function(e,t){return await Ef(e)._initializationPromise,Um(e,t,!1)}(this._delegate,Hg);return e?$g(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){!function(e,t){Ef(e)._logFramework(t)}(this._delegate,e)}onAuthStateChanged(e,t,n){const{next:r,error:i,complete:s}=nv(e,t,n);return this._delegate.onAuthStateChanged(r,i,s)}onIdTokenChanged(e,t,n){const{next:r,error:i,complete:s}=nv(e,t,n);return this._delegate.onIdTokenChanged(r,i,s)}sendSignInLinkToEmail(e,t){return async function(e,t,n){const r=Ef(e),i={requestType:"EMAIL_SIGNIN",email:t,clientType:"CLIENT_TYPE_WEB"};!function(e,t){wd(t.handleCodeInApp,r,"argument-error"),t&&bp(r,e,t)}(i,n),await Nf(r,i,"getOobCode",jf)}(this._delegate,e,t)}sendPasswordResetEmail(e,t){return async function(e,t,n){const r=Ef(e),i={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};n&&bp(r,i,n),await Nf(r,i,"getOobCode",Uf)}(this._delegate,e,t||void 0)}async setPersistence(e){let t;switch(function(e,t){zg(Object.values(Vg).includes(t),e,"invalid-persistence-type"),ds()?zg(t!==Vg.SESSION,e,"unsupported-persistence-type"):ls()?zg(t===Vg.NONE,e,"unsupported-persistence-type"):Fg()?zg(t===Vg.NONE||t===Vg.LOCAL&&ms(),e,"unsupported-persistence-type"):zg(t===Vg.NONE||Mg(),e,"unsupported-persistence-type")}(this._delegate,e),e){case Vg.SESSION:t=Kp;break;case Vg.LOCAL:t=await nf(om)._isAvailable()?om:qp;break;case Vg.NONE:t=sf;break;default:return fd("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return $g(this._delegate,async function(e){var t;if(wo(e.app))return Promise.reject(gd(e));const n=Ef(e);if(await n._initializationPromise,null===(t=n.currentUser)||void 0===t?void 0:t.isAnonymous)return new rp({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await np(n,{returnSecureToken:!0}),i=await rp._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(i.user),i}(this._delegate))}signInWithCredential(e){return $g(this._delegate,fp(this._delegate,e))}signInWithCustomToken(e){return $g(this._delegate,gp(this._delegate,e))}signInWithEmailAndPassword(e,t){return $g(this._delegate,function(e,t,n){return wo(e.app)?Promise.reject(gd(e)):fp(xs(e),Hf.credential(t,n)).catch((async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&_p(e),t}))}(this._delegate,e,t))}signInWithEmailLink(e,t){return $g(this._delegate,async function(e,t,n){if(wo(e.app))return Promise.reject(gd(e));const r=xs(e),i=Hf.credentialWithLink(t,n||Ed());return wd(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),fp(r,i)}(this._delegate,e,t))}signInWithPhoneNumber(e,t){return Jg(this._delegate,async function(e,t,n){if(wo(e.app))return Promise.reject(gd(e));const r=Ef(e),i=await ym(r,t,xs(n));return new vm(i,(e=>fp(r,e)))}(this._delegate,e,t))}async signInWithPopup(e){return ev(Ug(),this._delegate,"operation-not-supported-in-this-environment"),$g(this._delegate,async function(e,t,n){if(wo(e.app))return Promise.reject(pd(e,"operation-not-supported-in-this-environment"));const r=Ef(e);vd(e,t,Wf);const i=bm(r,n);return new Cm(r,"signInViaPopup",t,i).executeNotNull()}(this._delegate,e,Hg))}async signInWithRedirect(e){return ev(Ug(),this._delegate,"operation-not-supported-in-this-environment"),await qg(this._delegate),Lm(this._delegate,e,Hg)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return async function(e,t){const{data:n}=await Ip(xs(e),t);return n.email}(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}function nv(e,t,n){let r=e;"function"!==typeof e&&({next:r,error:t,complete:n}=e);const i=r;return{next:e=>i(e&&Zg.getOrCreate(e)),error:t,complete:n}}function rv(e,t){const n=function(e,t){const n=Gg();if(!n)return[];const r=of(Bg,e,t);switch(n.getItem(r)){case Vg.NONE:return[sf];case Vg.LOCAL:return[om,Kp];case Vg.SESSION:return[Kp];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(om)||n.push(om),"undefined"!==typeof window)for(const r of[qp,Kp])n.includes(r)||n.push(r);return n.includes(sf)||n.push(sf),n}tv.Persistence=Vg;class iv{constructor(){this.providerId="phone",this._delegate=new wm(Wg(Yo.auth()))}static credential(e,t){return wm.credential(e,t)}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}iv.PHONE_SIGN_IN_METHOD=wm.PHONE_SIGN_IN_METHOD,iv.PROVIDER_ID=wm.PROVIDER_ID;const sv=wd;class ov{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Yo.app();var r;sv(null===(r=n.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:n.name}),this._delegate=new gm(n.auth(),e,t),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}var av;(av=Yo).INTERNAL.registerComponent(new Ns("auth-compat",(e=>{const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new tv(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:td,PASSWORD_RESET:nd,RECOVER_EMAIL:rd,REVERT_SECOND_FACTOR_ADDITION:id,VERIFY_AND_CHANGE_EMAIL:sd,VERIFY_EMAIL:od}},EmailAuthProvider:Hf,FacebookAuthProvider:$f,GithubAuthProvider:Xf,GoogleAuthProvider:Jf,OAuthProvider:Yf,SAMLAuthProvider:ep,PhoneAuthProvider:iv,PhoneMultiFactorGenerator:mg,RecaptchaVerifier:ov,TwitterAuthProvider:tp,Auth:tv,AuthCredential:Df,Error:gs}).setInstantiationMode("LAZY").setMultipleInstances(!1)),av.registerVersion("@firebase/auth-compat","0.5.5");const cv=function(){const e=ee(),[t,n]=i.useState("register"),[r,s]=i.useState(""),[o,a]=i.useState(""),[c,l]=i.useState(""),[u,h]=i.useState(!1);return(0,Ac.jsxs)(gi,{children:[(0,Ac.jsxs)(Nc,{widths:2,children:[(0,Ac.jsx)(Nc.Item,{active:"register"===t,onClick:()=>{l(""),n("register")},children:"\u8a3b\u518a"}),(0,Ac.jsx)(Nc.Item,{active:"login"===t,onClick:()=>{l(""),n("login")},children:"\u767b\u9304"})]}),(0,Ac.jsxs)(qh,{onSubmit:function(){h(!0),"register"===t?$o.auth().createUserWithEmailAndPassword(r,o).then((()=>{h(!1),e("/")})).catch((e=>{switch(e.code){case"auth/email-already-in-use":l("\u4fe1\u7bb1\u5df2\u5b58\u5728");break;case"auth/invalid-email":l("\u4fe1\u7bb1\u683c\u5f0f\u4e0d\u6b63\u78ba");break;case"auth/weak-password":l("\u5bc6\u78bc\u4e0d\u5920\u56b4\u8b39")}h(!1)})):"login"===t&&$o.auth().signInWithEmailAndPassword(r,o).then((()=>{h(!1),e("/")})).catch((e=>{switch(e.code){case"auth/invalid-email":l("\u4fe1\u7bb1\u683c\u5f0f\u4e0d\u6b63\u78ba");case"auth/invalid-credential":l("\u4fe1\u7bb1\u6216\u5bc6\u78bc\u4e0d\u6b63\u78ba")}h(!1)}))},children:[(0,Ac.jsx)(qh.Input,{label:"\u4fe1\u7bb1",value:r,onChange:e=>s(e.target.value),placeholder:"\u8acb\u8f38\u5165\u4fe1\u7bb1"}),(0,Ac.jsx)(qh.Input,{label:"\u5bc6\u78bc",type:"password",value:o,onChange:e=>a(e.target.value),placeholder:"\u8acb\u8f38\u5165\u5bc6\u78bc"}),c&&(0,Ac.jsx)(Xh,{negative:!0,children:c}),(0,Ac.jsxs)(qh.Button,{loading:u,children:["register"===t&&"\u8a3b\u518a","login"===t&&"\u767b\u9304"]})]})]})};function lv(e){var t=e.children,n=e.className,r=e.content,s=De("header",n),o=qe(lv,e),a=Ge(lv,e);return i.createElement(a,Pe({},o,{className:s}),pi(t)?r:t)}lv.handledProps=["as","children","className","content"],lv.propTypes={},lv.create=Vi(lv,(function(e){return{content:e}}));const uv=lv;function hv(e){var t=e.children,n=e.className,r=e.content,s=De("description",n),o=qe(hv,e),a=Ge(hv,e);return i.createElement(a,Pe({},o,{className:s}),pi(t)?r:t)}hv.handledProps=["as","children","className","content"],hv.propTypes={},hv.create=Vi(hv,(function(e){return{content:e}}));const dv=hv;function fv(e){var t=e.children,n=e.className,r=e.content,s=De("extra",n),o=qe(fv,e),a=Ge(fv,e);return i.createElement(a,Pe({},o,{className:s}),pi(t)?r:t)}fv.handledProps=["as","children","className","content"],fv.propTypes={},fv.create=Vi(fv,(function(e){return{content:e}}));const pv=fv;function mv(e){var t=e.children,n=e.className,r=e.content,s=De("meta",n),o=qe(mv,e),a=Ge(mv,e);return i.createElement(a,Pe({},o,{className:s}),pi(t)?r:t)}mv.handledProps=["as","children","className","content"],mv.propTypes={},mv.create=Vi(mv,(function(e){return{content:e}}));const gv=mv;function vv(e){var t=e.children,n=e.className,r=e.content,s=e.description,o=e.extra,a=e.header,c=e.meta,l=e.verticalAlign,u=De(ze(l),"content",n),h=qe(vv,e),d=Ge(vv,e);return pi(t)?i.createElement(d,Pe({},h,{className:u}),uv.create(a,{autoGenerateKey:!1}),gv.create(c,{autoGenerateKey:!1}),dv.create(s,{autoGenerateKey:!1}),pv.create(o,{autoGenerateKey:!1}),r):i.createElement(d,Pe({},h,{className:u}),t)}vv.handledProps=["as","children","className","content","description","extra","header","meta","verticalAlign"],vv.propTypes={};const yv=vv;function wv(e){var t=e.children,n=e.className,r=e.content,s=e.divided,o=e.items,a=e.link,c=e.relaxed,l=e.unstackable,u=De("ui",Me(s,"divided"),Me(a,"link"),Me(l,"unstackable"),Ue(c,"relaxed"),"items",n),h=qe(wv,e),d=Ge(wv,e);if(!pi(t))return i.createElement(d,Pe({},h,{className:u}),t);if(!pi(r))return i.createElement(d,Pe({},h,{className:u}),r);var f=ea(o,(function(e){var t=e.childKey,n=Rc(e,["childKey"]),r=null!=t?t:[n.content,n.description,n.header,n.meta].join("-");return i.createElement(Sv,Pe({},n,{key:r}))}));return i.createElement(d,Pe({},h,{className:u}),f)}wv.handledProps=["as","children","className","content","divided","items","link","relaxed","unstackable"],wv.propTypes={};const bv=wv;function _v(e){var t=e.size,n=qe(_v,e);return i.createElement(Dl,Pe({},n,{size:t,ui:!!t,wrapped:!0}))}_v.handledProps=["size"],_v.propTypes={},_v.create=Vi(_v,(function(e){return{src:e}}));const Ev=_v;function Iv(e){var t=e.children,n=e.className,r=e.content,s=e.description,o=e.extra,a=e.header,c=e.image,l=e.meta,u=De("item",n),h=qe(Iv,e),d=Ge(Iv,e);return pi(t)?i.createElement(d,Pe({},h,{className:u}),Ev.create(c,{autoGenerateKey:!1}),i.createElement(yv,{content:r,description:s,extra:o,header:a,meta:l})):i.createElement(d,Pe({},h,{className:u}),t)}Iv.handledProps=["as","children","className","content","description","extra","header","image","meta"],Iv.Content=yv,Iv.Description=dv,Iv.Extra=pv,Iv.Group=bv,Iv.Header=uv,Iv.Image=Ev,Iv.Meta=gv,Iv.propTypes={};const Sv=Iv;var Tv,kv="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Cv={},xv=xv||{},Nv=kv||self;function Av(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Pv(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Rv="closure_uid_"+(1e9*Math.random()>>>0),Dv=0;function Ov(e,t,n){return e.call.apply(e.bind,arguments)}function Lv(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Mv(e,t,n){return(Mv=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ov:Lv).apply(null,arguments)}function Fv(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Uv(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function jv(){this.s=this.s,this.o=this.o}jv.prototype.s=!1,jv.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,Rv)&&e[Rv]||(e[Rv]=++Dv))},jv.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Vv=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function zv(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function Bv(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(Av(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function qv(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}qv.prototype.h=function(){this.defaultPrevented=!0};var Gv=function(){if(!Nv.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};Nv.addEventListener("test",e,t),Nv.removeEventListener("test",e,t)}catch(n){}return e}();function Kv(e){return/^[\s\xa0]*$/.test(e)}function Hv(){var e=Nv.navigator;return e&&(e=e.userAgent)?e:""}function Wv(e){return-1!=Hv().indexOf(e)}function Qv(e){return Qv[" "](e),e}Qv[" "]=function(){};var Yv,$v,Jv=Wv("Opera"),Xv=Wv("Trident")||Wv("MSIE"),Zv=Wv("Edge"),ey=Zv||Xv,ty=Wv("Gecko")&&!(-1!=Hv().toLowerCase().indexOf("webkit")&&!Wv("Edge"))&&!(Wv("Trident")||Wv("MSIE"))&&!Wv("Edge"),ny=-1!=Hv().toLowerCase().indexOf("webkit")&&!Wv("Edge");function ry(){var e=Nv.document;return e?e.documentMode:void 0}e:{var iy="",sy=function(){var e=Hv();return ty?/rv:([^\);]+)(\)|;)/.exec(e):Zv?/Edge\/([\d\.]+)/.exec(e):Xv?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):ny?/WebKit\/(\S+)/.exec(e):Jv?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(sy&&(iy=sy?sy[1]:""),Xv){var oy=ry();if(null!=oy&&oy>parseFloat(iy)){Yv=String(oy);break e}}Yv=iy}if(Nv.document&&Xv){var ay=ry();$v=ay||(parseInt(Yv,10)||void 0)}else $v=void 0;var cy=$v;function ly(e,t){if(qv.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(ty){e:{try{Qv(t.nodeName);var i=!0;break e}catch(s){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:uy[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&ly.$.h.call(this)}}Uv(ly,qv);var uy={2:"touch",3:"pen",4:"mouse"};ly.prototype.h=function(){ly.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var hy="closure_listenable_"+(1e6*Math.random()|0),dy=0;function fy(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++dy,this.fa=this.ia=!1}function py(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function my(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function gy(e){const t={};for(const n in e)t[n]=e[n];return t}const vy="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function yy(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<vy.length;t++)n=vy[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function wy(e){this.src=e,this.g={},this.h=0}function by(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=Vv(i,t);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(py(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function _y(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.fa&&s.listener==t&&s.capture==!!n&&s.la==r)return i}return-1}wy.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var o=_y(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):((t=new fy(t,this.src,s,!!r,i)).ia=n,e.push(t)),t};var Ey="closure_lm_"+(1e6*Math.random()|0),Iy={};function Sy(e,t,n,r,i){if(r&&r.once)return ky(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)Sy(e,t[s],n,r,i);return null}return n=Dy(n),e&&e[hy]?e.O(t,n,Pv(r)?!!r.capture:!!r,i):Ty(e,t,n,!1,r,i)}function Ty(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=Pv(i)?!!i.capture:!!i,a=Py(e);if(a||(e[Ey]=a=new wy(e)),(n=a.add(t,n,r,o,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=Ay;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Gv||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Ny(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function ky(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)ky(e,t[s],n,r,i);return null}return n=Dy(n),e&&e[hy]?e.P(t,n,Pv(r)?!!r.capture:!!r,i):Ty(e,t,n,!0,r,i)}function Cy(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)Cy(e,t[s],n,r,i);else r=Pv(r)?!!r.capture:!!r,n=Dy(n),e&&e[hy]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=_y(s=e.g[t],n,r,i))&&(py(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=Py(e))&&(t=e.g[t.toString()],e=-1,t&&(e=_y(t,n,r,i)),(n=-1<e?t[e]:null)&&xy(n))}function xy(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[hy])by(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Ny(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Py(t))?(by(n,e),0==n.h&&(n.src=null,t[Ey]=null)):py(e)}}}function Ny(e){return e in Iy?Iy[e]:Iy[e]="on"+e}function Ay(e,t){if(e.fa)e=!0;else{t=new ly(t,this);var n=e.listener,r=e.la||e.src;e.ia&&xy(e),e=n.call(r,t)}return e}function Py(e){return(e=e[Ey])instanceof wy?e:null}var Ry="__closure_events_fn_"+(1e9*Math.random()>>>0);function Dy(e){return"function"===typeof e?e:(e[Ry]||(e[Ry]=function(t){return e.handleEvent(t)}),e[Ry])}function Oy(){jv.call(this),this.i=new wy(this),this.S=this,this.J=null}function Ly(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new qv(t,e);else if(t instanceof qv)t.target=t.target||e;else{var i=t;yy(t=new qv(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=My(o,r,!0,t)&&i}if(i=My(o=t.g=e,r,!0,t)&&i,i=My(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=My(o=t.g=n[s],r,!1,t)&&i}function My(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,c=o.la||o.src;o.ia&&by(e.i,o),i=!1!==a.call(c,r)&&i}}return i&&!r.defaultPrevented}Uv(Oy,jv),Oy.prototype[hy]=!0,Oy.prototype.removeEventListener=function(e,t,n,r){Cy(this,e,t,n,r)},Oy.prototype.N=function(){if(Oy.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)py(n[r]);delete t.g[e],t.h--}}this.J=null},Oy.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Oy.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Fy=Nv.JSON.stringify;function Uy(){var e=Ky;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var jy=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new Vy),(e=>e.reset()));class Vy{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function zy(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function By(e){Nv.setTimeout((()=>{throw e}),0)}let qy,Gy=!1,Ky=new class{constructor(){this.h=this.g=null}add(e,t){const n=jy.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},Hy=()=>{const e=Nv.Promise.resolve(void 0);qy=()=>{e.then(Wy)}};var Wy=()=>{for(var e;e=Uy();){try{e.h.call(e.g)}catch(n){By(n)}var t=jy;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Gy=!1};function Qy(e,t){Oy.call(this),this.h=e||1,this.g=t||Nv,this.j=Mv(this.qb,this),this.l=Date.now()}function Yy(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function $y(e,t,n){if("function"===typeof e)n&&(e=Mv(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Mv(e.handleEvent,e)}return 2147483647<Number(t)?-1:Nv.setTimeout(e,t||0)}function Jy(e){e.g=$y((()=>{e.g=null,e.i&&(e.i=!1,Jy(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}Uv(Qy,Oy),(Tv=Qy.prototype).ga=!1,Tv.T=null,Tv.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ly(this,"tick"),this.ga&&(Yy(this),this.start()))}},Tv.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Tv.N=function(){Qy.$.N.call(this),Yy(this),delete this.g};class Xy extends jv{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Jy(this)}N(){super.N(),this.g&&(Nv.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Zy(e){jv.call(this),this.h=e,this.g={}}Uv(Zy,jv);var ew=[];function tw(e,t,n,r){Array.isArray(n)||(n&&(ew[0]=n.toString()),n=ew);for(var i=0;i<n.length;i++){var s=Sy(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function nw(e){my(e.g,(function(e,t){this.g.hasOwnProperty(t)&&xy(e)}),e),e.g={}}function rw(){this.g=!0}function iw(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return Fy(n)}catch(a){return t}}(e,n)+(r?" "+r:"")}))}Zy.prototype.N=function(){Zy.$.N.call(this),nw(this)},Zy.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},rw.prototype.Ea=function(){this.g=!1},rw.prototype.info=function(){};var sw={},ow=null;function aw(){return ow=ow||new Oy}function cw(e){qv.call(this,sw.Ta,e)}function lw(e){const t=aw();Ly(t,new cw(t))}function uw(e,t){qv.call(this,sw.STAT_EVENT,e),this.stat=t}function hw(e){const t=aw();Ly(t,new uw(t,e))}function dw(e,t){qv.call(this,sw.Ua,e),this.size=t}function fw(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Nv.setTimeout((function(){e()}),t)}sw.Ta="serverreachability",Uv(cw,qv),sw.STAT_EVENT="statevent",Uv(uw,qv),sw.Ua="timingevent",Uv(dw,qv);var pw={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},mw={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function gw(){}function vw(e){return e.h||(e.h=e.i())}function yw(){}gw.prototype.h=null;var ww,bw={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function _w(){qv.call(this,"d")}function Ew(){qv.call(this,"c")}function Iw(){}function Sw(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new Zy(this),this.P=kw,e=ey?125:void 0,this.V=new Qy(e),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Tw}function Tw(){this.i=null,this.g="",this.h=!1}Uv(_w,qv),Uv(Ew,qv),Uv(Iw,gw),Iw.prototype.g=function(){return new XMLHttpRequest},Iw.prototype.i=function(){return{}},ww=new Iw;var kw=45e3,Cw={},xw={};function Nw(e,t,n){e.L=1,e.A=Qw(qw(t)),e.u=n,e.S=!0,Aw(e,null)}function Aw(e,t){e.G=Date.now(),Ow(e),e.B=qw(e.A);var n=e.B,r=e.W;Array.isArray(r)||(r=[String(r)]),ab(n.i,"t",r),e.o=0,n=e.l.J,e.h=new Tw,e.g=c_(e.l,n?t:null,!e.u),0<e.O&&(e.M=new Xy(Mv(e.Pa,e,e.g),e.O)),tw(e.U,e.g,"readystatechange",e.nb),t=e.I?gy(e.I):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.B,e.v,e.u,t)):(e.v="GET",e.g.ha(e.B,e.v,null,t)),lw(),function(e,t,n,r,i,s){e.info((function(){if(e.g)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var u=l[0];l=l[1];var h=u.split("_");o=2<=h.length&&"type"==h[1]?o+(u+"=")+l+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.v,e.B,e.m,e.W,e.u)}function Pw(e){return!!e.g&&("GET"==e.v&&2!=e.L&&e.l.Ha)}function Rw(e,t,n){let r,i=!0;for(;!e.J&&e.o<n.length;){if(r=Dw(e,n),r==xw){4==t&&(e.s=4,hw(14),i=!1),iw(e.j,e.m,null,"[Incomplete Response]");break}if(r==Cw){e.s=4,hw(15),iw(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}iw(e.j,e.m,r,null),jw(e,r)}Pw(e)&&0!=e.o&&(e.h.g=e.h.g.slice(e.o),e.o=0),4!=t||0!=n.length||e.h.h||(e.s=1,hw(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),e_(t),t.M=!0,hw(11))):(iw(e.j,e.m,n,"[Invalid Chunked Response]"),Uw(e),Fw(e))}function Dw(e,t){var n=e.o,r=t.indexOf("\n",n);return-1==r?xw:(n=Number(t.substring(n,r)),isNaN(n)?Cw:(r+=1)+n>t.length?xw:(t=t.slice(r,r+n),e.o=r+n,t))}function Ow(e){e.Y=Date.now()+e.P,Lw(e,e.P)}function Lw(e,t){if(null!=e.C)throw Error("WatchDog timer not null");e.C=fw(Mv(e.lb,e),t)}function Mw(e){e.C&&(Nv.clearTimeout(e.C),e.C=null)}function Fw(e){0==e.l.H||e.J||r_(e.l,e)}function Uw(e){Mw(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,Yy(e.V),nw(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function jw(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||pb(n.i,e)))if(!e.K&&pb(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(l){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;n_(n),Hb(n)}Zb(n),hw(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=fw(Mv(n.ib,n),6e3));if(1>=fb(n.i)&&n.oa){try{n.oa()}catch(l){}n.oa=void 0}}else s_(n,11)}else if((e.K||n.g==e)&&n_(n),!Kv(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let l=i[t];if(n.V=l[0],l=l[1],2==n.H)if("c"==l[0]){n.K=l[1],n.pa=l[2];const t=l[3];null!=t&&(n.ra=t,n.l.info("VER="+n.ra));const i=l[4];null!=i&&(n.Ga=i,n.l.info("SVER="+n.Ga));const u=l[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.i;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(mb(s,s.h),s.h=null))}if(r.F){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.Da=e,Ww(r.I,r.F,e))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var o=e;if((r=n).wa=a_(r,r.J?r.pa:null,r.Y),o.K){gb(r.i,o);var a=o,c=r.L;c&&a.setTimeout(c),a.C&&(Mw(a),Ow(a)),r.g=o}else Xb(r);0<n.j.length&&Qb(n)}else"stop"!=l[0]&&"close"!=l[0]||s_(n,7);else 3==n.H&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?s_(n,7):Kb(n):"noop"!=l[0]&&n.h&&n.h.Aa(l),n.A=0)}lw()}catch(l){}}function Vw(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Av(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(Av(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(Av(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}(Tv=Sw.prototype).setTimeout=function(e){this.P=e},Tv.nb=function(e){e=e.target;const t=this.M;t&&3==jb(e)?t.l():this.Pa(e)},Tv.Pa=function(e){try{if(e==this.g)e:{const u=jb(this.g);var t=this.g.Ia();this.g.da();if(!(3>u)&&(3!=u||ey||this.g&&(this.h.h||this.g.ja()||Vb(this.g)))){this.J||4!=u||7==t||lw(),Mw(this);var n=this.g.da();this.ca=n;t:if(Pw(this)){var r=Vb(this.g);e="";var i=r.length,s=4==jb(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Uw(this),Fw(this);var o="";break t}this.h.i=new Nv.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.length=0,this.h.g+=e,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=200==n,function(e,t,n,r,i,s,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+o}))}(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Kv(a)){var l=a;break t}}l=null}if(!(n=l)){this.i=!1,this.s=3,hw(12),Uw(this),Fw(this);break e}iw(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,jw(this,n)}this.S?(Rw(this,u,o),ey&&this.i&&3==u&&(tw(this.U,this.V,"tick",this.mb),this.V.start())):(iw(this.j,this.m,o,null),jw(this,o)),4==u&&Uw(this),this.i&&!this.J&&(4==u?r_(this.l,this):(this.i=!1,Ow(this)))}else(function(e){const t={};e=(e.g&&2<=jb(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(Kv(e[r]))continue;var n=zy(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.s=3,hw(12)):(this.s=0,hw(13)),Uw(this),Fw(this)}}}catch(u){}},Tv.mb=function(){if(this.g){var e=jb(this.g),t=this.g.ja();this.o<t.length&&(Mw(this),Rw(this,e,t),this.i&&4!=e&&Ow(this))}},Tv.cancel=function(){this.J=!0,Uw(this)},Tv.lb=function(){this.C=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.B),2!=this.L&&(lw(),hw(17)),Uw(this),this.s=2,Fw(this)):Lw(this,this.Y-e)};var zw=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Bw(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Bw){this.h=e.h,Gw(this,e.j),this.s=e.s,this.g=e.g,Kw(this,e.m),this.l=e.l;var t=e.i,n=new rb;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Hw(this,n),this.o=e.o}else e&&(t=String(e).match(zw))?(this.h=!1,Gw(this,t[1]||"",!0),this.s=Yw(t[2]||""),this.g=Yw(t[3]||"",!0),Kw(this,t[4]),this.l=Yw(t[5]||"",!0),Hw(this,t[6]||"",!0),this.o=Yw(t[7]||"")):(this.h=!1,this.i=new rb(null,this.h))}function qw(e){return new Bw(e)}function Gw(e,t,n){e.j=n?Yw(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Kw(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Hw(e,t,n){t instanceof rb?(e.i=t,function(e,t){t&&!e.j&&(ib(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(sb(this,t),ab(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=$w(t,tb)),e.i=new rb(t,e.h))}function Ww(e,t,n){e.i.set(t,n)}function Qw(e){return Ww(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Yw(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function $w(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Jw),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Jw(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Bw.prototype.toString=function(){var e=[],t=this.j;t&&e.push($w(t,Xw,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push($w(t,Xw,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push($w(n,"/"==n.charAt(0)?eb:Zw,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",$w(n,nb)),e.join("")};var Xw=/[#\/\?@]/g,Zw=/[#\?:]/g,eb=/[#\?]/g,tb=/[#\?@]/g,nb=/#/g;function rb(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function ib(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function sb(e,t){ib(e),t=cb(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function ob(e,t){return ib(e),t=cb(e,t),e.g.has(t)}function ab(e,t,n){sb(e,t),0<n.length&&(e.i=null,e.g.set(cb(e,t),zv(n)),e.h+=n.length)}function cb(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Tv=rb.prototype).add=function(e,t){ib(this),this.i=null,e=cb(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Tv.forEach=function(e,t){ib(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},Tv.ta=function(){ib(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},Tv.Z=function(e){ib(this);let t=[];if("string"===typeof e)ob(this,e)&&(t=t.concat(this.g.get(cb(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},Tv.set=function(e,t){return ib(this),this.i=null,ob(this,e=cb(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Tv.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},Tv.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join("&")};var lb=class{constructor(e,t){this.g=e,this.map=t}};function ub(e){this.l=e||hb,Nv.PerformanceNavigationTiming?e=0<(e=Nv.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Nv.g&&Nv.g.Ka&&Nv.g.Ka()&&Nv.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var hb=10;function db(e){return!!e.h||!!e.g&&e.g.size>=e.j}function fb(e){return e.h?1:e.g?e.g.size:0}function pb(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function mb(e,t){e.g?e.g.add(t):e.h=t}function gb(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function vb(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return zv(e.i)}ub.prototype.cancel=function(){if(this.i=vb(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var yb,wb=class{stringify(e){return Nv.JSON.stringify(e,void 0)}parse(e){return Nv.JSON.parse(e,void 0)}};function bb(){this.g=new wb}function _b(e,t,n){const r=n||"";try{Vw(e,(function(e,n){let i=e;Pv(e)&&(i=Fy(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(wF){throw t.push(r+"type="+encodeURIComponent("_badmap")),wF}}function Eb(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(s){}}function Ib(e){this.l=e.ec||null,this.j=e.ob||!1}function Sb(e,t){Oy.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=Tb,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Uv(Ib,gw),Ib.prototype.g=function(){return new Sb(this.l,this.j)},Ib.prototype.i=(yb={},function(){return yb}),Uv(Sb,Oy);var Tb=0;function kb(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function Cb(e){e.readyState=4,e.l=null,e.j=null,e.A=null,xb(e)}function xb(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Tv=Sb.prototype).open=function(e,t){if(this.readyState!=Tb)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,xb(this)},Tv.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||Nv).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},Tv.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Cb(this)),this.readyState=Tb},Tv.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,xb(this)),this.g&&(this.readyState=3,xb(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof Nv.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;kb(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},Tv.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Cb(this):xb(this),3==this.readyState&&kb(this)}},Tv.Za=function(e){this.g&&(this.response=this.responseText=e,Cb(this))},Tv.Ya=function(e){this.g&&(this.response=e,Cb(this))},Tv.ka=function(){this.g&&Cb(this)},Tv.setRequestHeader=function(e,t){this.v.append(e,t)},Tv.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Tv.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Sb.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Nb=Nv.JSON.parse;function Ab(e){Oy.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Pb,this.L=this.M=!1}Uv(Ab,Oy);var Pb="",Rb=/^https?$/i,Db=["POST","PUT"];function Ob(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Lb(e),Fb(e)}function Lb(e){e.F||(e.F=!0,Ly(e,"complete"),Ly(e,"error"))}function Mb(e){if(e.h&&"undefined"!=typeof xv&&(!e.C[1]||4!=jb(e)||2!=e.da()))if(e.v&&4==jb(e))$y(e.La,0,e);else if(Ly(e,"readystatechange"),4==jb(e)){e.h=!1;try{const a=e.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===a){var i=String(e.I).match(zw)[1]||null;!i&&Nv.self&&Nv.self.location&&(i=Nv.self.location.protocol.slice(0,-1)),r=!Rb.test(i?i.toLowerCase():"")}n=r}if(n)Ly(e,"complete"),Ly(e,"success");else{e.m=6;try{var s=2<jb(e)?e.g.statusText:""}catch(o){s=""}e.j=s+" ["+e.da()+"]",Lb(e)}}finally{Fb(e)}}}function Fb(e,t){if(e.g){Ub(e);const n=e.g,r=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||Ly(e,"ready");try{n.onreadystatechange=r}catch(wF){}}}function Ub(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(Nv.clearTimeout(e.A),e.A=null)}function jb(e){return e.g?e.g.readyState:0}function Vb(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case Pb:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(W_){return null}}function zb(e){let t="";return my(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Bb(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=zb(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Ww(e,t,n))}function qb(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Gb(e){this.Ga=0,this.j=[],this.l=new rw,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=qb("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=qb("baseRetryDelayMs",5e3,e),this.hb=qb("retryDelaySeedMs",1e4,e),this.eb=qb("forwardChannelMaxRetries",2,e),this.xa=qb("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new ub(e&&e.concurrentRequestLimit),this.Ja=new bb,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Kb(e){if(Wb(e),3==e.H){var t=e.W++,n=qw(e.I);if(Ww(n,"SID",e.K),Ww(n,"RID",t),Ww(n,"TYPE","terminate"),$b(e,n),(t=new Sw(e,e.l,t)).L=2,t.A=Qw(qw(n)),n=!1,Nv.navigator&&Nv.navigator.sendBeacon)try{n=Nv.navigator.sendBeacon(t.A.toString(),"")}catch(r){}!n&&Nv.Image&&((new Image).src=t.A,n=!0),n||(t.g=c_(t.l,null),t.g.ha(t.A)),t.G=Date.now(),Ow(t)}o_(e)}function Hb(e){e.g&&(e_(e),e.g.cancel(),e.g=null)}function Wb(e){Hb(e),e.u&&(Nv.clearTimeout(e.u),e.u=null),n_(e),e.i.cancel(),e.m&&("number"===typeof e.m&&Nv.clearTimeout(e.m),e.m=null)}function Qb(e){if(!db(e.i)&&!e.m){e.m=!0;var t=e.Na;qy||Hy(),Gy||(qy(),Gy=!0),Ky.add(t,e),e.C=0}}function Yb(e,t){var n;n=t?t.m:e.W++;const r=qw(e.I);Ww(r,"SID",e.K),Ww(r,"RID",n),Ww(r,"AID",e.V),$b(e,r),e.o&&e.s&&Bb(r,e.o,e.s),n=new Sw(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=Jb(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),mb(e.i,n),Nw(n,r,t)}function $b(e,t){e.na&&my(e.na,(function(e,n){Ww(t,n,e)})),e.h&&Vw({},(function(e,n){Ww(t,n,e)}))}function Jb(e,t,n){n=Math.min(e.j.length,n);var r=e.h?Mv(e.h.Va,e.h,e):null;e:{var i=e.j;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let o=0;o<n;o++){let n=i[o].g;const a=i[o].map;if(n-=t,0>n)t=Math.max(0,i[o].g-100),s=!1;else try{_b(a,e,"req"+n+"_")}catch(lI){r&&r(a)}}if(s){r=e.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function Xb(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;qy||Hy(),Gy||(qy(),Gy=!0),Ky.add(t,e),e.A=0}}function Zb(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=fw(Mv(e.Ma,e),i_(e,e.A)),e.A++,!0)}function e_(e){null!=e.B&&(Nv.clearTimeout(e.B),e.B=null)}function t_(e){e.g=new Sw(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=qw(e.wa);Ww(t,"RID","rpc"),Ww(t,"SID",e.K),Ww(t,"AID",e.V),Ww(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&Ww(t,"TO",e.qa),Ww(t,"TYPE","xmlhttp"),$b(e,t),e.o&&e.s&&Bb(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.A=Qw(qw(t)),n.u=null,n.S=!0,Aw(n,e)}function n_(e){null!=e.v&&(Nv.clearTimeout(e.v),e.v=null)}function r_(e,t){var n=null;if(e.g==t){n_(e),e_(e),e.g=null;var r=2}else{if(!pb(e.i,t))return;n=t.F,gb(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.u?t.u.length:0,t=Date.now()-t.G;var i=e.C;Ly(r=aw(),new dw(r,n)),Qb(e)}else Xb(e);else if(3==(i=t.s)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(fb(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=fw(Mv(e.Na,e,t),i_(e,e.C)),e.C++,!0))}(e,t)||2==r&&Zb(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:s_(e,5);break;case 4:s_(e,10);break;case 3:s_(e,6);break;default:s_(e,2)}}function i_(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function s_(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=Mv(e.pb,e);n||(n=new Bw("//www.google.com/images/cleardot.gif"),Nv.location&&"http"==Nv.location.protocol||Gw(n,"https"),Qw(n)),function(e,t){const n=new rw;if(Nv.Image){const r=new Image;r.onload=Fv(Eb,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Fv(Eb,n,r,"TestLoadImage: error",!1,t),r.onabort=Fv(Eb,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Fv(Eb,n,r,"TestLoadImage: timeout",!1,t),Nv.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else hw(2);e.H=0,e.h&&e.h.za(t),o_(e),Wb(e)}function o_(e){if(e.H=0,e.ma=[],e.h){const t=vb(e.i);0==t.length&&0==e.j.length||(Bv(e.ma,t),Bv(e.ma,e.j),e.i.i.length=0,zv(e.j),e.j.length=0),e.h.ya()}}function a_(e,t,n){var r=n instanceof Bw?qw(n):new Bw(n);if(""!=r.g)t&&(r.g=t+"."+r.g),Kw(r,r.m);else{var i=Nv.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new Bw(null);r&&Gw(s,r),t&&(s.g=t),i&&Kw(s,i),n&&(s.l=n),r=s}return n=e.F,t=e.Da,n&&t&&Ww(r,n,t),Ww(r,"VER",e.ra),$b(e,r),r}function c_(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ha&&!e.va?new Ab(new Ib({ob:n})):new Ab(e.va)).Oa(e.J),t}function l_(){}function u_(){if(Xv&&!(10<=Number(cy)))throw Error("Environmental error: no available transport.")}function h_(e,t){Oy.call(this),this.g=new Gb(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!Kv(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Kv(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new p_(this)}function d_(e){_w.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function f_(){Ew.call(this),this.status=1}function p_(e){this.g=e}function m_(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function g_(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],o=t+(s^n&(i^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=n+(o<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(t=n+((o=t+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(t^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function v_(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}(Tv=Ab.prototype).Oa=function(e){this.M=e},Tv.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():ww.g(),this.C=this.u?vw(this.u):vw(ww),this.g.onreadystatechange=Mv(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){return void Ob(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),i=Nv.FormData&&e instanceof Nv.FormData,!(0<=Vv(Db,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,a]of n)this.g.setRequestHeader(o,a);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Ub(this),0<this.B&&((this.L=function(e){return Xv&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Mv(this.ua,this)):this.A=$y(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){Ob(this,s)}},Tv.ua=function(){"undefined"!=typeof xv&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ly(this,"timeout"),this.abort(8))},Tv.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Ly(this,"complete"),Ly(this,"abort"),Fb(this))},Tv.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Fb(this,!0)),Ab.$.N.call(this)},Tv.La=function(){this.s||(this.G||this.v||this.l?Mb(this):this.kb())},Tv.kb=function(){Mb(this)},Tv.isActive=function(){return!!this.g},Tv.da=function(){try{return 2<jb(this)?this.g.status:-1}catch(yb){return-1}},Tv.ja=function(){try{return this.g?this.g.responseText:""}catch(yb){return""}},Tv.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Nb(t)}},Tv.Ia=function(){return this.m},Tv.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(Tv=Gb.prototype).ra=8,Tv.H=1,Tv.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new Sw(this,this.l,e);let s=this.s;if(this.U&&(s?(s=gy(s),yy(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Jb(this,i,t),Ww(n=qw(this.I),"RID",e),Ww(n,"CVER",22),this.F&&Ww(n,"X-HTTP-Session-Id",this.F),$b(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(zb(s)))+"&"+t:this.o&&Bb(n,this.o,s)),mb(this.i,i),this.bb&&Ww(n,"TYPE","init"),this.P?(Ww(n,"$req",t),Ww(n,"SID","null"),i.aa=!0,Nw(i,n,null)):Nw(i,n,t),this.H=2}}else 3==this.H&&(e?Yb(this,e):0==this.j.length||db(this.i)||Yb(this))},Tv.Ma=function(){if(this.u=null,t_(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=fw(Mv(this.jb,this),e)}},Tv.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,hw(10),Hb(this),t_(this))},Tv.ib=function(){null!=this.v&&(this.v=null,Hb(this),Zb(this),hw(19))},Tv.pb=function(e){e?(this.l.info("Successfully pinged google.com"),hw(2)):(this.l.info("Failed to ping google.com"),hw(1))},Tv.isActive=function(){return!!this.h&&this.h.isActive(this)},(Tv=l_.prototype).Ba=function(){},Tv.Aa=function(){},Tv.za=function(){},Tv.ya=function(){},Tv.isActive=function(){return!0},Tv.Va=function(){},u_.prototype.g=function(e,t){return new h_(e,t)},Uv(h_,Oy),h_.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;hw(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=a_(e,null,e.Y),Qb(e)},h_.prototype.close=function(){Kb(this.g)},h_.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Fy(e),e=n);t.j.push(new lb(t.fb++,e)),3==t.H&&Qb(t)},h_.prototype.N=function(){this.g.h=null,delete this.j,Kb(this.g),delete this.g,h_.$.N.call(this)},Uv(d_,_w),Uv(f_,Ew),Uv(p_,l_),p_.prototype.Ba=function(){Ly(this.g,"a")},p_.prototype.Aa=function(e){Ly(this.g,new d_(e))},p_.prototype.za=function(e){Ly(this.g,new f_)},p_.prototype.ya=function(){Ly(this.g,"b")},Uv(m_,(function(){this.blockSize=-1})),m_.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},m_.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,s=0;s<t;){if(0==i)for(;s<=n;)g_(this,e,s),s+=this.blockSize;if("string"===typeof e){for(;s<t;)if(r[i++]=e.charCodeAt(s++),i==this.blockSize){g_(this,r),i=0;break}}else for(;s<t;)if(r[i++]=e[s++],i==this.blockSize){g_(this,r),i=0;break}}this.h=i,this.i+=t},m_.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var y_={};function w_(e){return-128<=e&&128>e?function(e,t){var n=y_;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new v_([0|e],0>e?-1:0)})):new v_([0|e],0>e?-1:0)}function b_(e){if(isNaN(e)||!isFinite(e))return E_;if(0>e)return C_(b_(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=__;return new v_(t,0)}var __=4294967296,E_=w_(0),I_=w_(1),S_=w_(16777216);function T_(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function k_(e){return-1==e.h}function C_(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new v_(n,~e.h).add(I_)}function x_(e,t){return e.add(C_(t))}function N_(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function A_(e,t){this.g=e,this.h=t}function P_(e,t){if(T_(t))throw Error("division by zero");if(T_(e))return new A_(E_,E_);if(k_(e))return t=P_(C_(e),t),new A_(C_(t.g),C_(t.h));if(k_(t))return t=P_(e,C_(t)),new A_(C_(t.g),t.h);if(30<e.g.length){if(k_(e)||k_(t))throw Error("slowDivide_ only works with positive integers.");for(var n=I_,r=t;0>=r.X(e);)n=R_(n),r=R_(r);var i=D_(n,1),s=D_(r,1);for(r=D_(r,2),n=D_(n,2);!T_(r);){var o=s.add(r);0>=o.X(e)&&(i=i.add(n),s=o),r=D_(r,1),n=D_(n,1)}return t=x_(e,i.R(t)),new A_(i,t)}for(i=E_;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(s=b_(n)).R(t);k_(o)||0<o.X(e);)o=(s=b_(n-=r)).R(t);T_(s)&&(s=I_),i=i.add(s),e=x_(e,o)}return new A_(i,e)}function R_(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new v_(n,e.h)}function D_(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],s=0;s<r;s++)i[s]=0<t?e.D(s+n)>>>t|e.D(s+n+1)<<32-t:e.D(s+n);return new v_(i,e.h)}(Tv=v_.prototype).ea=function(){if(k_(this))return-C_(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:__+r)*t,t*=__}return e},Tv.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(T_(this))return"0";if(k_(this))return"-"+C_(this).toString(e);for(var t=b_(Math.pow(e,6)),n=this,r="";;){var i=P_(n,t).g,s=((0<(n=x_(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(T_(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},Tv.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},Tv.X=function(e){return k_(e=x_(this,e))?-1:T_(e)?0:1},Tv.abs=function(){return k_(this)?C_(this):this},Tv.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var s=r+(65535&this.D(i))+(65535&e.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new v_(n,-2147483648&n[n.length-1]?-1:0)},Tv.R=function(e){if(T_(this)||T_(e))return E_;if(k_(this))return k_(e)?C_(this).R(C_(e)):C_(C_(this).R(e));if(k_(e))return C_(this.R(C_(e)));if(0>this.X(S_)&&0>e.X(S_))return b_(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=e.D(i)>>>16,c=65535&e.D(i);n[2*r+2*i]+=o*c,N_(n,2*r+2*i),n[2*r+2*i+1]+=s*c,N_(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,N_(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,N_(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new v_(n,0)},Tv.gb=function(e){return P_(this,e).h},Tv.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new v_(n,this.h&e.h)},Tv.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new v_(n,this.h|e.h)},Tv.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new v_(n,this.h^e.h)},u_.prototype.createWebChannel=u_.prototype.g,h_.prototype.send=h_.prototype.u,h_.prototype.open=h_.prototype.m,h_.prototype.close=h_.prototype.close,pw.NO_ERROR=0,pw.TIMEOUT=8,pw.HTTP_ERROR=6,mw.COMPLETE="complete",yw.EventType=bw,bw.OPEN="a",bw.CLOSE="b",bw.ERROR="c",bw.MESSAGE="d",Oy.prototype.listen=Oy.prototype.O,Ab.prototype.listenOnce=Ab.prototype.P,Ab.prototype.getLastError=Ab.prototype.Sa,Ab.prototype.getLastErrorCode=Ab.prototype.Ia,Ab.prototype.getStatus=Ab.prototype.da,Ab.prototype.getResponseJson=Ab.prototype.Wa,Ab.prototype.getResponseText=Ab.prototype.ja,Ab.prototype.send=Ab.prototype.ha,Ab.prototype.setWithCredentials=Ab.prototype.Oa,m_.prototype.digest=m_.prototype.l,m_.prototype.reset=m_.prototype.reset,m_.prototype.update=m_.prototype.j,v_.prototype.add=v_.prototype.add,v_.prototype.multiply=v_.prototype.R,v_.prototype.modulo=v_.prototype.gb,v_.prototype.compare=v_.prototype.X,v_.prototype.toNumber=v_.prototype.ea,v_.prototype.toString=v_.prototype.toString,v_.prototype.getBits=v_.prototype.D,v_.fromNumber=b_,v_.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return C_(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=b_(Math.pow(n,8)),i=E_,s=0;s<t.length;s+=8){var o=Math.min(8,t.length-s),a=parseInt(t.substring(s,s+o),n);8>o?(o=b_(Math.pow(n,o)),i=i.R(o).add(b_(a))):i=(i=i.R(r)).add(b_(a))}return i};var O_=Cv.createWebChannelTransport=function(){return new u_},L_=Cv.getStatEventTarget=function(){return aw()},M_=Cv.ErrorCode=pw,F_=Cv.EventType=mw,U_=Cv.Event=sw,j_=Cv.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},V_=(Cv.FetchXmlHttpFactory=Ib,Cv.WebChannel=yw),z_=Cv.XhrIo=Ab,B_=Cv.Md5=m_,q_=Cv.Integer=v_;const G_="@firebase/firestore";class K_{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}K_.UNAUTHENTICATED=new K_(null),K_.GOOGLE_CREDENTIALS=new K_("google-credentials-uid"),K_.FIRST_PARTY=new K_("first-party-uid"),K_.MOCK_USER=new K_("mock-user");let H_="10.10.0";const W_=new js("@firebase/firestore");function Q_(){return W_.logLevel}function Y_(e){if(W_.logLevel<=Os.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(X_);W_.debug("Firestore (".concat(H_,"): ").concat(e),...i)}}function $_(e){if(W_.logLevel<=Os.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(X_);W_.error("Firestore (".concat(H_,"): ").concat(e),...i)}}function J_(e){if(W_.logLevel<=Os.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(X_);W_.warn("Firestore (".concat(H_,"): ").concat(e),...i)}}function X_(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function Z_(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(H_,") INTERNAL ASSERTION FAILED: ")+e;throw $_(t),new Error(t)}function eE(e,t){e||Z_()}function tE(e,t){return e}const nE={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class rE extends gs{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class iE{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class sE{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class oE{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(K_.UNAUTHENTICATED)))}shutdown(){}}class aE{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class cE{constructor(e){this.t=e,this.currentUser=K_.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new iE;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new iE,e.enqueueRetryable((()=>r(this.currentUser)))};const s=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},o=e=>{Y_("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit((e=>o(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(Y_("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new iE)}}),0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(Y_("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(eE("string"==typeof t.accessToken),new sE(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return eE(null===e||"string"==typeof e),new K_(e)}}class lE{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=K_.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class uE{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new lE(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(K_.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class hE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class dE{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const n=e=>{null!=e.error&&Y_("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.R;return this.R=e.token,Y_("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{Y_("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):Y_("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(eE("string"==typeof e.token),this.R=e.token,new hE(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function fE(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class pE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=fE(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function mE(e,t){return e<t?-1:e>t?1:0}function gE(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}function vE(e){return e+"\0"}class yE{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new rE(nE.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new rE(nE.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new rE(nE.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new rE(nE.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return yE.fromMillis(Date.now())}static fromDate(e){return yE.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new yE(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?mE(this.nanoseconds,e.nanoseconds):mE(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class wE{constructor(e){this.timestamp=e}static fromTimestamp(e){return new wE(e)}static min(){return new wE(new yE(0,0))}static max(){return new wE(new yE(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class bE{constructor(e,t,n){void 0===t?t=0:t>e.length&&Z_(),void 0===n?n=e.length-t:n>e.length-t&&Z_(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===bE.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof bE?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class _E extends bE{construct(e,t,n){return new _E(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new rE(nE.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter((e=>e.length>0)))}return new _E(e)}static emptyPath(){return new _E([])}}const EE=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class IE extends bE{construct(e,t,n){return new IE(e,t,n)}static isValidIdentifier(e){return EE.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),IE.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new IE(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new rE(nE.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new rE(nE.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new rE(nE.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new rE(nE.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new IE(t)}static emptyPath(){return new IE([])}}class SE{constructor(e){this.path=e}static fromPath(e){return new SE(_E.fromString(e))}static fromName(e){return new SE(_E.fromString(e).popFirst(5))}static empty(){return new SE(_E.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===_E.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return _E.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new SE(new _E(e.slice()))}}class TE{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}function kE(e){return e.fields.find((e=>2===e.kind))}function CE(e){return e.fields.filter((e=>2!==e.kind))}TE.UNKNOWN_ID=-1;class xE{constructor(e,t){this.fieldPath=e,this.kind=t}}class NE{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new NE(0,RE.min())}}function AE(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=wE.fromTimestamp(1e9===r?new yE(n+1,0):new yE(n,r));return new RE(i,SE.empty(),t)}function PE(e){return new RE(e.readTime,e.key,-1)}class RE{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new RE(wE.min(),SE.empty(),-1)}static max(){return new RE(wE.max(),SE.empty(),-1)}}function DE(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=SE.comparator(e.documentKey,t.documentKey),0!==n?n:mE(e.largestBatchId,t.largestBatchId))}const OE="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class LE{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function ME(e){if(e.code!==nE.FAILED_PRECONDITION||e.message!==OE)throw e;Y_("LocalStore","Unexpectedly lost primary lease")}class FE{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Z_(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new FE(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof FE?t:FE.resolve(t)}catch(e){return FE.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):FE.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):FE.reject(t)}static resolve(e){return new FE(((t,n)=>{t(e)}))}static reject(e){return new FE(((t,n)=>{n(e)}))}static waitFor(e){return new FE(((t,n)=>{let r=0,i=0,s=!1;e.forEach((e=>{++r,e.next((()=>{++i,s&&i===r&&t()}),(e=>n(e)))})),s=!0,i===r&&t()}))}static or(e){let t=FE.resolve(!1);for(const n of e)t=t.next((e=>e?FE.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new FE(((n,r)=>{const i=e.length,s=new Array(i);let o=0;for(let a=0;a<i;a++){const c=a;t(e[c]).next((e=>{s[c]=e,++o,o===i&&n(s)}),(e=>r(e)))}}))}static doWhile(e,t){return new FE(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}class UE{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new iE,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new zE(e,t.error)):this.V.resolve()},this.transaction.onerror=t=>{const n=HE(t.target.error);this.V.reject(new zE(e,n))}}static open(e,t,n,r){try{return new UE(t,e.transaction(r,n))}catch(e){throw new zE(t,e)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(Y_("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new qE(t)}}class jE{constructor(e,t,n){this.name=e,this.version=t,this.p=n,12.2===jE.S(cs())&&$_("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Y_("SimpleDb","Removing database:",e),GE(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!ms())return!1;if(jE.C())return!0;const e=cs(),t=jE.S(e),n=0<t&&t<10,r=jE.v(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static C(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.F)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static v(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}async O(e){return this.db||(Y_("SimpleDb","Opening database:",this.name),this.db=await new Promise(((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{const n=e.target.result;t(n)},r.onblocked=()=>{n(new zE(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{const r=t.target.error;"VersionError"===r.name?n(new rE(nE.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===r.name?n(new rE(nE.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r)):n(new zE(e,r))},r.onupgradeneeded=e=>{Y_("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.p.N(t,r.transaction,e.oldVersion,this.version).next((()=>{Y_("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.L&&(this.db.onversionchange=e=>this.L(e)),this.db}B(e){this.L=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){const i="readonly"===t;let s=0;for(;;){++s;try{this.db=await this.O(e);const t=UE.open(this.db,e,i?"readonly":"readwrite",n),s=r(t).next((e=>(t.g(),e))).catch((e=>(t.abort(e),FE.reject(e)))).toPromise();return s.catch((()=>{})),await t.m,s}catch(e){const t=e,n="FirebaseError"!==t.name&&s<3;if(Y_("SimpleDb","Transaction failed with error:",t.message,"Retrying:",n),this.close(),!n)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}}class VE{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return GE(this.k.delete())}}class zE extends rE{constructor(e,t){super(nE.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(t)),this.name="IndexedDbTransactionError"}}function BE(e){return"IndexedDbTransactionError"===e.name}class qE{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(Y_("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Y_("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),GE(n)}add(e){return Y_("SimpleDb","ADD",this.store.name,e,e),GE(this.store.add(e))}get(e){return GE(this.store.get(e)).next((t=>(void 0===t&&(t=null),Y_("SimpleDb","GET",this.store.name,e,t),t)))}delete(e){return Y_("SimpleDb","DELETE",this.store.name,e),GE(this.store.delete(e))}count(){return Y_("SimpleDb","COUNT",this.store.name),GE(this.store.count())}W(e,t){const n=this.options(e,t),r=n.index?this.store.index(n.index):this.store;if("function"==typeof r.getAll){const e=r.getAll(n.range);return new FE(((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}}))}{const e=this.cursor(n),t=[];return this.G(e,((e,n)=>{t.push(n)})).next((()=>t))}}j(e,t){const n=this.store.getAll(e,null===t?void 0:t);return new FE(((e,t)=>{n.onerror=e=>{t(e.target.error)},n.onsuccess=t=>{e(t.target.result)}}))}H(e,t){Y_("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.J=!1;const r=this.cursor(n);return this.G(r,((e,t,n)=>n.delete()))}Y(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.G(r,t)}Z(e){const t=this.cursor({});return new FE(((n,r)=>{t.onerror=e=>{const t=HE(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next((e=>{e?r.continue():n()})):n()}}))}G(e,t){const n=[];return new FE(((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const s=new VE(i),o=t(i.primaryKey,i.value,s);if(o instanceof FE){const e=o.catch((e=>(s.done(),FE.reject(e))));n.push(e)}s.isDone?r():null===s.$?i.continue():i.continue(s.$)}})).next((()=>FE.waitFor(n)))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.J?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function GE(e){return new FE(((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=HE(e.target.error);n(t)}}))}let KE=!1;function HE(e){const t=jE.S(cs());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new rE("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(t,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return KE||(KE=!0,setTimeout((()=>{throw e}),0)),e}}return e}class WE{constructor(e,t){this.asyncQueue=e,this.X=t,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}ee(e){Y_("IndexBackfiller","Scheduled in ".concat(e,"ms")),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{Y_("IndexBackfiller","Documents written: ".concat(await this.X.te()))}catch(e){BE(e)?Y_("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",e):await ME(e)}await this.ee(6e4)}))}}class QE{constructor(e,t){this.localStore=e,this.persistence=t}async te(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50;return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.ne(t,e)))}ne(e,t){const n=new Set;let r=t,i=!0;return FE.doWhile((()=>!0===i&&r>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((t=>{if(null!==t&&!n.has(t))return Y_("IndexBackfiller","Processing collection: ".concat(t)),this.re(e,t,r).next((e=>{r-=e,n.add(t)}));i=!1})))).next((()=>t-r))}re(e,t,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((r=>this.localStore.localDocuments.getNextDocuments(e,t,r,n).next((n=>{const i=n.changes;return this.localStore.indexManager.updateIndexEntries(e,i).next((()=>this.ie(r,n))).next((n=>(Y_("IndexBackfiller","Updating offset: ".concat(n)),this.localStore.indexManager.updateCollectionGroup(e,t,n)))).next((()=>i.size))}))))}ie(e,t){let n=e;return t.changes.forEach(((e,t)=>{const r=PE(t);DE(r,n)>0&&(n=r)})),new RE(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}class YE{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.se(e),this.oe=e=>t.writeSequenceNumber(e))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}function $E(e){return null==e}function JE(e){return 0===e&&1/e==-1/0}function XE(e){return"number"==typeof e&&Number.isInteger(e)&&!JE(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}function ZE(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=tI(t)),t=eI(e.get(n),t);return tI(t)}function eI(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=t}}return n}function tI(e){return e+"\x01\x01"}function nI(e){const t=e.length;if(eE(t>=2),2===t)return eE("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),_E.emptyPath();const n=t-2,r=[];let i="";for(let s=0;s<t;){const t=e.indexOf("\x01",s);switch((t<0||t>n)&&Z_(),e.charAt(t+1)){case"\x01":const n=e.substring(s,t);let o;0===i.length?o=n:(i+=n,o=i,i=""),r.push(o);break;case"\x10":i+=e.substring(s,t),i+="\0";break;case"\x11":i+=e.substring(s,t+1);break;default:Z_()}s=t+2}return new _E(r)}YE._e=-1;const rI=["userId","batchId"];function iI(e,t){return[e,ZE(t)]}function sI(e,t,n){return[e,ZE(t),n]}const oI={},aI=["prefixPath","collectionGroup","readTime","documentId"],cI=["prefixPath","collectionGroup","documentId"],lI=["collectionGroup","readTime","prefixPath","documentId"],uI=["canonicalId","targetId"],hI=["targetId","path"],dI=["path","targetId"],fI=["collectionId","parent"],pI=["indexId","uid"],mI=["uid","sequenceNumber"],gI=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],vI=["indexId","uid","orderedDocumentKey"],yI=["userId","collectionPath","documentId"],wI=["userId","collectionPath","largestBatchId"],bI=["userId","collectionGroup","largestBatchId"],_I=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],EI=[..._I,"documentOverlays"],II=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],SI=II,TI=[...SI,"indexConfiguration","indexState","indexEntries"];class kI extends LE{constructor(e,t){super(),this.ae=e,this.currentSequenceNumber=t}}function CI(e,t){const n=tE(e);return jE.M(n.ae,t)}function xI(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function NI(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function AI(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class PI{constructor(e,t){this.comparator=e,this.root=t||DI.EMPTY}insert(e,t){return new PI(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,DI.BLACK,null,null))}remove(e){return new PI(this.comparator,this.root.remove(e,this.comparator).copy(null,null,DI.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push("".concat(t,":").concat(n)),!1))),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new RI(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new RI(this.root,e,this.comparator,!1)}getReverseIterator(){return new RI(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new RI(this.root,e,this.comparator,!0)}}class RI{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class DI{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:DI.RED,this.left=null!=r?r:DI.EMPTY,this.right=null!=i?i:DI.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new DI(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return DI.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return DI.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,DI.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,DI.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Z_();if(this.right.isRed())throw Z_();const e=this.left.check();if(e!==this.right.check())throw Z_();return e+(this.isRed()?0:1)}}DI.EMPTY=null,DI.RED=!0,DI.BLACK=!1,DI.EMPTY=new class{constructor(){this.size=0}get key(){throw Z_()}get value(){throw Z_()}get color(){throw Z_()}get left(){throw Z_()}get right(){throw Z_()}copy(e,t,n,r,i){return this}insert(e,t,n){return new DI(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class OI{constructor(e){this.comparator=e,this.data=new PI(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new LI(this.data.getIterator())}getIteratorFrom(e){return new LI(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof OI))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new OI(this.comparator);return t.data=e,t}}class LI{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function MI(e){return e.hasNext()?e.getNext():void 0}class FI{constructor(e){this.fields=e,e.sort(IE.comparator)}static empty(){return new FI([])}unionWith(e){let t=new OI(IE.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new FI(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return gE(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class UI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class jI{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new UI("Invalid base64 string: "+e):e}}(e);return new jI(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new jI(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return mE(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}jI.EMPTY_BYTE_STRING=new jI("");const VI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function zI(e){if(eE(!!e),"string"==typeof e){let t=0;const n=VI.exec(e);if(eE(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:BI(e.seconds),nanos:BI(e.nanos)}}function BI(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function qI(e){return"string"==typeof e?jI.fromBase64String(e):jI.fromUint8Array(e)}function GI(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function KI(e){const t=e.mapValue.fields.__previous_value__;return GI(t)?KI(t):t}function HI(e){const t=zI(e.mapValue.fields.__local_write_time__.timestampValue);return new yE(t.seconds,t.nanos)}class WI{constructor(e,t,n,r,i,s,o,a,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=a,this.useFetchStreams=c}}class QI{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new QI("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof QI&&e.projectId===this.projectId&&e.database===this.database}}const YI={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},$I={nullValue:"NULL_VALUE"};function JI(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?GI(e)?4:hS(e)?9007199254740991:10:Z_()}function XI(e,t){if(e===t)return!0;const n=JI(e);if(n!==JI(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return HI(e).isEqual(HI(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=zI(e.timestampValue),r=zI(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return qI(e.bytesValue).isEqual(qI(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return BI(e.geoPointValue.latitude)===BI(t.geoPointValue.latitude)&&BI(e.geoPointValue.longitude)===BI(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return BI(e.integerValue)===BI(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=BI(e.doubleValue),r=BI(t.doubleValue);return n===r?JE(n)===JE(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return gE(e.arrayValue.values||[],t.arrayValue.values||[],XI);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(xI(n)!==xI(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!XI(n[i],r[i])))return!1;return!0}(e,t);default:return Z_()}}function ZI(e,t){return void 0!==(e.values||[]).find((e=>XI(e,t)))}function eS(e,t){if(e===t)return 0;const n=JI(e),r=JI(t);if(n!==r)return mE(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return mE(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=BI(e.integerValue||e.doubleValue),r=BI(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return tS(e.timestampValue,t.timestampValue);case 4:return tS(HI(e),HI(t));case 5:return mE(e.stringValue,t.stringValue);case 6:return function(e,t){const n=qI(e),r=qI(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=mE(n[i],r[i]);if(0!==e)return e}return mE(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=mE(BI(e.latitude),BI(t.latitude));return 0!==n?n:mE(BI(e.longitude),BI(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=eS(n[i],r[i]);if(e)return e}return mE(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===YI.mapValue&&t===YI.mapValue)return 0;if(e===YI.mapValue)return 1;if(t===YI.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let o=0;o<r.length&&o<s.length;++o){const e=mE(r[o],s[o]);if(0!==e)return e;const t=eS(n[r[o]],i[s[o]]);if(0!==t)return t}return mE(r.length,s.length)}(e.mapValue,t.mapValue);default:throw Z_()}}function tS(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return mE(e,t);const n=zI(e),r=zI(t),i=mE(n.seconds,r.seconds);return 0!==i?i:mE(n.nanos,r.nanos)}function nS(e){return rS(e)}function rS(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=zI(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return qI(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return SE.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=rS(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(rS(e.fields[i]));return n+"}"}(e.mapValue):Z_()}function iS(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function sS(e){return!!e&&"integerValue"in e}function oS(e){return!!e&&"arrayValue"in e}function aS(e){return!!e&&"nullValue"in e}function cS(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function lS(e){return!!e&&"mapValue"in e}function uS(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return NI(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=uS(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=uS(e.arrayValue.values[n]);return t}return Object.assign({},e)}function hS(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function dS(e){return"nullValue"in e?$I:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?iS(QI.empty(),SE.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:Z_()}function fS(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?iS(QI.empty(),SE.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?YI:Z_()}function pS(e,t){const n=eS(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function mS(e,t){const n=eS(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}class gS{constructor(e){this.value=e}static empty(){return new gS({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!lS(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=uS(t)}setAll(e){let t=IE.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=uS(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());lS(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return XI(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];lS(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){NI(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new gS(uS(this.value))}}function vS(e){const t=[];return NI(e.fields,((e,n)=>{const r=new IE([e]);if(lS(n)){const e=vS(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new FI(t)}class yS{constructor(e,t,n,r,i,s,o){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new yS(e,0,wE.min(),wE.min(),wE.min(),gS.empty(),0)}static newFoundDocument(e,t,n,r){return new yS(e,1,t,wE.min(),n,r,0)}static newNoDocument(e,t){return new yS(e,2,t,wE.min(),wE.min(),gS.empty(),0)}static newUnknownDocument(e,t){return new yS(e,3,t,wE.min(),wE.min(),gS.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(wE.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=gS.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=gS.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=wE.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof yS&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new yS(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class wS{constructor(e,t){this.position=e,this.inclusive=t}}function bS(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(r=s.field.isKeyField()?SE.comparator(SE.fromName(o.referenceValue),n.key):eS(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function _S(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!XI(e.position[n],t.position[n]))return!1;return!0}class ES{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function IS(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class SS{}class TS extends SS{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new LS(e,t,n):"array-contains"===t?new jS(e,n):"in"===t?new VS(e,n):"not-in"===t?new zS(e,n):"array-contains-any"===t?new BS(e,n):new TS(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new MS(e,n):new FS(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(eS(t,this.value)):null!==t&&JI(this.value)===JI(t)&&this.matchesComparison(eS(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Z_()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class kS extends SS{constructor(e,t){super(),this.filters=e,this.op=t,this.ue=null}static create(e,t){return new kS(e,t)}matches(e){return CS(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function CS(e){return"and"===e.op}function xS(e){return"or"===e.op}function NS(e){return AS(e)&&CS(e)}function AS(e){for(const t of e.filters)if(t instanceof kS)return!1;return!0}function PS(e){if(e instanceof TS)return e.field.canonicalString()+e.op.toString()+nS(e.value);if(NS(e))return e.filters.map((e=>PS(e))).join(",");{const t=e.filters.map((e=>PS(e))).join(",");return"".concat(e.op,"(").concat(t,")")}}function RS(e,t){return e instanceof TS?function(e,t){return t instanceof TS&&e.op===t.op&&e.field.isEqual(t.field)&&XI(e.value,t.value)}(e,t):e instanceof kS?function(e,t){return t instanceof kS&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&RS(n,t.filters[r])),!0)}(e,t):void Z_()}function DS(e,t){const n=e.filters.concat(t);return kS.create(n,e.op)}function OS(e){return e instanceof TS?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(nS(e.value))}(e):e instanceof kS?function(e){return e.op.toString()+" {"+e.getFilters().map(OS).join(" ,")+"}"}(e):"Filter"}class LS extends TS{constructor(e,t,n){super(e,t,n),this.key=SE.fromName(n.referenceValue)}matches(e){const t=SE.comparator(e.key,this.key);return this.matchesComparison(t)}}class MS extends TS{constructor(e,t){super(e,"in",t),this.keys=US("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class FS extends TS{constructor(e,t){super(e,"not-in",t),this.keys=US("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function US(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>SE.fromName(e.referenceValue)))}class jS extends TS{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return oS(t)&&ZI(t.arrayValue,this.value)}}class VS extends TS{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&ZI(this.value.arrayValue,t)}}class zS extends TS{constructor(e,t){super(e,"not-in",t)}matches(e){if(ZI(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!ZI(this.value.arrayValue,t)}}class BS extends TS{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!oS(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>ZI(this.value.arrayValue,e)))}}class qS{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.ce=null}}function GS(e){return new qS(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function KS(e){const t=tE(e);if(null===t.ce){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>PS(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),$E(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>nS(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>nS(e))).join(",")),t.ce=e}return t.ce}function HS(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!IS(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!RS(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!_S(e.startAt,t.startAt)&&_S(e.endAt,t.endAt)}function WS(e){return SE.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function QS(e,t){return e.filters.filter((e=>e instanceof TS&&e.field.isEqual(t)))}function YS(e,t,n){let r=$I,i=!0;for(const s of QS(e,t)){let e=$I,t=!0;switch(s.op){case"<":case"<=":e=dS(s.value);break;case"==":case"in":case">=":e=s.value;break;case">":e=s.value,t=!1;break;case"!=":case"not-in":e=$I}pS({value:r,inclusive:i},{value:e,inclusive:t})<0&&(r=e,i=t)}if(null!==n)for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){const e=n.position[s];pS({value:r,inclusive:i},{value:e,inclusive:n.inclusive})<0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}function $S(e,t,n){let r=YI,i=!0;for(const s of QS(e,t)){let e=YI,t=!0;switch(s.op){case">=":case">":e=fS(s.value),t=!1;break;case"==":case"in":case"<=":e=s.value;break;case"<":e=s.value,t=!1;break;case"!=":case"not-in":e=YI}mS({value:r,inclusive:i},{value:e,inclusive:t})>0&&(r=e,i=t)}if(null!==n)for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){const e=n.position[s];mS({value:r,inclusive:i},{value:e,inclusive:n.inclusive})>0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}class JS{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function XS(e,t,n,r,i,s,o,a){return new JS(e,t,n,r,i,s,o,a)}function ZS(e){return new JS(e)}function eT(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function tT(e){return null!==e.collectionGroup}function nT(e){const t=tE(e);if(null===t.le){t.le=[];const e=new Set;for(const i of t.explicitOrderBy)t.le.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new OI(IE.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.le.push(new ES(r,n))})),e.has(IE.keyField().canonicalString())||t.le.push(new ES(IE.keyField(),n))}return t.le}function rT(e){const t=tE(e);return t.he||(t.he=iT(t,nT(e))),t.he}function iT(e,t){if("F"===e.limitType)return GS(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new ES(e.field,t)}));const n=e.endAt?new wS(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new wS(e.startAt.position,e.startAt.inclusive):null;return GS(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function sT(e,t){const n=e.filters.concat([t]);return new JS(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function oT(e,t,n){return new JS(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function aT(e,t){return HS(rT(e),rT(t))&&e.limitType===t.limitType}function cT(e){return"".concat(KS(rT(e)),"|lt:").concat(e.limitType)}function lT(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((e=>OS(e))).join(", "),"]")),$E(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e))).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>nS(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>nS(e))).join(",")),"Target(".concat(t,")")}(rT(e)),"; limitType=").concat(e.limitType,")")}function uT(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):SE.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of nT(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=bS(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,nT(e),t))&&!(e.endAt&&!function(e,t,n){const r=bS(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,nT(e),t))}(e,t)}function hT(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function dT(e){return(t,n)=>{let r=!1;for(const i of nT(e)){const e=fT(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function fT(e,t,n){const r=e.field.isKeyField()?SE.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?eS(r,i):Z_()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Z_()}}class pT{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){NI(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return AI(this.inner)}size(){return this.innerSize}}const mT=new PI(SE.comparator);function gT(){return mT}const vT=new PI(SE.comparator);function yT(){let e=vT;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function wT(e){let t=vT;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function bT(){return ET()}function _T(){return ET()}function ET(){return new pT((e=>e.toString()),((e,t)=>e.isEqual(t)))}const IT=new PI(SE.comparator),ST=new OI(SE.comparator);function TT(){let e=ST;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const kT=new OI(mE);function CT(){return kT}function xT(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:JE(t)?"-0":t}}function NT(e){return{integerValue:""+e}}function AT(e,t){return XE(t)?NT(t):xT(e,t)}class PT{constructor(){this._=void 0}}function RT(e,t,n){return e instanceof LT?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&GI(t)&&(t=KI(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof MT?FT(e,t):e instanceof UT?jT(e,t):function(e,t){const n=OT(e,t),r=zT(n)+zT(e.Ie);return sS(n)&&sS(e.Ie)?NT(r):xT(e.serializer,r)}(e,t)}function DT(e,t,n){return e instanceof MT?FT(e,t):e instanceof UT?jT(e,t):n}function OT(e,t){return e instanceof VT?function(e){return sS(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class LT extends PT{}class MT extends PT{constructor(e){super(),this.elements=e}}function FT(e,t){const n=BT(t);for(const r of e.elements)n.some((e=>XI(e,r)))||n.push(r);return{arrayValue:{values:n}}}class UT extends PT{constructor(e){super(),this.elements=e}}function jT(e,t){let n=BT(t);for(const r of e.elements)n=n.filter((e=>!XI(e,r)));return{arrayValue:{values:n}}}class VT extends PT{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function zT(e){return BI(e.integerValue||e.doubleValue)}function BT(e){return oS(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class qT{constructor(e,t){this.field=e,this.transform=t}}class GT{constructor(e,t){this.version=e,this.transformResults=t}}class KT{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new KT}static exists(e){return new KT(void 0,e)}static updateTime(e){return new KT(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function HT(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class WT{}function QT(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new ik(e.key,KT.none()):new ZT(e.key,e.data,KT.none());{const n=e.data,r=gS.empty();let i=new OI(IE.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new ek(e.key,r,new FI(i.toArray()),KT.none())}}function YT(e,t,n){e instanceof ZT?function(e,t,n){const r=e.value.clone(),i=nk(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof ek?function(e,t,n){if(!HT(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=nk(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(tk(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function $T(e,t,n,r){return e instanceof ZT?function(e,t,n,r){if(!HT(e.precondition,t))return n;const i=e.value.clone(),s=rk(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof ek?function(e,t,n,r){if(!HT(e.precondition,t))return n;const i=rk(e.fieldTransforms,r,t),s=t.data;return s.setAll(tk(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return HT(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function JT(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=OT(r.transform,e||null);null!=i&&(null===n&&(n=gS.empty()),n.set(r.field,i))}return n||null}function XT(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&gE(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof MT&&t instanceof MT||e instanceof UT&&t instanceof UT?gE(e.elements,t.elements,XI):e instanceof VT&&t instanceof VT?XI(e.Ie,t.Ie):e instanceof LT&&t instanceof LT}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class ZT extends WT{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class ek extends WT{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function tk(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function nk(e,t,n){const r=new Map;eE(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,DT(o,a,n[i]))}return r}function rk(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,RT(e,s,t))}return r}class ik extends WT{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class sk extends WT{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class ok{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&YT(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=$T(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=$T(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=_T();return this.mutations.forEach((r=>{const i=e.get(r.key),s=i.overlayedDocument;let o=this.applyToLocalView(s,i.mutatedFields);o=t.has(r.key)?null:o;const a=QT(s,o);null!==a&&n.set(r.key,a),s.isValidDocument()||s.convertToNoDocument(wE.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),TT())}isEqual(e){return this.batchId===e.batchId&&gE(this.mutations,e.mutations,((e,t)=>XT(e,t)))&&gE(this.baseMutations,e.baseMutations,((e,t)=>XT(e,t)))}}class ak{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){eE(e.mutations.length===n.length);let r=IT;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new ak(e,t,n,r)}}class ck{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class lk{constructor(e,t){this.count=e,this.unchangedNames=t}}var uk,hk;function dk(e){switch(e){default:return Z_();case nE.CANCELLED:case nE.UNKNOWN:case nE.DEADLINE_EXCEEDED:case nE.RESOURCE_EXHAUSTED:case nE.INTERNAL:case nE.UNAVAILABLE:case nE.UNAUTHENTICATED:return!1;case nE.INVALID_ARGUMENT:case nE.NOT_FOUND:case nE.ALREADY_EXISTS:case nE.PERMISSION_DENIED:case nE.FAILED_PRECONDITION:case nE.ABORTED:case nE.OUT_OF_RANGE:case nE.UNIMPLEMENTED:case nE.DATA_LOSS:return!0}}function fk(e){if(void 0===e)return $_("GRPC error has no .code"),nE.UNKNOWN;switch(e){case uk.OK:return nE.OK;case uk.CANCELLED:return nE.CANCELLED;case uk.UNKNOWN:return nE.UNKNOWN;case uk.DEADLINE_EXCEEDED:return nE.DEADLINE_EXCEEDED;case uk.RESOURCE_EXHAUSTED:return nE.RESOURCE_EXHAUSTED;case uk.INTERNAL:return nE.INTERNAL;case uk.UNAVAILABLE:return nE.UNAVAILABLE;case uk.UNAUTHENTICATED:return nE.UNAUTHENTICATED;case uk.INVALID_ARGUMENT:return nE.INVALID_ARGUMENT;case uk.NOT_FOUND:return nE.NOT_FOUND;case uk.ALREADY_EXISTS:return nE.ALREADY_EXISTS;case uk.PERMISSION_DENIED:return nE.PERMISSION_DENIED;case uk.FAILED_PRECONDITION:return nE.FAILED_PRECONDITION;case uk.ABORTED:return nE.ABORTED;case uk.OUT_OF_RANGE:return nE.OUT_OF_RANGE;case uk.UNIMPLEMENTED:return nE.UNIMPLEMENTED;case uk.DATA_LOSS:return nE.DATA_LOSS;default:return Z_()}}(hk=uk||(uk={}))[hk.OK=0]="OK",hk[hk.CANCELLED=1]="CANCELLED",hk[hk.UNKNOWN=2]="UNKNOWN",hk[hk.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",hk[hk.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",hk[hk.NOT_FOUND=5]="NOT_FOUND",hk[hk.ALREADY_EXISTS=6]="ALREADY_EXISTS",hk[hk.PERMISSION_DENIED=7]="PERMISSION_DENIED",hk[hk.UNAUTHENTICATED=16]="UNAUTHENTICATED",hk[hk.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",hk[hk.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",hk[hk.ABORTED=10]="ABORTED",hk[hk.OUT_OF_RANGE=11]="OUT_OF_RANGE",hk[hk.UNIMPLEMENTED=12]="UNIMPLEMENTED",hk[hk.INTERNAL=13]="INTERNAL",hk[hk.UNAVAILABLE=14]="UNAVAILABLE",hk[hk.DATA_LOSS=15]="DATA_LOSS";let pk=null;function mk(){return new TextEncoder}const gk=new q_([4294967295,4294967295],0);function vk(e){const t=mk().encode(e),n=new B_;return n.update(t),new Uint8Array(n.digest())}function yk(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new q_([n,r],0),new q_([i,s],0)]}class wk{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new bk("Invalid padding: ".concat(t));if(n<0)throw new bk("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new bk("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new bk("Invalid padding when bitmap length is 0: ".concat(t));this.Te=8*e.length-t,this.Ee=q_.fromNumber(this.Te)}de(e,t,n){let r=e.add(t.multiply(q_.fromNumber(n)));return 1===r.compare(gk)&&(r=new q_([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const t=vk(e),[n,r]=yk(t);for(let i=0;i<this.hashCount;i++){const e=this.de(n,r,i);if(!this.Ae(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new wk(i,r,t);return n.forEach((e=>s.insert(e))),s}insert(e){if(0===this.Te)return;const t=vk(e),[n,r]=yk(t);for(let i=0;i<this.hashCount;i++){const e=this.de(n,r,i);this.Re(e)}}Re(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class bk extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class _k{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Ek.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new _k(wE.min(),r,new PI(mE),gT(),TT())}}class Ek{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Ek(n,t,TT(),TT(),TT())}}class Ik{constructor(e,t,n,r){this.Ve=e,this.removedTargetIds=t,this.key=n,this.me=r}}class Sk{constructor(e,t){this.targetId=e,this.fe=t}}class Tk{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:jI.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class kk{constructor(){this.ge=0,this.pe=Nk(),this.ye=jI.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=TT(),t=TT(),n=TT();return this.pe.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Z_()}})),new Ek(this.ye,this.we,e,t,n)}Fe(){this.Se=!1,this.pe=Nk()}Me(e,t){this.Se=!0,this.pe=this.pe.insert(e,t)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,eE(this.ge>=0)}Le(){this.Se=!0,this.we=!0}}class Ck{constructor(e){this.Be=e,this.ke=new Map,this.qe=gT(),this.Qe=xk(),this.Ke=new PI(mE)}$e(e){for(const t of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(t,e.me):this.We(t,e.key,e.me);for(const t of e.removedTargetIds)this.We(t,e.key,e.me)}Ge(e){this.forEachTarget(e,(t=>{const n=this.ze(t);switch(e.state){case 0:this.je(t)&&n.Ce(e.resumeToken);break;case 1:n.Ne(),n.be||n.Fe(),n.Ce(e.resumeToken);break;case 2:n.Ne(),n.be||this.removeTarget(t);break;case 3:this.je(t)&&(n.Le(),n.Ce(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),n.Ce(e.resumeToken));break;default:Z_()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ke.forEach(((e,n)=>{this.je(n)&&t(n)}))}Je(e){const t=e.targetId,n=e.fe.count,r=this.Ye(t);if(r){const i=r.target;if(WS(i))if(0===n){const e=new SE(i.path);this.We(t,e,yS.newNoDocument(e,wE.min()))}else eE(1===n);else{const r=this.Ze(t);if(r!==n){const n=this.Xe(e),i=n?this.et(n,e,r):1;if(0!==i){this.He(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,e)}null==pk||pk.tt(function(e,t,n,r,i){var s,o,a,c,l,u;const h={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},d=t.unchangedNames;return d&&(h.bloomFilter={applied:0===i,hashCount:null!==(s=null==d?void 0:d.hashCount)&&void 0!==s?s:0,bitmapLength:null!==(c=null===(a=null===(o=null==d?void 0:d.bits)||void 0===o?void 0:o.bitmap)||void 0===a?void 0:a.length)&&void 0!==c?c:0,padding:null!==(u=null===(l=null==d?void 0:d.bits)||void 0===l?void 0:l.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),h}(r,e.fe,this.Be.nt(),n,i))}}}}Xe(e){const t=e.fe.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let s,o;try{s=qI(n).toUint8Array()}catch(e){if(e instanceof UI)return J_("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{o=new wk(s,r,i)}catch(e){return J_(e instanceof bk?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===o.Te?null:o}et(e,t,n){return t.fe.count===n-this.rt(e,t.targetId)?0:2}rt(e,t){const n=this.Be.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.Be.nt(),s="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(s)||(this.We(t,n,null),r++)})),r}it(e){const t=new Map;this.ke.forEach(((n,r)=>{const i=this.Ye(r);if(i){if(n.current&&WS(i.target)){const t=new SE(i.target.path);null!==this.qe.get(t)||this.st(r,t)||this.We(r,t,yS.newNoDocument(t,e))}n.De&&(t.set(r,n.ve()),n.Fe())}}));let n=TT();this.Qe.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Ye(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.qe.forEach(((t,n)=>n.setReadTime(e)));const r=new _k(e,t,this.Ke,this.qe,n);return this.qe=gT(),this.Qe=xk(),this.Ke=new PI(mE),r}Ue(e,t){if(!this.je(e))return;const n=this.st(e,t.key)?2:0;this.ze(e).Me(t.key,n),this.qe=this.qe.insert(t.key,t),this.Qe=this.Qe.insert(t.key,this.ot(t.key).add(e))}We(e,t,n){if(!this.je(e))return;const r=this.ze(e);this.st(e,t)?r.Me(t,1):r.xe(t),this.Qe=this.Qe.insert(t,this.ot(t).delete(e)),n&&(this.qe=this.qe.insert(t,n))}removeTarget(e){this.ke.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let t=this.ke.get(e);return t||(t=new kk,this.ke.set(e,t)),t}ot(e){let t=this.Qe.get(e);return t||(t=new OI(mE),this.Qe=this.Qe.insert(e,t)),t}je(e){const t=null!==this.Ye(e);return t||Y_("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.ke.get(e);return t&&t.be?null:this.Be._t(e)}He(e){this.ke.set(e,new kk),this.Be.getRemoteKeysForTarget(e).forEach((t=>{this.We(e,t,null)}))}st(e,t){return this.Be.getRemoteKeysForTarget(e).has(t)}}function xk(){return new PI(SE.comparator)}function Nk(){return new PI(SE.comparator)}const Ak={asc:"ASCENDING",desc:"DESCENDING"},Pk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Rk={and:"AND",or:"OR"};class Dk{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Ok(e,t){return e.useProto3Json||$E(t)?t:{value:t}}function Lk(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Mk(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Fk(e,t){return Lk(e,t.toTimestamp())}function Uk(e){return eE(!!e),wE.fromTimestamp(function(e){const t=zI(e);return new yE(t.seconds,t.nanos)}(e))}function jk(e,t){return Vk(e,t).canonicalString()}function Vk(e,t){const n=function(e){return new _E(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function zk(e){const t=_E.fromString(e);return eE(lC(t)),t}function Bk(e,t){return jk(e.databaseId,t.path)}function qk(e,t){const n=zk(t);if(n.get(1)!==e.databaseId.projectId)throw new rE(nE.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new rE(nE.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new SE(Wk(n))}function Gk(e,t){return jk(e.databaseId,t)}function Kk(e){const t=zk(e);return 4===t.length?_E.emptyPath():Wk(t)}function Hk(e){return new _E(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Wk(e){return eE(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Qk(e,t,n){return{name:Bk(e,t),fields:n.value.mapValue.fields}}function Yk(e,t,n){const r=qk(e,t.name),i=Uk(t.updateTime),s=t.createTime?Uk(t.createTime):wE.min(),o=new gS({mapValue:{fields:t.fields}}),a=yS.newFoundDocument(r,i,s,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function $k(e,t){let n;if(t instanceof ZT)n={update:Qk(e,t.key,t.value)};else if(t instanceof ik)n={delete:Bk(e,t.key)};else if(t instanceof ek)n={update:Qk(e,t.key,t.data),updateMask:cC(t.fieldMask)};else{if(!(t instanceof sk))return Z_();n={verify:Bk(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof LT)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof MT)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof UT)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof VT)return{fieldPath:t.field.canonicalString(),increment:n.Ie};throw Z_()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Fk(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Z_()}(e,t.precondition)),n}function Jk(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?KT.updateTime(Uk(e.updateTime)):void 0!==e.exists?KT.exists(e.exists):KT.none()}(t.currentDocument):KT.none(),r=t.updateTransforms?t.updateTransforms.map((t=>function(e,t){let n=null;if("setToServerValue"in t)eE("REQUEST_TIME"===t.setToServerValue),n=new LT;else if("appendMissingElements"in t){const e=t.appendMissingElements.values||[];n=new MT(e)}else if("removeAllFromArray"in t){const e=t.removeAllFromArray.values||[];n=new UT(e)}else"increment"in t?n=new VT(e,t.increment):Z_();const r=IE.fromServerFormat(t.fieldPath);return new qT(r,n)}(e,t))):[];if(t.update){t.update.name;const i=qk(e,t.update.name),s=new gS({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){const t=e.fieldPaths||[];return new FI(t.map((e=>IE.fromServerFormat(e))))}(t.updateMask);return new ek(i,s,e,n,r)}return new ZT(i,s,n,r)}if(t.delete){const r=qk(e,t.delete);return new ik(r,n)}if(t.verify){const r=qk(e,t.verify);return new sk(r,n)}return Z_()}function Xk(e,t){return{documents:[Gk(e,t.path)]}}function Zk(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Gk(e,i);const s=function(e){if(0!==e.length)return aC(kS.create(e,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const o=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:sC(e.field),direction:nC(e.dir)}}(e)))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Ok(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ut:n,parent:i}}function eC(e){let t=Kk(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){eE(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=tC(e);return t instanceof kS&&NS(t)?t.getFilters():[t]}(n.where));let o=[];n.orderBy&&(o=function(e){return e.map((e=>function(e){return new ES(oC(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,$E(t)?null:t}(n.limit));let c=null;n.startAt&&(c=function(e){const t=!!e.before,n=e.values||[];return new wS(n,t)}(n.startAt));let l=null;return n.endAt&&(l=function(e){const t=!e.before,n=e.values||[];return new wS(n,t)}(n.endAt)),XS(t,i,o,s,a,"F",c,l)}function tC(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=oC(e.unaryFilter.field);return TS.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=oC(e.unaryFilter.field);return TS.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=oC(e.unaryFilter.field);return TS.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=oC(e.unaryFilter.field);return TS.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Z_()}}(e):void 0!==e.fieldFilter?function(e){return TS.create(oC(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Z_()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return kS.create(e.compositeFilter.filters.map((e=>tC(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Z_()}}(e.compositeFilter.op))}(e):Z_()}function nC(e){return Ak[e]}function rC(e){return Pk[e]}function iC(e){return Rk[e]}function sC(e){return{fieldPath:e.canonicalString()}}function oC(e){return IE.fromServerFormat(e.fieldPath)}function aC(e){return e instanceof TS?function(e){if("=="===e.op){if(cS(e.value))return{unaryFilter:{field:sC(e.field),op:"IS_NAN"}};if(aS(e.value))return{unaryFilter:{field:sC(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(cS(e.value))return{unaryFilter:{field:sC(e.field),op:"IS_NOT_NAN"}};if(aS(e.value))return{unaryFilter:{field:sC(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:sC(e.field),op:rC(e.op),value:e.value}}}(e):e instanceof kS?function(e){const t=e.getFilters().map((e=>aC(e)));return 1===t.length?t[0]:{compositeFilter:{op:iC(e.op),filters:t}}}(e):Z_()}function cC(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function lC(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class uC{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:wE.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:wE.min(),o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:jI.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=a}withSequenceNumber(e){return new uC(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new uC(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new uC(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new uC(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class hC{constructor(e){this.ct=e}}function dC(e,t){const n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:fC(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:Bk(e,t.key),fields:t.data.value.mapValue.fields,updateTime:Lk(e,t.version.toTimestamp()),createTime:Lk(e,t.createTime.toTimestamp())}}(e.ct,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:pC(t.version)};else{if(!t.isUnknownDocument())return Z_();r.unknownDocument={path:n.path.toArray(),version:pC(t.version)}}return r}function fC(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function pC(e){const t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function mC(e){const t=new yE(e.seconds,e.nanoseconds);return wE.fromTimestamp(t)}function gC(e,t){const n=(t.baseMutations||[]).map((t=>Jk(e.ct,t)));for(let s=0;s<t.mutations.length-1;++s){const e=t.mutations[s];if(s+1<t.mutations.length&&void 0!==t.mutations[s+1].transform){const n=t.mutations[s+1];e.updateTransforms=n.transform.fieldTransforms,t.mutations.splice(s+1,1),++s}}const r=t.mutations.map((t=>Jk(e.ct,t))),i=yE.fromMillis(t.localWriteTimeMs);return new ok(t.batchId,i,n,r)}function vC(e){const t=mC(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?mC(e.lastLimboFreeSnapshotVersion):wE.min();let r;return r=function(e){return void 0!==e.documents}(e.query)?function(e){return eE(1===e.documents.length),rT(ZS(Kk(e.documents[0])))}(e.query):function(e){return rT(eC(e))}(e.query),new uC(r,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,t,n,jI.fromBase64String(e.resumeToken))}function yC(e,t){const n=pC(t.snapshotVersion),r=pC(t.lastLimboFreeSnapshotVersion);let i;i=WS(t.target)?Xk(e.ct,t.target):Zk(e.ct,t.target).ut;const s=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:KS(t.target),readTime:n,resumeToken:s,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function wC(e){const t=eC({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?oT(t,t.limit,"L"):t}function bC(e,t){return new ck(t.largestBatchId,Jk(e.ct,t.overlayMutation))}function _C(e,t){const n=t.path.lastSegment();return[e,ZE(t.path.popLast()),n]}function EC(e,t,n,r){return{indexId:e,uid:t,sequenceNumber:n,readTime:pC(r.readTime),documentKey:ZE(r.documentKey.path),largestBatchId:r.largestBatchId}}class IC{getBundleMetadata(e,t){return SC(e).get(t).next((e=>{if(e)return function(e){return{id:e.bundleId,createTime:mC(e.createTime),version:e.version}}(e)}))}saveBundleMetadata(e,t){return SC(e).put(function(e){return{bundleId:e.id,createTime:pC(Uk(e.createTime)),version:e.version}}(t))}getNamedQuery(e,t){return TC(e).get(t).next((e=>{if(e)return function(e){return{name:e.name,query:wC(e.bundledQuery),readTime:mC(e.readTime)}}(e)}))}saveNamedQuery(e,t){return TC(e).put(function(e){return{name:e.name,readTime:pC(Uk(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function SC(e){return CI(e,"bundles")}function TC(e){return CI(e,"namedQueries")}class kC{constructor(e,t){this.serializer=e,this.userId=t}static lt(e,t){const n=t.uid||"";return new kC(e,n)}getOverlay(e,t){return CC(e).get(_C(this.userId,t)).next((e=>e?bC(this.serializer,e):null))}getOverlays(e,t){const n=bT();return FE.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){const r=[];return n.forEach(((n,i)=>{const s=new ck(t,i);r.push(this.ht(e,s))})),FE.waitFor(r)}removeOverlaysForBatchId(e,t,n){const r=new Set;t.forEach((e=>r.add(ZE(e.getCollectionPath()))));const i=[];return r.forEach((t=>{const r=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,n+1],!1,!0);i.push(CC(e).H("collectionPathOverlayIndex",r))})),FE.waitFor(i)}getOverlaysForCollection(e,t,n){const r=bT(),i=ZE(t),s=IDBKeyRange.bound([this.userId,i,n],[this.userId,i,Number.POSITIVE_INFINITY],!0);return CC(e).W("collectionPathOverlayIndex",s).next((e=>{for(const t of e){const e=bC(this.serializer,t);r.set(e.getKey(),e)}return r}))}getOverlaysForCollectionGroup(e,t,n,r){const i=bT();let s;const o=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return CC(e).Y({index:"collectionGroupOverlayIndex",range:o},((e,t,n)=>{const o=bC(this.serializer,t);i.size()<r||o.largestBatchId===s?(i.set(o.getKey(),o),s=o.largestBatchId):n.done()})).next((()=>i))}ht(e,t){return CC(e).put(function(e,t,n){const[r,i,s]=_C(t,n.mutation.key);return{userId:t,collectionPath:i,documentId:s,collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:$k(e.ct,n.mutation)}}(this.serializer,this.userId,t))}}function CC(e){return CI(e,"documentOverlays")}class xC{constructor(){}Pt(e,t){this.It(e,t),t.Tt()}It(e,t){if("nullValue"in e)this.Et(t,5);else if("booleanValue"in e)this.Et(t,10),t.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(t,15),t.dt(BI(e.integerValue));else if("doubleValue"in e){const n=BI(e.doubleValue);isNaN(n)?this.Et(t,13):(this.Et(t,15),JE(n)?t.dt(0):t.dt(n))}else if("timestampValue"in e){const n=e.timestampValue;this.Et(t,20),"string"==typeof n?t.At(n):(t.At("".concat(n.seconds||"")),t.dt(n.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,t),this.Vt(t);else if("bytesValue"in e)this.Et(t,30),t.ft(qI(e.bytesValue)),this.Vt(t);else if("referenceValue"in e)this.gt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Et(t,45),t.dt(n.latitude||0),t.dt(n.longitude||0)}else"mapValue"in e?hS(e)?this.Et(t,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,t),this.Vt(t)):"arrayValue"in e?(this.wt(e.arrayValue,t),this.Vt(t)):Z_()}Rt(e,t){this.Et(t,25),this.St(e,t)}St(e,t){t.At(e)}yt(e,t){const n=e.fields||{};this.Et(t,55);for(const r of Object.keys(n))this.Rt(r,t),this.It(n[r],t)}wt(e,t){const n=e.values||[];this.Et(t,50);for(const r of n)this.It(r,t)}gt(e,t){this.Et(t,37),SE.fromName(e).path.forEach((e=>{this.Et(t,60),this.St(e,t)}))}Et(e,t){e.dt(t)}Vt(e){e.dt(2)}}function NC(e){if(0===e)return 8;let t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function AC(e){const t=64-function(e){let t=0;for(let n=0;n<8;++n){const r=NC(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}xC.bt=new xC;class PC{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Ct(n.value),n=t.next();this.vt()}Ft(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Mt(n.value),n=t.next();this.xt()}Ot(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Ct(e);else if(e<2048)this.Ct(960|e>>>6),this.Ct(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Ct(480|e>>>12),this.Ct(128|63&e>>>6),this.Ct(128|63&e);else{const e=t.codePointAt(0);this.Ct(240|e>>>18),this.Ct(128|63&e>>>12),this.Ct(128|63&e>>>6),this.Ct(128|63&e)}}this.vt()}Nt(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Mt(e);else if(e<2048)this.Mt(960|e>>>6),this.Mt(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Mt(480|e>>>12),this.Mt(128|63&e>>>6),this.Mt(128|63&e);else{const e=t.codePointAt(0);this.Mt(240|e>>>18),this.Mt(128|63&e>>>12),this.Mt(128|63&e>>>6),this.Mt(128|63&e)}}this.xt()}Lt(e){const t=this.Bt(e),n=AC(t);this.kt(1+n),this.buffer[this.position++]=255&n;for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}qt(e){const t=this.Bt(e),n=AC(t);this.kt(1+n),this.buffer[this.position++]=~(255&n);for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(e){this.kt(e.length),this.buffer.set(e,this.position),this.position+=e.length}Wt(){return this.buffer.slice(0,this.position)}Bt(e){const t=function(e){const t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(let r=1;r<t.length;++r)t[r]^=n?255:0;return t}Ct(e){const t=255&e;0===t?(this.Kt(0),this.Kt(255)):255===t?(this.Kt(255),this.Kt(0)):this.Kt(t)}Mt(e){const t=255&e;0===t?(this.Ut(0),this.Ut(255)):255===t?(this.Ut(255),this.Ut(0)):this.Ut(e)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(e){this.kt(1),this.buffer[this.position++]=e}Ut(e){this.kt(1),this.buffer[this.position++]=~e}kt(e){const t=e+this.position;if(t<=this.buffer.length)return;let n=2*this.buffer.length;n<t&&(n=t);const r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}class RC{constructor(e){this.Gt=e}ft(e){this.Gt.Dt(e)}At(e){this.Gt.Ot(e)}dt(e){this.Gt.Lt(e)}Tt(){this.Gt.Qt()}}class DC{constructor(e){this.Gt=e}ft(e){this.Gt.Ft(e)}At(e){this.Gt.Nt(e)}dt(e){this.Gt.qt(e)}Tt(){this.Gt.$t()}}class OC{constructor(){this.Gt=new PC,this.zt=new RC(this.Gt),this.jt=new DC(this.Gt)}seed(e){this.Gt.seed(e)}Ht(e){return 0===e?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}}class LC{constructor(e,t,n,r){this.indexId=e,this.documentKey=t,this.arrayValue=n,this.directionalValue=r}Jt(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,n=new Uint8Array(t);return n.set(this.directionalValue,0),t!==e?n.set([0],this.directionalValue.length):++n[n.length-1],new LC(this.indexId,this.documentKey,this.arrayValue,n)}}function MC(e,t){let n=e.indexId-t.indexId;return 0!==n?n:(n=FC(e.arrayValue,t.arrayValue),0!==n?n:(n=FC(e.directionalValue,t.directionalValue),0!==n?n:SE.comparator(e.documentKey,t.documentKey)))}function FC(e,t){for(let n=0;n<e.length&&n<t.length;++n){const r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}class UC{constructor(e){this.Yt=new OI(((e,t)=>IE.comparator(e.field,t.field))),this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Zt=e.orderBy,this.Xt=[];for(const t of e.filters){const e=t;e.isInequality()?this.Yt=this.Yt.add(e):this.Xt.push(e)}}get en(){return this.Yt.size>1}tn(e){if(eE(e.collectionGroup===this.collectionId),this.en)return!1;const t=kE(e);if(void 0!==t&&!this.nn(t))return!1;const n=CE(e);let r=new Set,i=0,s=0;for(;i<n.length&&this.nn(n[i]);++i)r=r.add(n[i].fieldPath.canonicalString());if(i===n.length)return!0;if(this.Yt.size>0){const e=this.Yt.getIterator().getNext();if(!r.has(e.field.canonicalString())){const t=n[i];if(!this.rn(e,t)||!this.sn(this.Zt[s++],t))return!1}++i}for(;i<n.length;++i){const e=n[i];if(s>=this.Zt.length||!this.sn(this.Zt[s++],e))return!1}return!0}on(){if(this.en)return null;let e=new OI(IE.comparator);const t=[];for(const n of this.Xt)if(!n.field.isKeyField())if("array-contains"===n.op||"array-contains-any"===n.op)t.push(new xE(n.field,2));else{if(e.has(n.field))continue;e=e.add(n.field),t.push(new xE(n.field,0))}for(const n of this.Zt)n.field.isKeyField()||e.has(n.field)||(e=e.add(n.field),t.push(new xE(n.field,"asc"===n.dir?0:1)));return new TE(TE.UNKNOWN_ID,this.collectionId,t,NE.empty())}nn(e){for(const t of this.Xt)if(this.rn(t,e))return!0;return!1}rn(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;const n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}sn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function jC(e){var t,n;if(eE(e instanceof TS||e instanceof kS),e instanceof TS){if(e instanceof VS){const r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((t=>TS.create(e.field,"==",t))))||[];return kS.create(r,"or")}return e}const r=e.filters.map((e=>jC(e)));return kS.create(r,e.op)}function VC(e){if(0===e.getFilters().length)return[];const t=GC(jC(e));return eE(qC(t)),zC(t)||BC(t)?[t]:t.getFilters()}function zC(e){return e instanceof TS}function BC(e){return e instanceof kS&&NS(e)}function qC(e){return zC(e)||BC(e)||function(e){if(e instanceof kS&&xS(e)){for(const t of e.getFilters())if(!zC(t)&&!BC(t))return!1;return!0}return!1}(e)}function GC(e){if(eE(e instanceof TS||e instanceof kS),e instanceof TS)return e;if(1===e.filters.length)return GC(e.filters[0]);const t=e.filters.map((e=>GC(e)));let n=kS.create(t,e.op);return n=WC(n),qC(n)?n:(eE(n instanceof kS),eE(CS(n)),eE(n.filters.length>1),n.filters.reduce(((e,t)=>KC(e,t))))}function KC(e,t){let n;return eE(e instanceof TS||e instanceof kS),eE(t instanceof TS||t instanceof kS),n=e instanceof TS?t instanceof TS?function(e,t){return kS.create([e,t],"and")}(e,t):HC(e,t):t instanceof TS?HC(t,e):function(e,t){if(eE(e.filters.length>0&&t.filters.length>0),CS(e)&&CS(t))return DS(e,t.getFilters());const n=xS(e)?e:t,r=xS(e)?t:e,i=n.filters.map((e=>KC(e,r)));return kS.create(i,"or")}(e,t),WC(n)}function HC(e,t){if(CS(t))return DS(t,e.getFilters());{const n=t.filters.map((t=>KC(e,t)));return kS.create(n,"or")}}function WC(e){if(eE(e instanceof TS||e instanceof kS),e instanceof TS)return e;const t=e.getFilters();if(1===t.length)return WC(t[0]);if(AS(e))return e;const n=t.map((e=>WC(e))),r=[];return n.forEach((t=>{t instanceof TS?r.push(t):t instanceof kS&&(t.op===e.op?r.push(...t.filters):r.push(t))})),1===r.length?r[0]:kS.create(r,e.op)}class QC{constructor(){this._n=new YC}addToCollectionParentIndex(e,t){return this._n.add(t),FE.resolve()}getCollectionParents(e,t){return FE.resolve(this._n.getEntries(t))}addFieldIndex(e,t){return FE.resolve()}deleteFieldIndex(e,t){return FE.resolve()}deleteAllFieldIndexes(e){return FE.resolve()}createTargetIndexes(e,t){return FE.resolve()}getDocumentsMatchingTarget(e,t){return FE.resolve(null)}getIndexType(e,t){return FE.resolve(0)}getFieldIndexes(e,t){return FE.resolve([])}getNextCollectionGroupToUpdate(e){return FE.resolve(null)}getMinOffset(e,t){return FE.resolve(RE.min())}getMinOffsetFromCollectionGroup(e,t){return FE.resolve(RE.min())}updateCollectionGroup(e,t,n){return FE.resolve()}updateIndexEntries(e,t){return FE.resolve()}}class YC{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new OI(_E.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new OI(_E.comparator)).toArray()}}const $C=new Uint8Array(0);class JC{constructor(e,t){this.databaseId=t,this.an=new YC,this.un=new pT((e=>KS(e)),((e,t)=>HS(e,t))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.an.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener((()=>{this.an.add(t)}));const i={collectionId:n,parent:ZE(r)};return XC(e).put(i)}return FE.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[vE(t),""],!1,!0);return XC(e).W(r).next((e=>{for(const r of e){if(r.collectionId!==t)break;n.push(nI(r.parent))}return n}))}addFieldIndex(e,t){const n=ex(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((e=>[e.fieldPath.canonicalString(),e.kind]))}}(t);delete r.indexId;const i=n.add(r);if(t.indexState){const n=tx(e);return i.next((e=>{n.put(EC(e,this.uid,t.indexState.sequenceNumber,t.indexState.offset))}))}return i.next()}deleteFieldIndex(e,t){const n=ex(e),r=tx(e),i=ZC(e);return n.delete(t.indexId).next((()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const t=ex(e),n=ZC(e),r=tx(e);return t.H().next((()=>n.H())).next((()=>r.H()))}createTargetIndexes(e,t){return FE.forEach(this.cn(t),(t=>this.getIndexType(e,t).next((n=>{if(0===n||1===n){const n=new UC(t).on();if(null!=n)return this.addFieldIndex(e,n)}}))))}getDocumentsMatchingTarget(e,t){const n=ZC(e);let r=!0;const i=new Map;return FE.forEach(this.cn(t),(t=>this.ln(e,t).next((e=>{r&&(r=!!e),i.set(t,e)})))).next((()=>{if(r){let e=TT();const r=[];return FE.forEach(i,((i,s)=>{Y_("IndexedDbIndexManager","Using index ".concat(function(e){return"id=".concat(e.indexId,"|cg=").concat(e.collectionGroup,"|f=").concat(e.fields.map((e=>"".concat(e.fieldPath,":").concat(e.kind))).join(","))}(i)," to execute ").concat(KS(t)));const o=function(e,t){const n=kE(t);if(void 0===n)return null;for(const r of QS(e,n.fieldPath))switch(r.op){case"array-contains-any":return r.value.arrayValue.values||[];case"array-contains":return[r.value]}return null}(s,i),a=function(e,t){const n=new Map;for(const r of CE(t))for(const t of QS(e,r.fieldPath))switch(t.op){case"==":case"in":n.set(r.fieldPath.canonicalString(),t.value);break;case"not-in":case"!=":return n.set(r.fieldPath.canonicalString(),t.value),Array.from(n.values())}return null}(s,i),c=function(e,t){const n=[];let r=!0;for(const i of CE(t)){const t=0===i.kind?YS(e,i.fieldPath,e.startAt):$S(e,i.fieldPath,e.startAt);n.push(t.value),r&&(r=t.inclusive)}return new wS(n,r)}(s,i),l=function(e,t){const n=[];let r=!0;for(const i of CE(t)){const t=0===i.kind?$S(e,i.fieldPath,e.endAt):YS(e,i.fieldPath,e.endAt);n.push(t.value),r&&(r=t.inclusive)}return new wS(n,r)}(s,i),u=this.hn(i,s,c),h=this.hn(i,s,l),d=this.Pn(i,s,a),f=this.In(i.indexId,o,u,c.inclusive,h,l.inclusive,d);return FE.forEach(f,(i=>n.j(i,t.limit).next((t=>{t.forEach((t=>{const n=SE.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),r.push(n))}))}))))})).next((()=>r))}return FE.resolve(null)}))}cn(e){let t=this.un.get(e);return t||(t=0===e.filters.length?[e]:VC(kS.create(e.filters,"and")).map((t=>GS(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt))),this.un.set(e,t),t)}In(e,t,n,r,i,s,o){const a=(null!=t?t.length:1)*Math.max(n.length,i.length),c=a/(null!=t?t.length:1),l=[];for(let u=0;u<a;++u){const a=t?this.Tn(t[u/c]):$C,h=this.En(e,a,n[u%c],r),d=this.dn(e,a,i[u%c],s),f=o.map((t=>this.En(e,a,t,!0)));l.push(...this.createRange(h,d,f))}return l}En(e,t,n,r){const i=new LC(e,SE.empty(),t,n);return r?i:i.Jt()}dn(e,t,n,r){const i=new LC(e,SE.empty(),t,n);return r?i.Jt():i}ln(e,t){const n=new UC(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((e=>{let t=null;for(const r of e)n.tn(r)&&(!t||r.fields.length>t.fields.length)&&(t=r);return t}))}getIndexType(e,t){let n=2;const r=this.cn(t);return FE.forEach(r,(t=>this.ln(e,t).next((e=>{e?0!==n&&e.fields.length<function(e){let t=new OI(IE.comparator),n=!1;for(const r of e.filters)for(const e of r.getFlattenedFilters())e.field.isKeyField()||("array-contains"===e.op||"array-contains-any"===e.op?n=!0:t=t.add(e.field));for(const r of e.orderBy)r.field.isKeyField()||(t=t.add(r.field));return t.size+(n?1:0)}(t)&&(n=1):n=0})))).next((()=>function(e){return null!==e.limit}(t)&&r.length>1&&2===n?1:n))}An(e,t){const n=new OC;for(const r of CE(e)){const e=t.data.field(r.fieldPath);if(null==e)return null;const i=n.Ht(r.kind);xC.bt.Pt(e,i)}return n.Wt()}Tn(e){const t=new OC;return xC.bt.Pt(e,t.Ht(0)),t.Wt()}Rn(e,t){const n=new OC;return xC.bt.Pt(iS(this.databaseId,t),n.Ht(function(e){const t=CE(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Wt()}Pn(e,t,n){if(null===n)return[];let r=[];r.push(new OC);let i=0;for(const s of CE(e)){const e=n[i++];for(const n of r)if(this.Vn(t,s.fieldPath)&&oS(e))r=this.mn(r,s,e);else{const t=n.Ht(s.kind);xC.bt.Pt(e,t)}}return this.fn(r)}hn(e,t,n){return this.Pn(e,t,n.position)}fn(e){const t=[];for(let n=0;n<e.length;++n)t[n]=e[n].Wt();return t}mn(e,t,n){const r=[...e],i=[];for(const s of n.arrayValue.values||[])for(const e of r){const n=new OC;n.seed(e.Wt()),xC.bt.Pt(s,n.Ht(t.kind)),i.push(n)}return i}Vn(e,t){return!!e.filters.find((e=>e instanceof TS&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)))}getFieldIndexes(e,t){const n=ex(e),r=tx(e);return(t?n.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):n.W()).next((e=>{const t=[];return FE.forEach(e,(e=>r.get([e.indexId,this.uid]).next((n=>{t.push(function(e,t){const n=t?new NE(t.sequenceNumber,new RE(mC(t.readTime),new SE(nI(t.documentKey)),t.largestBatchId)):NE.empty(),r=e.fields.map((e=>{let[t,n]=e;return new xE(IE.fromServerFormat(t),n)}));return new TE(e.indexId,e.collectionGroup,r,n)}(e,n))})))).next((()=>t))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((e=>0===e.length?null:(e.sort(((e,t)=>{const n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:mE(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)))}updateCollectionGroup(e,t,n){const r=ex(e),i=tx(e);return this.gn(e).next((e=>r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((t=>FE.forEach(t,(t=>i.put(EC(t.indexId,this.uid,e,n))))))))}updateIndexEntries(e,t){const n=new Map;return FE.forEach(t,((t,r)=>{const i=n.get(t.collectionGroup);return(i?FE.resolve(i):this.getFieldIndexes(e,t.collectionGroup)).next((i=>(n.set(t.collectionGroup,i),FE.forEach(i,(n=>this.pn(e,t,n).next((t=>{const i=this.yn(r,n);return t.isEqual(i)?FE.resolve():this.wn(e,r,n,t,i)})))))))}))}Sn(e,t,n,r){return ZC(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.Rn(n,t.key),documentKey:t.key.path.toArray()})}bn(e,t,n,r){return ZC(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.Rn(n,t.key),t.key.path.toArray()])}pn(e,t,n){const r=ZC(e);let i=new OI(MC);return r.Y({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.Rn(n,t)])},((e,r)=>{i=i.add(new LC(n.indexId,t,r.arrayValue,r.directionalValue))})).next((()=>i))}yn(e,t){let n=new OI(MC);const r=this.An(t,e);if(null==r)return n;const i=kE(t);if(null!=i){const s=e.data.field(i.fieldPath);if(oS(s))for(const i of s.arrayValue.values||[])n=n.add(new LC(t.indexId,e.key,this.Tn(i),r))}else n=n.add(new LC(t.indexId,e.key,$C,r));return n}wn(e,t,n,r,i){Y_("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const s=[];return function(e,t,n,r,i){const s=e.getIterator(),o=t.getIterator();let a=MI(s),c=MI(o);for(;a||c;){let e=!1,t=!1;if(a&&c){const r=n(a,c);r<0?t=!0:r>0&&(e=!0)}else null!=a?t=!0:e=!0;e?(r(c),c=MI(o)):t?(i(a),a=MI(s)):(a=MI(s),c=MI(o))}}(r,i,MC,(r=>{s.push(this.Sn(e,t,n,r))}),(r=>{s.push(this.bn(e,t,n,r))})),FE.waitFor(s)}gn(e){let t=1;return tx(e).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((e,n,r)=>{r.done(),t=n.sequenceNumber+1})).next((()=>t))}createRange(e,t,n){n=n.sort(((e,t)=>MC(e,t))).filter(((e,t,n)=>!t||0!==MC(e,n[t-1])));const r=[];r.push(e);for(const s of n){const n=MC(s,e),i=MC(s,t);if(0===n)r[0]=e.Jt();else if(n>0&&i<0)r.push(s),r.push(s.Jt());else if(i>0)break}r.push(t);const i=[];for(let s=0;s<r.length;s+=2){if(this.Dn(r[s],r[s+1]))return[];const e=[r[s].indexId,this.uid,r[s].arrayValue,r[s].directionalValue,$C,[]],t=[r[s+1].indexId,this.uid,r[s+1].arrayValue,r[s+1].directionalValue,$C,[]];i.push(IDBKeyRange.bound(e,t))}return i}Dn(e,t){return MC(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(nx)}getMinOffset(e,t){return FE.mapArray(this.cn(t),(t=>this.ln(e,t).next((e=>e||Z_())))).next(nx)}}function XC(e){return CI(e,"collectionParents")}function ZC(e){return CI(e,"indexEntries")}function ex(e){return CI(e,"indexConfiguration")}function tx(e){return CI(e,"indexState")}function nx(e){eE(0!==e.length);let t=e[0].indexState.offset,n=t.largestBatchId;for(let r=1;r<e.length;r++){const i=e[r].indexState.offset;DE(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new RE(t.readTime,t.documentKey,n)}const rx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ix{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new ix(e,ix.DEFAULT_COLLECTION_PERCENTILE,ix.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function sx(e,t,n){const r=e.store("mutations"),i=e.store("documentMutations"),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const c=r.Y({range:o},((e,t,n)=>(a++,n.delete())));s.push(c.next((()=>{eE(1===a)})));const l=[];for(const u of n.mutations){const e=sI(t,u.key.path,n.batchId);s.push(i.delete(e)),l.push(u.key)}return FE.waitFor(s).next((()=>l))}function ox(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Z_();t=e.noDocument}return JSON.stringify(t).length}ix.DEFAULT_COLLECTION_PERCENTILE=10,ix.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ix.DEFAULT=new ix(41943040,ix.DEFAULT_COLLECTION_PERCENTILE,ix.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ix.DISABLED=new ix(-1,0,0);class ax{constructor(e,t,n,r){this.userId=e,this.serializer=t,this.indexManager=n,this.referenceDelegate=r,this.Cn={}}static lt(e,t,n,r){eE(""!==e.uid);const i=e.isAuthenticated()?e.uid:"";return new ax(i,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return lx(e).Y({index:"userMutationsIndex",range:n},((e,n,r)=>{t=!1,r.done()})).next((()=>t))}addMutationBatch(e,t,n,r){const i=ux(e),s=lx(e);return s.add({}).next((o=>{eE("number"==typeof o);const a=new ok(o,t,n,r),c=function(e,t,n){const r=n.baseMutations.map((t=>$k(e.ct,t))),i=n.mutations.map((t=>$k(e.ct,t)));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(this.serializer,this.userId,a),l=[];let u=new OI(((e,t)=>mE(e.canonicalString(),t.canonicalString())));for(const e of r){const t=sI(this.userId,e.key.path,o);u=u.add(e.key.path.popLast()),l.push(s.put(c)),l.push(i.put(t,oI))}return u.forEach((t=>{l.push(this.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((()=>{this.Cn[o]=a.keys()})),FE.waitFor(l).next((()=>a))}))}lookupMutationBatch(e,t){return lx(e).get(t).next((e=>e?(eE(e.userId===this.userId),gC(this.serializer,e)):null))}vn(e,t){return this.Cn[t]?FE.resolve(this.Cn[t]):this.lookupMutationBatch(e,t).next((e=>{if(e){const n=e.keys();return this.Cn[t]=n,n}return null}))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return lx(e).Y({index:"userMutationsIndex",range:r},((e,t,r)=>{t.userId===this.userId&&(eE(t.batchId>=n),i=gC(this.serializer,t)),r.done()})).next((()=>i))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return lx(e).Y({index:"userMutationsIndex",range:t,reverse:!0},((e,t,r)=>{n=t.batchId,r.done()})).next((()=>n))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return lx(e).W("userMutationsIndex",t).next((e=>e.map((e=>gC(this.serializer,e)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=iI(this.userId,t.path),r=IDBKeyRange.lowerBound(n),i=[];return ux(e).Y({range:r},((n,r,s)=>{const[o,a,c]=n,l=nI(a);if(o===this.userId&&t.path.isEqual(l))return lx(e).get(c).next((e=>{if(!e)throw Z_();eE(e.userId===this.userId),i.push(gC(this.serializer,e))}));s.done()})).next((()=>i))}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new OI(mE);const r=[];return t.forEach((t=>{const i=iI(this.userId,t.path),s=IDBKeyRange.lowerBound(i),o=ux(e).Y({range:s},((e,r,i)=>{const[s,o,a]=e,c=nI(o);s===this.userId&&t.path.isEqual(c)?n=n.add(a):i.done()}));r.push(o)})),FE.waitFor(r).next((()=>this.Fn(e,n)))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,i=iI(this.userId,n),s=IDBKeyRange.lowerBound(i);let o=new OI(mE);return ux(e).Y({range:s},((e,t,i)=>{const[s,a,c]=e,l=nI(a);s===this.userId&&n.isPrefixOf(l)?l.length===r&&(o=o.add(c)):i.done()})).next((()=>this.Fn(e,o)))}Fn(e,t){const n=[],r=[];return t.forEach((t=>{r.push(lx(e).get(t).next((e=>{if(null===e)throw Z_();eE(e.userId===this.userId),n.push(gC(this.serializer,e))})))})),FE.waitFor(r).next((()=>n))}removeMutationBatch(e,t){return sx(e.ae,this.userId,t).next((n=>(e.addOnCommittedListener((()=>{this.Mn(t.batchId)})),FE.forEach(n,(t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))))}Mn(e){delete this.Cn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return FE.resolve();const n=IDBKeyRange.lowerBound(function(e){return[e]}(this.userId)),r=[];return ux(e).Y({range:n},((e,t,n)=>{if(e[0]===this.userId){const t=nI(e[1]);r.push(t)}else n.done()})).next((()=>{eE(0===r.length)}))}))}containsKey(e,t){return cx(e,this.userId,t)}xn(e){return hx(e).get(this.userId).next((e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}))}}function cx(e,t,n){const r=iI(t,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return ux(e).Y({range:s,J:!0},((e,n,r)=>{const[s,a,c]=e;s===t&&a===i&&(o=!0),r.done()})).next((()=>o))}function lx(e){return CI(e,"mutations")}function ux(e){return CI(e,"documentMutations")}function hx(e){return CI(e,"mutationQueues")}class dx{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new dx(0)}static Ln(){return new dx(-1)}}class fx{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Bn(e).next((t=>{const n=new dx(t.highestTargetId);return t.highestTargetId=n.next(),this.kn(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.Bn(e).next((e=>wE.fromTimestamp(new yE(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.Bn(e).next((e=>e.highestListenSequenceNumber))}setTargetsMetadata(e,t,n){return this.Bn(e).next((r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.kn(e,r))))}addTargetData(e,t){return this.qn(e,t).next((()=>this.Bn(e).next((n=>(n.targetCount+=1,this.Qn(t,n),this.kn(e,n))))))}updateTargetData(e,t){return this.qn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>px(e).delete(t.targetId))).next((()=>this.Bn(e))).next((t=>(eE(t.targetCount>0),t.targetCount-=1,this.kn(e,t))))}removeTargets(e,t,n){let r=0;const i=[];return px(e).Y(((s,o)=>{const a=vC(o);a.sequenceNumber<=t&&null===n.get(a.targetId)&&(r++,i.push(this.removeTargetData(e,a)))})).next((()=>FE.waitFor(i))).next((()=>r))}forEachTarget(e,t){return px(e).Y(((e,n)=>{const r=vC(n);t(r)}))}Bn(e){return mx(e).get("targetGlobalKey").next((e=>(eE(null!==e),e)))}kn(e,t){return mx(e).put("targetGlobalKey",t)}qn(e,t){return px(e).put(yC(this.serializer,t))}Qn(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.Bn(e).next((e=>e.targetCount))}getTargetData(e,t){const n=KS(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return px(e).Y({range:r,index:"queryTargetsIndex"},((e,n,r)=>{const s=vC(n);HS(t,s.target)&&(i=s,r.done())})).next((()=>i))}addMatchingKeys(e,t,n){const r=[],i=gx(e);return t.forEach((t=>{const s=ZE(t.path);r.push(i.put({targetId:n,path:s})),r.push(this.referenceDelegate.addReference(e,n,t))})),FE.waitFor(r)}removeMatchingKeys(e,t,n){const r=gx(e);return FE.forEach(t,(t=>{const i=ZE(t.path);return FE.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(e,n,t)])}))}removeMatchingKeysForTargetId(e,t){const n=gx(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=gx(e);let i=TT();return r.Y({range:n,J:!0},((e,t,n)=>{const r=nI(e[1]),s=new SE(r);i=i.add(s)})).next((()=>i))}containsKey(e,t){const n=ZE(t.path),r=IDBKeyRange.bound([n],[vE(n)],!1,!0);let i=0;return gx(e).Y({index:"documentTargetsIndex",J:!0,range:r},((e,t,n)=>{let[r,s]=e;0!==r&&(i++,n.done())})).next((()=>i>0))}_t(e,t){return px(e).get(t).next((e=>e?vC(e):null))}}function px(e){return CI(e,"targets")}function mx(e){return CI(e,"targetGlobal")}function gx(e){return CI(e,"targetDocuments")}function vx(e,t){let[n,r]=e,[i,s]=t;const o=mE(n,i);return 0===o?mE(r,s):o}class yx{constructor(e){this.Kn=e,this.buffer=new OI(vx),this.$n=0}Un(){return++this.$n}Wn(e){const t=[e,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();vx(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class wx{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Gn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return null!==this.Gn}zn(e){Y_("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Gn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){BE(e)?Y_("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):await ME(e)}await this.zn(3e5)}))}}class bx{constructor(e,t){this.jn=e,this.params=t}calculateTargetCount(e,t){return this.jn.Hn(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return FE.resolve(YE._e);const n=new yx(t);return this.jn.forEachTarget(e,(e=>n.Wn(e.sequenceNumber))).next((()=>this.jn.Jn(e,(e=>n.Wn(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.jn.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.jn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Y_("LruGarbageCollector","Garbage collection skipped; disabled"),FE.resolve(rx)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(Y_("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),rx):this.Yn(e,t)))}getCacheSize(e){return this.jn.getCacheSize(e)}Yn(e,t){let n,r,i,s,o,a,c;const l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(Y_("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,s=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,o=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,a=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(c=Date.now(),Q_()<=Os.DEBUG&&Y_("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(s-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-s)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(a-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(c-a)+"ms\n"+"Total Duration: ".concat(c-l,"ms")),FE.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}}function _x(e,t){return new bx(e,t)}class Ex{constructor(e,t){this.db=e,this.garbageCollector=_x(this,t)}Hn(e){const t=this.Zn(e);return this.db.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}Zn(e){let t=0;return this.Jn(e,(e=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Jn(e,t){return this.Xn(e,((e,n)=>t(n)))}addReference(e,t,n){return Ix(e,n)}removeReference(e,t,n){return Ix(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return Ix(e,t)}er(e,t){return function(e,t){let n=!1;return hx(e).Z((r=>cx(e,r,t).next((e=>(e&&(n=!0),FE.resolve(!e)))))).next((()=>n))}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this.Xn(e,((s,o)=>{if(o<=t){const t=this.er(e,s).next((t=>{if(!t)return i++,n.getEntry(e,s).next((()=>(n.removeEntry(s,wE.min()),gx(e).delete(function(e){return[0,ZE(e.path)]}(s)))))}));r.push(t)}})).next((()=>FE.waitFor(r))).next((()=>n.apply(e))).next((()=>i))}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return Ix(e,t)}Xn(e,t){const n=gx(e);let r,i=YE._e;return n.Y({index:"documentTargetsIndex"},((e,n)=>{let[s,o]=e,{path:a,sequenceNumber:c}=n;0===s?(i!==YE._e&&t(new SE(nI(r)),i),i=c,r=a):i=YE._e})).next((()=>{i!==YE._e&&t(new SE(nI(r)),i)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Ix(e,t){return gx(e).put(function(e,t){return{targetId:0,path:ZE(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}class Sx{constructor(){this.changes=new pT((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,yS.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?FE.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Tx{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,n){return Nx(e).put(n)}removeEntry(e,t,n){return Nx(e).delete(function(e,t){const n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],fC(t),n[n.length-1]]}(t,n))}updateMetadata(e,t){return this.getMetadata(e).next((n=>(n.byteSize+=t,this.tr(e,n))))}getEntry(e,t){let n=yS.newInvalidDocument(t);return Nx(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(Ax(t))},((e,r)=>{n=this.nr(t,r)})).next((()=>n))}rr(e,t){let n={size:0,document:yS.newInvalidDocument(t)};return Nx(e).Y({index:"documentKeyIndex",range:IDBKeyRange.only(Ax(t))},((e,r)=>{n={document:this.nr(t,r),size:ox(r)}})).next((()=>n))}getEntries(e,t){let n=gT();return this.ir(e,t,((e,t)=>{const r=this.nr(e,t);n=n.insert(e,r)})).next((()=>n))}sr(e,t){let n=gT(),r=new PI(SE.comparator);return this.ir(e,t,((e,t)=>{const i=this.nr(e,t);n=n.insert(e,i),r=r.insert(e,ox(t))})).next((()=>({documents:n,_r:r})))}ir(e,t,n){if(t.isEmpty())return FE.resolve();let r=new OI(Rx);t.forEach((e=>r=r.add(e)));const i=IDBKeyRange.bound(Ax(r.first()),Ax(r.last())),s=r.getIterator();let o=s.getNext();return Nx(e).Y({index:"documentKeyIndex",range:i},((e,t,r)=>{const i=SE.fromSegments([...t.prefixPath,t.collectionGroup,t.documentId]);for(;o&&Rx(o,i)<0;)n(o,null),o=s.getNext();o&&o.isEqual(i)&&(n(o,t),o=s.hasNext()?s.getNext():null),o?r.U(Ax(o)):r.done()})).next((()=>{for(;o;)n(o,null),o=s.hasNext()?s.getNext():null}))}getDocumentsMatchingQuery(e,t,n,r,i){const s=t.path,o=[s.popLast().toArray(),s.lastSegment(),fC(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return Nx(e).W(IDBKeyRange.bound(o,a,!0)).next((e=>{null==i||i.incrementDocumentReadCount(e.length);let n=gT();for(const i of e){const e=this.nr(SE.fromSegments(i.prefixPath.concat(i.collectionGroup,i.documentId)),i);e.isFoundDocument()&&(uT(t,e)||r.has(e.key))&&(n=n.insert(e.key,e))}return n}))}getAllFromCollectionGroup(e,t,n,r){let i=gT();const s=Px(t,n),o=Px(t,RE.max());return Nx(e).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,o,!0)},((e,t,n)=>{const s=this.nr(SE.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);i=i.insert(s.key,s),i.size===r&&n.done()})).next((()=>i))}newChangeBuffer(e){return new Cx(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((e=>e.byteSize))}getMetadata(e){return xx(e).get("remoteDocumentGlobalKey").next((e=>(eE(!!e),e)))}tr(e,t){return xx(e).put("remoteDocumentGlobalKey",t)}nr(e,t){if(t){const e=function(e,t){let n;if(t.document)n=Yk(e.ct,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const e=SE.fromSegments(t.noDocument.path),r=mC(t.noDocument.readTime);n=yS.newNoDocument(e,r),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Z_();{const e=SE.fromSegments(t.unknownDocument.path),r=mC(t.unknownDocument.version);n=yS.newUnknownDocument(e,r)}}return t.readTime&&n.setReadTime(function(e){const t=new yE(e[0],e[1]);return wE.fromTimestamp(t)}(t.readTime)),n}(this.serializer,t);if(!e.isNoDocument()||!e.version.isEqual(wE.min()))return e}return yS.newInvalidDocument(e)}}function kx(e){return new Tx(e)}class Cx extends Sx{constructor(e,t){super(),this.ar=e,this.trackRemovals=t,this.ur=new pT((e=>e.toString()),((e,t)=>e.isEqual(t)))}applyChanges(e){const t=[];let n=0,r=new OI(((e,t)=>mE(e.canonicalString(),t.canonicalString())));return this.changes.forEach(((i,s)=>{const o=this.ur.get(i);if(t.push(this.ar.removeEntry(e,i,o.readTime)),s.isValidDocument()){const a=dC(this.ar.serializer,s);r=r.add(i.path.popLast());const c=ox(a);n+=c-o.size,t.push(this.ar.addEntry(e,i,a))}else if(n-=o.size,this.trackRemovals){const n=dC(this.ar.serializer,s.convertToNoDocument(wE.min()));t.push(this.ar.addEntry(e,i,n))}})),r.forEach((n=>{t.push(this.ar.indexManager.addToCollectionParentIndex(e,n))})),t.push(this.ar.updateMetadata(e,n)),FE.waitFor(t)}getFromCache(e,t){return this.ar.rr(e,t).next((e=>(this.ur.set(t,{size:e.size,readTime:e.document.readTime}),e.document)))}getAllFromCache(e,t){return this.ar.sr(e,t).next((e=>{let{documents:t,_r:n}=e;return n.forEach(((e,n)=>{this.ur.set(e,{size:n,readTime:t.get(e).readTime})})),t}))}}function xx(e){return CI(e,"remoteDocumentGlobal")}function Nx(e){return CI(e,"remoteDocumentsV14")}function Ax(e){const t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Px(e,t){const n=t.documentKey.path.toArray();return[e,fC(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Rx(e,t){const n=e.path.toArray(),r=t.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=mE(n[s],r[s]),i)return i;return i=mE(n.length,r.length),i||(i=mE(n[n.length-2],r[r.length-2]),i||mE(n[n.length-1],r[r.length-1]))}class Dx{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Ox{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&$T(n.mutation,e,FI.empty(),yE.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,TT()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:TT();const r=bT();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=yT();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=bT();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,TT())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=gT();const s=ET(),o=ET();return t.forEach(((e,t)=>{const o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof ek)?i=i.insert(t.key,t):void 0!==o?(s.set(t.key,o.mutation.getFieldMask()),$T(o.mutation,t,o.mutation.getFieldMask(),yE.now())):s.set(t.key,FI.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>s.set(e,t))),t.forEach(((e,t)=>{var n;return o.set(e,new Dx(t,null!==(n=s.get(e))&&void 0!==n?n:null))})),o)))}recalculateAndSaveOverlays(e,t){const n=ET();let r=new PI(((e,t)=>e-t)),i=TT();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const s=t.get(e);if(null===s)return;let o=n.get(e)||FI.empty();o=i.applyToLocalView(s,o),n.set(e,o);const a=(r.get(i.batchId)||TT()).add(e);r=r.insert(i.batchId,a)}))})).next((()=>{const s=[],o=r.getReverseIterator();for(;o.hasNext();){const r=o.getNext(),a=r.key,c=r.value,l=_T();c.forEach((e=>{if(!i.has(e)){const r=QT(t.get(e),n.get(e));null!==r&&l.set(e,r),i=i.add(e)}})),s.push(this.documentOverlayCache.saveOverlays(e,a,l))}return FE.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return SE.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):tT(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):FE.resolve(bT());let o=-1,a=i;return s.next((t=>FE.forEach(t,((t,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),i.get(t)?FE.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{a=a.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,a,t,TT()))).next((e=>({batchId:o,changes:wT(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new SE(t)).next((e=>{let t=yT();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let s=yT();return this.indexManager.getCollectionParents(e,i).next((o=>FE.forEach(o,(o=>{const a=function(e,t){return new JS(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return this.getDocumentsMatchingCollectionQuery(e,a,n,r).next((e=>{e.forEach(((e,t)=>{s=s.insert(e,t)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,yS.newInvalidDocument(r)))}));let n=yT();return e.forEach(((e,r)=>{const s=i.get(e);void 0!==s&&$T(s.mutation,r,FI.empty(),yE.now()),uT(t,r)&&(n=n.insert(e,r))})),n}))}}class Lx{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,t){return FE.resolve(this.cr.get(t))}saveBundleMetadata(e,t){return this.cr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:Uk(e.createTime)}}(t)),FE.resolve()}getNamedQuery(e,t){return FE.resolve(this.lr.get(t))}saveNamedQuery(e,t){return this.lr.set(t.name,function(e){return{name:e.name,query:wC(e.bundledQuery),readTime:Uk(e.readTime)}}(t)),FE.resolve()}}class Mx{constructor(){this.overlays=new PI(SE.comparator),this.hr=new Map}getOverlay(e,t){return FE.resolve(this.overlays.get(t))}getOverlays(e,t){const n=bT();return FE.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.ht(e,t,r)})),FE.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.hr.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.hr.delete(n)),FE.resolve()}getOverlaysForCollection(e,t,n){const r=bT(),i=t.length+1,s=new SE(t.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const e=o.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return FE.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new PI(((e,t)=>e-t));const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=bT(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const o=bT(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((e,t)=>o.set(e,t))),!(o.size()>=r)););return FE.resolve(o)}ht(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.hr.get(r.largestBatchId).delete(n.key);this.hr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new ck(t,n));let i=this.hr.get(t);void 0===i&&(i=TT(),this.hr.set(t,i)),this.hr.set(t,i.add(n.key))}}class Fx{constructor(){this.Pr=new OI(Ux.Ir),this.Tr=new OI(Ux.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,t){const n=new Ux(e,t);this.Pr=this.Pr.add(n),this.Tr=this.Tr.add(n)}dr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.Ar(new Ux(e,t))}Rr(e,t){e.forEach((e=>this.removeReference(e,t)))}Vr(e){const t=new SE(new _E([])),n=new Ux(t,e),r=new Ux(t,e+1),i=[];return this.Tr.forEachInRange([n,r],(e=>{this.Ar(e),i.push(e.key)})),i}mr(){this.Pr.forEach((e=>this.Ar(e)))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const t=new SE(new _E([])),n=new Ux(t,e),r=new Ux(t,e+1);let i=TT();return this.Tr.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new Ux(e,0),n=this.Pr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Ux{constructor(e,t){this.key=e,this.pr=t}static Ir(e,t){return SE.comparator(e.key,t.key)||mE(e.pr,t.pr)}static Er(e,t){return mE(e.pr,t.pr)||SE.comparator(e.key,t.key)}}class jx{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.yr=1,this.wr=new OI(Ux.Ir)}checkEmpty(e){return FE.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new ok(i,t,n,r);this.mutationQueue.push(s);for(const o of r)this.wr=this.wr.add(new Ux(o.key,i)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return FE.resolve(s)}lookupMutationBatch(e,t){return FE.resolve(this.Sr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.br(n),i=r<0?0:r;return FE.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return FE.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(e){return FE.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Ux(t,0),r=new Ux(t,Number.POSITIVE_INFINITY),i=[];return this.wr.forEachInRange([n,r],(e=>{const t=this.Sr(e.pr);i.push(t)})),FE.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new OI(mE);return t.forEach((e=>{const t=new Ux(e,0),r=new Ux(e,Number.POSITIVE_INFINITY);this.wr.forEachInRange([t,r],(e=>{n=n.add(e.pr)}))})),FE.resolve(this.Dr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;SE.isDocumentKey(i)||(i=i.child(""));const s=new Ux(new SE(i),0);let o=new OI(mE);return this.wr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.pr)),!0)}),s),FE.resolve(this.Dr(o))}Dr(e){const t=[];return e.forEach((e=>{const n=this.Sr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){eE(0===this.Cr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.wr;return FE.forEach(t.mutations,(r=>{const i=new Ux(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.wr=n}))}Mn(e){}containsKey(e,t){const n=new Ux(t,0),r=this.wr.firstAfterOrEqual(n);return FE.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,FE.resolve()}Cr(e,t){return this.br(e)}br(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Sr(e){const t=this.br(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Vx{constructor(e){this.vr=e,this.docs=new PI(SE.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.vr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return FE.resolve(n?n.document.mutableCopy():yS.newInvalidDocument(t))}getEntries(e,t){let n=gT();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():yS.newInvalidDocument(e))})),FE.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=gT();const s=t.path,o=new SE(s.child("")),a=this.docs.getIteratorFrom(o);for(;a.hasNext();){const{key:e,value:{document:o}}=a.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||DE(PE(o),n)<=0||(r.has(o.key)||uT(t,o))&&(i=i.insert(o.key,o.mutableCopy()))}return FE.resolve(i)}getAllFromCollectionGroup(e,t,n,r){Z_()}Fr(e,t){return FE.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new zx(this)}getSize(e){return FE.resolve(this.size)}}class zx extends Sx{constructor(e){super(),this.ar=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.ar.addEntry(e,r)):this.ar.removeEntry(n)})),FE.waitFor(t)}getFromCache(e,t){return this.ar.getEntry(e,t)}getAllFromCache(e,t){return this.ar.getEntries(e,t)}}class Bx{constructor(e){this.persistence=e,this.Mr=new pT((e=>KS(e)),HS),this.lastRemoteSnapshotVersion=wE.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Fx,this.targetCount=0,this.Lr=dx.Nn()}forEachTarget(e,t){return this.Mr.forEach(((e,n)=>t(n))),FE.resolve()}getLastRemoteSnapshotVersion(e){return FE.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return FE.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),FE.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Or&&(this.Or=t),FE.resolve()}qn(e){this.Mr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Lr=new dx(t),this.highestTargetId=t),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,t){return this.qn(t),this.targetCount+=1,FE.resolve()}updateTargetData(e,t){return this.qn(t),FE.resolve()}removeTargetData(e,t){return this.Mr.delete(t.target),this.Nr.Vr(t.targetId),this.targetCount-=1,FE.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Mr.forEach(((s,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.Mr.delete(s),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)})),FE.waitFor(i).next((()=>r))}getTargetCount(e){return FE.resolve(this.targetCount)}getTargetData(e,t){const n=this.Mr.get(t)||null;return FE.resolve(n)}addMatchingKeys(e,t,n){return this.Nr.dr(t,n),FE.resolve()}removeMatchingKeys(e,t,n){this.Nr.Rr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),FE.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Nr.Vr(t),FE.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Nr.gr(t);return FE.resolve(n)}containsKey(e,t){return FE.resolve(this.Nr.containsKey(t))}}class qx{constructor(e,t){this.Br={},this.overlays={},this.kr=new YE(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new Bx(this),this.indexManager=new QC,this.remoteDocumentCache=function(e){return new Vx(e)}((e=>this.referenceDelegate.Kr(e))),this.serializer=new hC(t),this.$r=new Lx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Mx,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Br[e.toKey()];return n||(n=new jx(t,this.referenceDelegate),this.Br[e.toKey()]=n),n}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,t,n){Y_("MemoryPersistence","Starting transaction:",e);const r=new Gx(this.kr.next());return this.referenceDelegate.Ur(),n(r).next((e=>this.referenceDelegate.Wr(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Gr(e,t){return FE.or(Object.values(this.Br).map((n=>()=>n.containsKey(e,t))))}}class Gx extends LE{constructor(e){super(),this.currentSequenceNumber=e}}class Kx{constructor(e){this.persistence=e,this.zr=new Fx,this.jr=null}static Hr(e){return new Kx(e)}get Jr(){if(this.jr)return this.jr;throw Z_()}addReference(e,t,n){return this.zr.addReference(n,t),this.Jr.delete(n.toString()),FE.resolve()}removeReference(e,t,n){return this.zr.removeReference(n,t),this.Jr.add(n.toString()),FE.resolve()}markPotentiallyOrphaned(e,t){return this.Jr.add(t.toString()),FE.resolve()}removeTarget(e,t){this.zr.Vr(t.targetId).forEach((e=>this.Jr.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Jr.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Ur(){this.jr=new Set}Wr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return FE.forEach(this.Jr,(n=>{const r=SE.fromPath(n);return this.Yr(e,r).next((e=>{e||t.removeEntry(r,wE.min())}))})).next((()=>(this.jr=null,t.apply(e))))}updateLimboDocument(e,t){return this.Yr(e,t).next((e=>{e?this.Jr.delete(t.toString()):this.Jr.add(t.toString())}))}Kr(e){return 0}Yr(e,t){return FE.or([()=>FE.resolve(this.zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gr(e,t)])}}class Hx{constructor(e){this.serializer=e}N(e,t,n,r){const i=new UE("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",rI,{unique:!0}),e.createObjectStore("documentMutations")}(e),Wx(e),function(e){e.createObjectStore("remoteDocuments")}(e));let s=FE.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),Wx(e)),s=s.next((()=>function(e){const t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:wE.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(i)))),n<4&&r>=4&&(0!==n&&(s=s.next((()=>function(e,t){return t.store("mutations").W().next((n=>{e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",rI,{unique:!0});const r=t.store("mutations"),i=n.map((e=>r.put(e)));return FE.waitFor(i)}))}(e,i)))),s=s.next((()=>{!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(s=s.next((()=>this.Xr(i)))),n<6&&r>=6&&(s=s.next((()=>(function(e){e.createObjectStore("remoteDocumentGlobal")}(e),this.ei(i))))),n<7&&r>=7&&(s=s.next((()=>this.ti(i)))),n<8&&r>=8&&(s=s.next((()=>this.ni(e,i)))),n<9&&r>=9&&(s=s.next((()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(s=s.next((()=>this.ri(i)))),n<11&&r>=11&&(s=s.next((()=>{!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(s=s.next((()=>{!function(e){const t=e.createObjectStore("documentOverlays",{keyPath:yI});t.createIndex("collectionPathOverlayIndex",wI,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",bI,{unique:!1})}(e)}))),n<13&&r>=13&&(s=s.next((()=>function(e){const t=e.createObjectStore("remoteDocumentsV14",{keyPath:aI});t.createIndex("documentKeyIndex",cI),t.createIndex("collectionGroupIndex",lI)}(e))).next((()=>this.ii(e,i))).next((()=>e.deleteObjectStore("remoteDocuments")))),n<14&&r>=14&&(s=s.next((()=>this.si(e,i)))),n<15&&r>=15&&(s=s.next((()=>function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:pI}).createIndex("sequenceNumberIndex",mI,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:gI}).createIndex("documentKeyIndex",vI,{unique:!1})}(e)))),s}ei(e){let t=0;return e.store("remoteDocuments").Y(((e,n)=>{t+=ox(n)})).next((()=>{const n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}Xr(e){const t=e.store("mutationQueues"),n=e.store("mutations");return t.W().next((t=>FE.forEach(t,(t=>{const r=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return n.W("userMutationsIndex",r).next((n=>FE.forEach(n,(n=>{eE(n.userId===t.userId);const r=gC(this.serializer,n);return sx(e,t.userId,r).next((()=>{}))}))))}))))}ti(e){const t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((e=>{const r=[];return n.Y(((n,i)=>{const s=new _E(n),o=function(e){return[0,ZE(e)]}(s);r.push(t.get(o).next((n=>n?FE.resolve():(n=>t.put({targetId:0,path:ZE(n),sequenceNumber:e.highestListenSequenceNumber}))(s))))})).next((()=>FE.waitFor(r)))}))}ni(e,t){e.createObjectStore("collectionParents",{keyPath:fI});const n=t.store("collectionParents"),r=new YC,i=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:ZE(r)})}};return t.store("remoteDocuments").Y({J:!0},((e,t)=>{const n=new _E(e);return i(n.popLast())})).next((()=>t.store("documentMutations").Y({J:!0},((e,t)=>{let[n,r,s]=e;const o=nI(r);return i(o.popLast())}))))}ri(e){const t=e.store("targets");return t.Y(((e,n)=>{const r=vC(n),i=yC(this.serializer,r);return t.put(i)}))}ii(e,t){const n=t.store("remoteDocuments"),r=[];return n.Y(((e,n)=>{const i=t.store("remoteDocumentsV14"),s=function(e){return e.document?new SE(_E.fromString(e.document.name).popFirst(5)):e.noDocument?SE.fromSegments(e.noDocument.path):e.unknownDocument?SE.fromSegments(e.unknownDocument.path):Z_()}(n).path.toArray(),o={prefixPath:s.slice(0,s.length-2),collectionGroup:s[s.length-2],documentId:s[s.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(i.put(o))})).next((()=>FE.waitFor(r)))}si(e,t){const n=t.store("mutations"),r=kx(this.serializer),i=new qx(Kx.Hr,this.serializer.ct);return n.W().next((e=>{const n=new Map;return e.forEach((e=>{var t;let r=null!==(t=n.get(e.userId))&&void 0!==t?t:TT();gC(this.serializer,e).keys().forEach((e=>r=r.add(e))),n.set(e.userId,r)})),FE.forEach(n,((e,n)=>{const s=new K_(n),o=kC.lt(this.serializer,s),a=i.getIndexManager(s),c=ax.lt(s,this.serializer,a,i.referenceDelegate);return new Ox(r,c,o,a).recalculateAndSaveOverlaysForDocumentKeys(new kI(t,YE._e),e).next()}))}))}}function Wx(e){e.createObjectStore("targetDocuments",{keyPath:hI}).createIndex("documentTargetsIndex",dI,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",uI,{unique:!0}),e.createObjectStore("targetGlobal")}const Qx="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Yx{constructor(e,t,n,r,i,s,o,a,c,l){let u=arguments.length>10&&void 0!==arguments[10]?arguments[10]:15;if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.oi=i,this.window=s,this.document=o,this._i=c,this.ai=l,this.ui=u,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=e=>Promise.resolve(),!Yx.D())throw new rE(nE.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Ex(this,r),this.Ti=t+"main",this.serializer=new hC(a),this.Ei=new jE(this.Ti,this.ui,new Hx(this.serializer)),this.Qr=new fx(this.referenceDelegate,this.serializer),this.remoteDocumentCache=kx(this.serializer),this.$r=new IC,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,!1===l&&$_("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new rE(nE.FAILED_PRECONDITION,Qx);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Qr.getHighestSequenceNumber(e)))})).then((e=>{this.kr=new YE(e,this._i)})).then((()=>{this.qr=!0})).catch((e=>(this.Ei&&this.Ei.close(),Promise.reject(e))))}fi(e){return this.Ii=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ei.B((async t=>{null===t.newVersion&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.oi.enqueueAndForget((async()=>{this.started&&await this.Ai()})))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>Jx(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.gi(e).next((e=>{e||(this.isPrimary=!1,this.oi.enqueueRetryable((()=>this.Ii(!1))))}))})).next((()=>this.pi(e))).next((t=>this.isPrimary&&!t?this.yi(e).next((()=>!1)):!!t&&this.wi(e).next((()=>!0)))))).catch((e=>{if(BE(e))return Y_("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Y_("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.oi.enqueueRetryable((()=>this.Ii(e))),this.isPrimary=e}))}gi(e){return $x(e).get("owner").next((e=>FE.resolve(this.Si(e))))}bi(e){return Jx(e).delete(this.clientId)}async Di(){if(this.isPrimary&&!this.Ci(this.Pi,18e5)){this.Pi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(e=>{const t=CI(e,"clientMetadata");return t.W().next((e=>{const n=this.vi(e,18e5),r=e.filter((e=>-1===n.indexOf(e)));return FE.forEach(r,(e=>t.delete(e.clientId))).next((()=>r))}))})).catch((()=>[]));if(this.di)for(const t of e)this.di.removeItem(this.Fi(t.clientId))}}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.Ai().then((()=>this.Di())).then((()=>this.mi()))))}Si(e){return!!e&&e.ownerId===this.clientId}pi(e){return this.ai?FE.resolve(!0):$x(e).get("owner").next((t=>{if(null!==t&&this.Ci(t.leaseTimestampMs,5e3)&&!this.Mi(t.ownerId)){if(this.Si(t)&&this.networkEnabled)return!0;if(!this.Si(t)){if(!t.allowTabSynchronization)throw new rE(nE.FAILED_PRECONDITION,Qx);return!1}}return!(!this.networkEnabled||!this.inForeground)||Jx(e).W().next((e=>void 0===this.vi(e,5e3).find((e=>{if(this.clientId!==e.clientId){const t=!this.networkEnabled&&e.networkEnabled,n=!this.inForeground&&e.inForeground,r=this.networkEnabled===e.networkEnabled;if(t||n&&r)return!0}return!1}))))})).next((e=>(this.isPrimary!==e&&Y_("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e)))}async shutdown(){this.qr=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Oi(),this.Ni(),await this.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(e=>{const t=new kI(e,YE._e);return this.yi(t).next((()=>this.bi(t)))})),this.Ei.close(),this.Li()}vi(e,t){return e.filter((e=>this.Ci(e.updateTimeMs,t)&&!this.Mi(e.clientId)))}Bi(){return this.runTransaction("getActiveClients","readonly",(e=>Jx(e).W().next((e=>this.vi(e,18e5).map((e=>e.clientId))))))}get started(){return this.qr}getMutationQueue(e,t){return ax.lt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new JC(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return kC.lt(this.serializer,e)}getBundleCache(){return this.$r}runTransaction(e,t,n){Y_("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",i=function(e){return 15===e?TI:14===e?SI:13===e?II:12===e?EI:11===e?_I:void Z_()}(this.ui);let s;return this.Ei.runTransaction(e,r,i,(r=>(s=new kI(r,this.kr?this.kr.next():YE._e),"readwrite-primary"===t?this.gi(s).next((e=>!!e||this.pi(s))).next((t=>{if(!t)throw $_("Failed to obtain primary lease for action '".concat(e,"'.")),this.isPrimary=!1,this.oi.enqueueRetryable((()=>this.Ii(!1))),new rE(nE.FAILED_PRECONDITION,OE);return n(s)})).next((e=>this.wi(s).next((()=>e)))):this.ki(s).next((()=>n(s)))))).then((e=>(s.raiseOnCommittedEvent(),e)))}ki(e){return $x(e).get("owner").next((e=>{if(null!==e&&this.Ci(e.leaseTimestampMs,5e3)&&!this.Mi(e.ownerId)&&!this.Si(e)&&!(this.ai||this.allowTabSynchronization&&e.allowTabSynchronization))throw new rE(nE.FAILED_PRECONDITION,Qx)}))}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return $x(e).put("owner",t)}static D(){return jE.D()}yi(e){const t=$x(e);return t.get("owner").next((e=>this.Si(e)?(Y_("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):FE.resolve()))}Ci(e,t){const n=Date.now();return!(e<n-t)&&(!(e>n)||($_("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}Ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.li=()=>{this.oi.enqueueAndForget((()=>(this.inForeground="visible"===this.document.visibilityState,this.Ai())))},this.document.addEventListener("visibilitychange",this.li),this.inForeground="visible"===this.document.visibilityState)}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ci=()=>{this.xi();const e=/(?:Version|Mobile)\/1[456]/;ps()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(e){var t;try{const n=null!==(null===(t=this.di)||void 0===t?void 0:t.getItem(this.Fi(e)));return Y_("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return $_("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(wF){$_("Failed to set zombie client id.",wF)}}Li(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch(wF){}}Fi(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}function $x(e){return CI(e,"owner")}function Jx(e){return CI(e,"clientMetadata")}function Xx(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class Zx{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.qi=n,this.Qi=r}static Ki(e,t){let n=TT(),r=TT();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Zx(e,t.fromCache,n,r)}}class eN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class tN{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=ps()?8:jE.v(cs())>0?6:4}initialize(e,t){this.zi=e,this.indexManager=t,this.$i=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.ji(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.Hi(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new eN;return this.Ji(e,t,n).next((r=>{if(i.result=r,this.Ui)return this.Yi(e,t,n,r.size)}))})).next((()=>i.result))}Yi(e,t,n,r){return n.documentReadCount<this.Wi?(Q_()<=Os.DEBUG&&Y_("QueryEngine","SDK will not create cache indexes for query:",lT(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),FE.resolve()):(Q_()<=Os.DEBUG&&Y_("QueryEngine","Query:",lT(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Gi*r?(Q_()<=Os.DEBUG&&Y_("QueryEngine","The SDK decides to create cache indexes for query:",lT(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,rT(t))):FE.resolve())}ji(e,t){if(eT(t))return FE.resolve(null);let n=rT(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=oT(t,null,"F"),n=rT(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=TT(...r);return this.zi.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const s=this.Zi(t,r);return this.Xi(t,s,i,n.readTime)?this.ji(e,oT(t,null,"F")):this.es(e,s,t,n)}))))})))))}Hi(e,t,n,r){return eT(t)||r.isEqual(wE.min())?FE.resolve(null):this.zi.getDocuments(e,n).next((i=>{const s=this.Zi(t,i);return this.Xi(t,s,n,r)?FE.resolve(null):(Q_()<=Os.DEBUG&&Y_("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),lT(t)),this.es(e,s,t,AE(r,-1)).next((e=>e)))}))}Zi(e,t){let n=new OI(dT(e));return t.forEach(((t,r)=>{uT(e,r)&&(n=n.add(r))})),n}Xi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ji(e,t,n){return Q_()<=Os.DEBUG&&Y_("QueryEngine","Using full collection scan to execute query:",lT(t)),this.zi.getDocumentsMatchingQuery(e,t,RE.min(),n)}es(e,t,n,r){return this.zi.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class nN{constructor(e,t,n,r){this.persistence=e,this.ts=t,this.serializer=r,this.ns=new PI(mE),this.rs=new pT((e=>KS(e)),HS),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(n)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Ox(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.ns)))}}function rN(e,t,n,r){return new nN(e,t,n,r)}async function iN(e,t){const n=tE(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n._s(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],s=[];let o=TT();for(const e of r){i.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return n.localDocuments.getDocuments(e,o).next((e=>({us:e,removedBatchIds:i,addedBatchIds:s})))}))}))}function sN(e){const t=tE(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Qr.getLastRemoteSnapshotVersion(e)))}function oN(e,t,n){let r=TT(),i=TT();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=gT();return n.forEach(((n,s)=>{const o=e.get(n);s.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(wE.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!o.isValidDocument()||s.version.compareTo(o.version)>0||0===s.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):Y_("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",s.version)})),{cs:r,ls:i}}))}function aN(e,t){const n=tE(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function cN(e,t){const n=tE(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Qr.getTargetData(e,t).next((i=>i?(r=i,FE.resolve(r)):n.Qr.allocateTargetId(e).next((i=>(r=new uC(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Qr.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.ns.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ns=n.ns.insert(e.targetId,e),n.rs.set(t,e.targetId)),e}))}async function lN(e,t,n){const r=tE(e),i=r.ns.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!BE(e))throw e;Y_("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.ns=r.ns.remove(t),r.rs.delete(i.target)}function uN(e,t,n){const r=tE(e);let i=wE.min(),s=TT();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=tE(e),i=r.rs.get(n);return void 0!==i?FE.resolve(r.ns.get(i)):r.Qr.getTargetData(t,n)}(r,e,rT(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(e,t.targetId).next((e=>{s=e}))})).next((()=>r.ts.getDocumentsMatchingQuery(e,t,n?i:wE.min(),n?s:TT()))).next((e=>(fN(r,hT(t),e),{documents:e,hs:s})))))}function hN(e,t){const n=tE(e),r=tE(n.Qr),i=n.ns.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(e=>r._t(e,t).next((e=>e?e.target:null))))}function dN(e,t){const n=tE(e),r=n.ss.get(t)||wE.min();return n.persistence.runTransaction("Get new document changes","readonly",(e=>n.os.getAllFromCollectionGroup(e,t,AE(r,-1),Number.MAX_SAFE_INTEGER))).then((e=>(fN(n,t,e),e)))}function fN(e,t,n){let r=e.ss.get(t)||wE.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.ss.set(t,r)}async function pN(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:TT();const r=await cN(e,rT(wC(t.bundledQuery))),i=tE(e);return i.persistence.runTransaction("Save named query","readwrite",(e=>{const s=Uk(t.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.$r.saveNamedQuery(e,t);const o=r.withResumeToken(jI.EMPTY_BYTE_STRING,s);return i.ns=i.ns.insert(o.targetId,o),i.Qr.updateTargetData(e,o).next((()=>i.Qr.removeMatchingKeysForTargetId(e,r.targetId))).next((()=>i.Qr.addMatchingKeys(e,n,r.targetId))).next((()=>i.$r.saveNamedQuery(e,t)))}))}function mN(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function gN(e,t,n){let r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function vN(e,t){return"firestore_targets_".concat(e,"_").concat(t)}class yN{constructor(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}static Es(e,t,n){const r=JSON.parse(n);let i,s="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(i=new rE(r.error.code,r.error.message))),s?new yN(e,t,r.state,i):($_("SharedClientState","Failed to parse mutation state for ID '".concat(t,"': ").concat(n)),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class wN{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static Es(e,t){const n=JSON.parse(t);let r,i="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return i&&n.error&&(i="string"==typeof n.error.message&&"string"==typeof n.error.code,i&&(r=new rE(n.error.code,n.error.message))),i?new wN(e,n.state,r):($_("SharedClientState","Failed to parse target state for ID '".concat(e,"': ").concat(t)),null)}ds(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class bN{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Es(e,t){const n=JSON.parse(t);let r="object"==typeof n&&n.activeTargetIds instanceof Array,i=CT();for(let s=0;r&&s<n.activeTargetIds.length;++s)r=XE(n.activeTargetIds[s]),i=i.add(n.activeTargetIds[s]);return r?new bN(e,i):($_("SharedClientState","Failed to parse client data for instance '".concat(e,"': ").concat(t)),null)}}class _N{constructor(e,t){this.clientId=e,this.onlineState=t}static Es(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new _N(t.clientId,t.onlineState):($_("SharedClientState","Failed to parse online state: ".concat(e)),null)}}class EN{constructor(){this.activeTargetIds=CT()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class IN{constructor(e,t,n,r,i){this.window=e,this.oi=t,this.persistenceKey=n,this.Vs=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.fs=this.gs.bind(this),this.ps=new PI(mE),this.started=!1,this.ys=[];const s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.ws=mN(this.persistenceKey,this.Vs),this.Ss=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.ps=this.ps.insert(this.Vs,new EN),this.bs=new RegExp("^firestore_clients_".concat(s,"_([^_]*)$")),this.Ds=new RegExp("^firestore_mutations_".concat(s,"_(\\d+)(?:_(.*))?$")),this.Cs=new RegExp("^firestore_targets_".concat(s,"_(\\d+)$")),this.vs=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.Fs=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.fs)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Bi();for(const n of e){if(n===this.Vs)continue;const e=this.getItem(mN(this.persistenceKey,n));if(e){const t=bN.Es(n,e);t&&(this.ps=this.ps.insert(t.clientId,t))}}this.Ms();const t=this.storage.getItem(this.vs);if(t){const e=this.xs(t);e&&this.Os(e)}for(const n of this.ys)this.gs(n);this.ys=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.Ss,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ns(this.ps)}isActiveQueryTarget(e){let t=!1;return this.ps.forEach(((n,r)=>{r.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this.Ls(e,"pending")}updateMutationState(e,t,n){this.Ls(e,t,n),this.Bs(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const n=this.storage.getItem(vN(this.persistenceKey,e));if(n){const r=wN.Es(e,n);r&&(t=r.state)}}return this.ks.As(e),this.Ms(),t}removeLocalQueryTarget(e){this.ks.Rs(e),this.Ms()}isLocalQueryTarget(e){return this.ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(vN(this.persistenceKey,e))}updateQueryState(e,t,n){this.qs(e,t,n)}handleUserChange(e,t,n){t.forEach((e=>{this.Bs(e)})),this.currentUser=e,n.forEach((e=>{this.addPendingMutation(e)}))}setOnlineState(e){this.Qs(e)}notifyBundleLoaded(e){this.Ks(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.fs),this.removeItem(this.ws),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Y_("SharedClientState","READ",e,t),t}setItem(e,t){Y_("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Y_("SharedClientState","REMOVE",e),this.storage.removeItem(e)}gs(e){const t=e;if(t.storageArea===this.storage){if(Y_("SharedClientState","EVENT",t.key,t.newValue),t.key===this.ws)return void $_("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable((async()=>{if(this.started){if(null!==t.key)if(this.bs.test(t.key)){if(null==t.newValue){const e=this.$s(t.key);return this.Us(e,null)}{const e=this.Ws(t.key,t.newValue);if(e)return this.Us(e.clientId,e)}}else if(this.Ds.test(t.key)){if(null!==t.newValue){const e=this.Gs(t.key,t.newValue);if(e)return this.zs(e)}}else if(this.Cs.test(t.key)){if(null!==t.newValue){const e=this.js(t.key,t.newValue);if(e)return this.Hs(e)}}else if(t.key===this.vs){if(null!==t.newValue){const e=this.xs(t.newValue);if(e)return this.Os(e)}}else if(t.key===this.Ss){const e=function(e){let t=YE._e;if(null!=e)try{const n=JSON.parse(e);eE("number"==typeof n),t=n}catch(e){$_("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(t.newValue);e!==YE._e&&this.sequenceNumberHandler(e)}else if(t.key===this.Fs){const e=this.Js(t.newValue);await Promise.all(e.map((e=>this.syncEngine.Ys(e))))}}else this.ys.push(t)}))}}get ks(){return this.ps.get(this.Vs)}Ms(){this.setItem(this.ws,this.ks.ds())}Ls(e,t,n){const r=new yN(this.currentUser,e,t,n),i=gN(this.persistenceKey,this.currentUser,e);this.setItem(i,r.ds())}Bs(e){const t=gN(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Qs(e){const t={clientId:this.Vs,onlineState:e};this.storage.setItem(this.vs,JSON.stringify(t))}qs(e,t,n){const r=vN(this.persistenceKey,e),i=new wN(e,t,n);this.setItem(r,i.ds())}Ks(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Fs,t)}$s(e){const t=this.bs.exec(e);return t?t[1]:null}Ws(e,t){const n=this.$s(e);return bN.Es(n,t)}Gs(e,t){const n=this.Ds.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return yN.Es(new K_(i),r,t)}js(e,t){const n=this.Cs.exec(e),r=Number(n[1]);return wN.Es(r,t)}xs(e){return _N.Es(e)}Js(e){return JSON.parse(e)}async zs(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Zs(e.batchId,e.state,e.error);Y_("SharedClientState","Ignoring mutation for non-active user ".concat(e.user.uid))}Hs(e){return this.syncEngine.Xs(e.targetId,e.state,e.error)}Us(e,t){const n=t?this.ps.insert(e,t):this.ps.remove(e),r=this.Ns(this.ps),i=this.Ns(n),s=[],o=[];return i.forEach((e=>{r.has(e)||s.push(e)})),r.forEach((e=>{i.has(e)||o.push(e)})),this.syncEngine.eo(s,o).then((()=>{this.ps=n}))}Os(e){this.ps.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ns(e){let t=CT();return e.forEach(((e,n)=>{t=t.unionWith(n.activeTargetIds)})),t}}class SN{constructor(){this.no=new EN,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,t,n){this.ro[e]=t}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new EN,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class TN{io(e){}shutdown(){}}class kN{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){Y_("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){Y_("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let CN=null;function xN(){return null===CN?CN=268435456+Math.round(2147483648*Math.random()):CN++,"0x"+CN.toString(16)}const NN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class AN{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}const PN="WebChannelConnection";class RN extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.fo=t+"://"+e.host,this.po="projects/".concat(n,"/databases/").concat(r),this.yo="(default)"===this.databaseId.database?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}get wo(){return!1}So(e,t,n,r,i){const s=xN(),o=this.bo(e,t.toUriEncodedString());Y_("RestConnection","Sending RPC '".concat(e,"' ").concat(s,":"),o,n);const a={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(a,r,i),this.Co(e,o,a,n).then((t=>(Y_("RestConnection","Received RPC '".concat(e,"' ").concat(s,": "),t),t)),(t=>{throw J_("RestConnection","RPC '".concat(e,"' ").concat(s," failed with error: "),t,"url: ",o,"request:",n),t}))}vo(e,t,n,r,i,s){return this.So(e,t,n,r,i)}Do(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+H_,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}bo(e,t){const n=NN[e];return"".concat(this.fo,"/v1/").concat(t,":").concat(n)}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,t,n,r){const i=xN();return new Promise(((s,o)=>{const a=new z_;a.setWithCredentials(!0),a.listenOnce(F_.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case M_.NO_ERROR:const t=a.getResponseJson();Y_(PN,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),s(t);break;case M_.TIMEOUT:Y_(PN,"RPC '".concat(e,"' ").concat(i," timed out")),o(new rE(nE.DEADLINE_EXCEEDED,"Request time out"));break;case M_.HTTP_ERROR:const n=a.getStatus();if(Y_(PN,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(nE).indexOf(t)>=0?t:nE.UNKNOWN}(t.status);o(new rE(e,t.message))}else o(new rE(nE.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new rE(nE.UNAVAILABLE,"Connection failed."));break;default:Z_()}}finally{Y_(PN,"RPC '".concat(e,"' ").concat(i," completed."))}}));const c=JSON.stringify(r);Y_(PN,"RPC '".concat(e,"' ").concat(i," sending request:"),r),a.send(t,"POST",c,n,15)}))}Fo(e,t,n){const r=xN(),i=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=O_(),o=L_(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(a.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(a.useFetchStreams=!0),this.Do(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const l=i.join("");Y_(PN,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(l),a);const u=s.createWebChannel(l,a);let h=!1,d=!1;const f=new AN({lo:t=>{d?Y_(PN,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(h||(Y_(PN,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),h=!0),Y_(PN,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},ho:()=>u.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(u,V_.EventType.OPEN,(()=>{d||Y_(PN,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),p(u,V_.EventType.CLOSE,(()=>{d||(d=!0,Y_(PN,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.Vo())})),p(u,V_.EventType.ERROR,(t=>{d||(d=!0,J_(PN,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),f.Vo(new rE(nE.UNAVAILABLE,"The operation could not be completed")))})),p(u,V_.EventType.MESSAGE,(t=>{var n;if(!d){const i=t.data[0];eE(!!i);const s=i,o=s.error||(null===(n=s[0])||void 0===n?void 0:n.error);if(o){Y_(PN,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);const t=o.status;let n=function(e){const t=uk[e];if(void 0!==t)return fk(t)}(t),i=o.message;void 0===n&&(n=nE.INTERNAL,i="Unknown error status: "+t+" with message "+o.message),d=!0,f.Vo(new rE(n,i)),u.close()}else Y_(PN,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f.mo(i)}})),p(o,U_.STAT_EVENT,(t=>{t.stat===j_.PROXY?Y_(PN,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===j_.NOPROXY&&Y_(PN,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((()=>{f.Ro()}),0),f}}function DN(){return"undefined"!=typeof window?window:null}function ON(){return"undefined"!=typeof document?document:null}function LN(e){return new Dk(e,!0)}class MN{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.oi=e,this.timerId=t,this.Mo=n,this.xo=r,this.Oo=i,this.No=0,this.Lo=null,this.Bo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const t=Math.floor(this.No+this.Qo()),n=Math.max(0,Date.now()-this.Bo),r=Math.max(0,t-n);r>0&&Y_("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.No," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.Lo=this.oi.enqueueAfterDelay(this.timerId,r,(()=>(this.Bo=Date.now(),e()))),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){null!==this.Lo&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){null!==this.Lo&&(this.Lo.cancel(),this.Lo=null)}Qo(){return(Math.random()-.5)*this.No}}class FN{constructor(e,t,n,r,i,s,o,a){this.oi=e,this.$o=n,this.Uo=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new MN(e,t)}Ho(){return 1===this.state||5===this.state||this.Jo()}Jo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&null===this.Go&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,(()=>this.e_())))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,t){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,4!==e?this.jo.reset():t&&t.code===nE.RESOURCE_EXHAUSTED?($_(t.toString()),$_("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):t&&t.code===nE.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(t)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),t=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.Wo===t&&this.o_(n,r)}),(t=>{e((()=>{const e=new rE(nE.UNKNOWN,"Fetching auth token failed: "+t.message);return this.__(e)}))}))}o_(e,t){const n=this.s_(this.Wo);this.stream=this.a_(e,t),this.stream.Po((()=>{n((()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,(()=>(this.Jo()&&(this.state=3),Promise.resolve()))),this.listener.Po())))})),this.stream.To((e=>{n((()=>this.__(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}Yo(){this.state=5,this.jo.qo((async()=>{this.state=0,this.start()}))}__(e){return Y_("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}s_(e){return t=>{this.oi.enqueueAndForget((()=>this.Wo===e?t():(Y_("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class UN extends FN{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}a_(e,t){return this.connection.Fo("Listen",e,t)}onMessage(e){this.jo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Z_()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(eE(void 0===t||"string"==typeof t),jI.fromBase64String(t||"")):(eE(void 0===t||t instanceof Uint8Array),jI.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(e){const t=void 0===e.code?nE.UNKNOWN:fk(e.code);return new rE(t,e.message||"")}(o);n=new Tk(r,i,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=qk(e,r.document.name),s=Uk(r.document.updateTime),o=r.document.createTime?Uk(r.document.createTime):wE.min(),a=new gS({mapValue:{fields:r.document.fields}}),c=yS.newFoundDocument(i,s,o,a),l=r.targetIds||[],u=r.removedTargetIds||[];n=new Ik(l,u,c.key,c)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=qk(e,r.document),s=r.readTime?Uk(r.readTime):wE.min(),o=yS.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Ik([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=qk(e,r.document),s=r.removedTargetIds||[];n=new Ik([],s,i,null)}else{if(!("filter"in t))return Z_();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new lk(r,i),o=e.targetId;n=new Sk(o,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return wE.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?wE.min():t.readTime?Uk(t.readTime):wE.min()}(e);return this.listener.u_(t,n)}c_(e){const t={};t.database=Hk(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=WS(r)?{documents:Xk(e,r)}:{query:Zk(e,r).ut},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Mk(e,t.resumeToken);const r=Ok(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(wE.min())>0){n.readTime=Lk(e,t.snapshotVersion.toTimestamp());const r=Ok(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Z_()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.t_(t)}l_(e){const t={};t.database=Hk(this.serializer),t.removeTarget=e,this.t_(t)}}class jN extends FN{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,t){return this.connection.Fo("Write",e,t)}onMessage(e){if(eE(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const t=function(e,t){return e&&e.length>0?(eE(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?Uk(e.updateTime):Uk(t);return n.isEqual(wE.min())&&(n=Uk(t)),new GT(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=Uk(e.commitTime);return this.listener.T_(n,t)}return eE(!e.writeResults||0===e.writeResults.length),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=Hk(this.serializer),this.t_(e)}I_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>$k(this.serializer,e)))};this.t_(t)}}class VN extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.A_=!1}R_(){if(this.A_)throw new rE(nE.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,n,r){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[s,o]=i;return this.connection.So(e,Vk(t,n),r,s,o)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===nE.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new rE(nE.UNKNOWN,e.toString())}))}vo(e,t,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((s=>{let[o,a]=s;return this.connection.vo(e,Vk(t,n),r,o,a,i)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===nE.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new rE(nE.UNKNOWN,e.toString())}))}terminate(){this.A_=!0,this.connection.terminate()}}class zN{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){0===this.m_&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve()))))}S_(e){"Online"===this.state?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.y_("Offline")))}set(e){this.b_(),this.m_=0,"Online"===e&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.g_?($_(t),this.g_=!1):Y_("OnlineStateTracker",t)}b_(){null!==this.f_&&(this.f_.cancel(),this.f_=null)}}class BN{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=i,this.M_.io((e=>{n.enqueueAndForget((async()=>{JN(this)&&(Y_("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=tE(e);t.v_.add(4),await GN(t),t.x_.set("Unknown"),t.v_.delete(4),await qN(t)}(this))}))})),this.x_=new zN(n,r)}}async function qN(e){if(JN(e))for(const t of e.F_)await t(!0)}async function GN(e){for(const t of e.F_)await t(!1)}function KN(e,t){const n=tE(e);n.C_.has(t.targetId)||(n.C_.set(t.targetId,t),$N(n)?YN(n):mA(n).Jo()&&WN(n,t))}function HN(e,t){const n=tE(e),r=mA(n);n.C_.delete(t),r.Jo()&&QN(n,t),0===n.C_.size&&(r.Jo()?r.Xo():JN(n)&&n.x_.set("Unknown"))}function WN(e,t){if(e.O_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(wE.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}mA(e).c_(t)}function QN(e,t){e.O_.Oe(t),mA(e).l_(t)}function YN(e){e.O_=new Ck({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),_t:t=>e.C_.get(t)||null,nt:()=>e.datastore.serializer.databaseId}),mA(e).start(),e.x_.p_()}function $N(e){return JN(e)&&!mA(e).Ho()&&e.C_.size>0}function JN(e){return 0===tE(e).v_.size}function XN(e){e.O_=void 0}async function ZN(e){e.C_.forEach(((t,n)=>{WN(e,t)}))}async function eA(e,t){XN(e),$N(e)?(e.x_.S_(t),YN(e)):e.x_.set("Unknown")}async function tA(e,t,n){if(e.x_.set("Online"),t instanceof Tk&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.C_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.C_.delete(r),e.O_.removeTarget(r))}(e,t)}catch(n){Y_("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await nA(e,n)}else if(t instanceof Ik?e.O_.$e(t):t instanceof Sk?e.O_.Je(t):e.O_.Ge(t),!n.isEqual(wE.min()))try{const t=await sN(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.O_.it(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.C_.get(r);i&&e.C_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.C_.get(t);if(!r)return;e.C_.set(t,r.withResumeToken(jI.EMPTY_BYTE_STRING,r.snapshotVersion)),QN(e,t);const i=new uC(r.target,t,n,r.sequenceNumber);WN(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Y_("RemoteStore","Failed to raise snapshot:",t),await nA(e,t)}}async function nA(e,t,n){if(!BE(t))throw t;e.v_.add(1),await GN(e),e.x_.set("Offline"),n||(n=()=>sN(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{Y_("RemoteStore","Retrying IndexedDB access"),await n(),e.v_.delete(1),await qN(e)}))}function rA(e,t){return t().catch((n=>nA(e,n,t)))}async function iA(e){const t=tE(e),n=gA(t);let r=t.D_.length>0?t.D_[t.D_.length-1].batchId:-1;for(;sA(t);)try{const e=await aN(t.localStore,r);if(null===e){0===t.D_.length&&n.Xo();break}r=e.batchId,oA(t,e)}catch(e){await nA(t,e)}aA(t)&&cA(t)}function sA(e){return JN(e)&&e.D_.length<10}function oA(e,t){e.D_.push(t);const n=gA(e);n.Jo()&&n.P_&&n.I_(t.mutations)}function aA(e){return JN(e)&&!gA(e).Ho()&&e.D_.length>0}function cA(e){gA(e).start()}async function lA(e){gA(e).d_()}async function uA(e){const t=gA(e);for(const n of e.D_)t.I_(n.mutations)}async function hA(e,t,n){const r=e.D_.shift(),i=ak.from(r,t,n);await rA(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await iA(e)}async function dA(e,t){t&&gA(e).P_&&await async function(e,t){if(function(e){return dk(e)&&e!==nE.ABORTED}(t.code)){const n=e.D_.shift();gA(e).Zo(),await rA(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await iA(e)}}(e,t),aA(e)&&cA(e)}async function fA(e,t){const n=tE(e);n.asyncQueue.verifyOperationInProgress(),Y_("RemoteStore","RemoteStore received new credentials");const r=JN(n);n.v_.add(3),await GN(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.v_.delete(3),await qN(n)}async function pA(e,t){const n=tE(e);t?(n.v_.delete(2),await qN(n)):t||(n.v_.add(2),await GN(n),n.x_.set("Unknown"))}function mA(e){return e.N_||(e.N_=function(e,t,n){const r=tE(e);return r.R_(),new UN(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Po:ZN.bind(null,e),To:eA.bind(null,e),u_:tA.bind(null,e)}),e.F_.push((async t=>{t?(e.N_.Zo(),$N(e)?YN(e):e.x_.set("Unknown")):(await e.N_.stop(),XN(e))}))),e.N_}function gA(e){return e.L_||(e.L_=function(e,t,n){const r=tE(e);return r.R_(),new jN(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Po:lA.bind(null,e),To:dA.bind(null,e),E_:uA.bind(null,e),T_:hA.bind(null,e)}),e.F_.push((async t=>{t?(e.L_.Zo(),await iA(e)):(await e.L_.stop(),e.D_.length>0&&(Y_("RemoteStore","Stopping write stream with ".concat(e.D_.length," pending writes")),e.D_=[]))}))),e.L_}class vA{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new iE,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,o=new vA(e,t,s,r,i);return o.start(n),o}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new rE(nE.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function yA(e,t){if($_("AsyncQueue","".concat(t,": ").concat(e)),BE(e))return new rE(nE.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class wA{constructor(e){this.comparator=e?(t,n)=>e(t,n)||SE.comparator(t.key,n.key):(e,t)=>SE.comparator(e.key,t.key),this.keyedMap=yT(),this.sortedSet=new PI(this.comparator)}static emptySet(e){return new wA(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof wA))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new wA;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class bA{constructor(){this.B_=new PI(SE.comparator)}track(e){const t=e.doc.key,n=this.B_.get(t);n?0!==e.type&&3===n.type?this.B_=this.B_.insert(t,e):3===e.type&&1!==n.type?this.B_=this.B_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.B_=this.B_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.B_=this.B_.remove(t):1===e.type&&2===n.type?this.B_=this.B_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):Z_():this.B_=this.B_.insert(t,e)}k_(){const e=[];return this.B_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class _A{constructor(e,t,n,r,i,s,o,a,c){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a,this.hasCachedResults=c}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach((e=>{s.push({type:0,doc:e})})),new _A(e,t,wA.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&aT(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class EA{constructor(){this.q_=void 0,this.Q_=[]}K_(){return this.Q_.some((e=>e.U_()))}}class IA{constructor(){this.queries=new pT((e=>cT(e)),aT),this.onlineState="Unknown",this.W_=new Set}}async function SA(e,t){const n=tE(e);let r=3;const i=t.query;let s=n.queries.get(i);s?!s.K_()&&t.U_()&&(r=2):(s=new EA,r=t.U_()?0:1);try{switch(r){case 0:s.q_=await n.onListen(i,!0);break;case 1:s.q_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=yA(e,"Initialization of query '".concat(lT(t.query),"' failed"));return void t.onError(n)}n.queries.set(i,s),s.Q_.push(t),t.G_(n.onlineState),s.q_&&t.z_(s.q_)&&xA(n)}async function TA(e,t){const n=tE(e),r=t.query;let i=3;const s=n.queries.get(r);if(s){const e=s.Q_.indexOf(t);e>=0&&(s.Q_.splice(e,1),0===s.Q_.length?i=t.U_()?0:1:!s.K_()&&t.U_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function kA(e,t){const n=tE(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.Q_)e.z_(i)&&(r=!0);t.q_=i}}r&&xA(n)}function CA(e,t,n){const r=tE(e),i=r.queries.get(t);if(i)for(const s of i.Q_)s.onError(n);r.queries.delete(t)}function xA(e){e.W_.forEach((e=>{e.next()}))}var NA,AA;(AA=NA||(NA={})).j_="default",AA.Cache="cache";class PA{constructor(e,t,n){this.query=e,this.H_=t,this.J_=!1,this.Y_=null,this.onlineState="Unknown",this.options=n||{}}z_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new _A(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.J_?this.Z_(e)&&(this.H_.next(e),t=!0):this.X_(e,this.onlineState)&&(this.ea(e),t=!0),this.Y_=e,t}onError(e){this.H_.error(e)}G_(e){this.onlineState=e;let t=!1;return this.Y_&&!this.J_&&this.X_(this.Y_,e)&&(this.ea(this.Y_),t=!0),t}X_(e,t){if(!e.fromCache)return!0;if(!this.U_())return!0;const n="Offline"!==t;return(!this.options.ta||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Z_(e){if(e.docChanges.length>0)return!0;const t=this.Y_&&this.Y_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}ea(e){e=_A.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.J_=!0,this.H_.next(e)}U_(){return this.options.source!==NA.Cache}}class RA{constructor(e,t){this.na=e,this.byteLength=t}ra(){return"metadata"in this.na}}class DA{constructor(e){this.serializer=e}Ps(e){return qk(this.serializer,e)}Is(e){return e.metadata.exists?Yk(this.serializer,e.document,!1):yS.newNoDocument(this.Ps(e.metadata.name),this.Ts(e.metadata.readTime))}Ts(e){return Uk(e)}}class OA{constructor(e,t,n){this.ia=e,this.localStore=t,this.serializer=n,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=LA(e)}sa(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.na.namedQuery)this.queries.push(e.na.namedQuery);else if(e.na.documentMetadata){this.documents.push({metadata:e.na.documentMetadata}),e.na.documentMetadata.exists||++t;const n=_E.fromString(e.na.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.na.document&&(this.documents[this.documents.length-1].document=e.na.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}oa(e){const t=new Map,n=new DA(this.serializer);for(const r of e)if(r.metadata.queries){const e=n.Ps(r.metadata.name);for(const n of r.metadata.queries){const r=(t.get(n)||TT()).add(e);t.set(n,r)}}return t}async complete(){const e=await async function(e,t,n,r){const i=tE(e);let s=TT(),o=gT();for(const l of n){const e=t.Ps(l.metadata.name);l.document&&(s=s.add(e));const n=t.Is(l);n.setReadTime(t.Ts(l.metadata.readTime)),o=o.insert(e,n)}const a=i.os.newChangeBuffer({trackRemovals:!0}),c=await cN(i,function(e){return rT(ZS(_E.fromString("__bundle__/docs/".concat(e))))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",(e=>oN(e,a,o).next((t=>(a.apply(e),t))).next((t=>i.Qr.removeMatchingKeysForTargetId(e,c.targetId).next((()=>i.Qr.addMatchingKeys(e,s,c.targetId))).next((()=>i.localDocuments.getLocalViewOfDocuments(e,t.cs,t.ls))).next((()=>t.cs))))))}(this.localStore,new DA(this.serializer),this.documents,this.ia.id),t=this.oa(this.documents);for(const n of this.queries)await pN(this.localStore,n,t.get(n.name));return this.progress.taskState="Success",{progress:this.progress,_a:this.collectionGroups,aa:e}}}function LA(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}class MA{constructor(e){this.key=e}}class FA{constructor(e){this.key=e}}class UA{constructor(e,t){this.query=e,this.ua=t,this.ca=null,this.hasCachedResults=!1,this.current=!1,this.la=TT(),this.mutatedKeys=TT(),this.ha=dT(e),this.Pa=new wA(this.ha)}get Ia(){return this.ua}Ta(e,t){const n=t?t.Ea:new bA,r=t?t.Pa:this.Pa;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,o=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,c="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const l=r.get(e),u=uT(this.query,t)?t:null,h=!!l&&this.mutatedKeys.has(l.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;l&&u?l.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),f=!0):this.da(l,u)||(n.track({type:2,doc:u}),f=!0,(a&&this.ha(u,a)>0||c&&this.ha(u,c)<0)&&(o=!0)):!l&&u?(n.track({type:0,doc:u}),f=!0):l&&!u&&(n.track({type:1,doc:l}),f=!0,(a||c)&&(o=!0)),f&&(u?(s=s.add(u),i=d?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Pa:s,Ea:n,Xi:o,mutatedKeys:i}}da(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.Pa;this.Pa=e.Pa,this.mutatedKeys=e.mutatedKeys;const s=e.Ea.k_();s.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Z_()}};return n(e)-n(t)}(e.type,t.type)||this.ha(e.doc,t.doc))),this.Aa(n),r=null!=r&&r;const o=t&&!r?this.Ra():[],a=0===this.la.size&&this.current&&!r?1:0,c=a!==this.ca;return this.ca=a,0!==s.length||c?{snapshot:new _A(this.query,e.Pa,i,s,e.mutatedKeys,0===a,c,!1,!!n&&n.resumeToken.approximateByteSize()>0),Va:o}:{Va:o}}G_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Pa:this.Pa,Ea:new bA,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{Va:[]}}ma(e){return!this.ua.has(e)&&!!this.Pa.has(e)&&!this.Pa.get(e).hasLocalMutations}Aa(e){e&&(e.addedDocuments.forEach((e=>this.ua=this.ua.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.ua=this.ua.delete(e))),this.current=e.current)}Ra(){if(!this.current)return[];const e=this.la;this.la=TT(),this.Pa.forEach((e=>{this.ma(e.key)&&(this.la=this.la.add(e.key))}));const t=[];return e.forEach((e=>{this.la.has(e)||t.push(new FA(e))})),this.la.forEach((n=>{e.has(n)||t.push(new MA(n))})),t}fa(e){this.ua=e.hs,this.la=TT();const t=this.Ta(e.documents);return this.applyChanges(t,!0)}ga(){return _A.fromInitialDocuments(this.query,this.Pa,this.mutatedKeys,0===this.ca,this.hasCachedResults)}}class jA{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class VA{constructor(e){this.key=e,this.pa=!1}}class zA{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.ya={},this.wa=new pT((e=>cT(e)),aT),this.Sa=new Map,this.ba=new Set,this.Da=new PI(SE.comparator),this.Ca=new Map,this.va=new Fx,this.Fa={},this.Ma=new Map,this.xa=dx.Ln(),this.onlineState="Unknown",this.Oa=void 0}get isPrimaryClient(){return!0===this.Oa}}async function BA(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=vP(e);let i;const s=r.wa.get(t);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ga()):i=await GA(r,t,n,!0),i}async function qA(e,t){const n=vP(e);await GA(n,t,!0,!1)}async function GA(e,t,n,r){const i=await cN(e.localStore,rT(t)),s=i.targetId,o=n?e.sharedClientState.addLocalQueryTarget(s):"not-current";let a;return r&&(a=await KA(e,t,s,"current"===o,i.resumeToken)),e.isPrimaryClient&&n&&KN(e.remoteStore,i),a}async function KA(e,t,n,r,i){e.Na=(t,n,r)=>async function(e,t,n,r){let i=t.view.Ta(n);i.Xi&&(i=await uN(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.Ta(n,i)})));const s=r&&r.targetChanges.get(t.targetId),o=r&&null!=r.targetMismatches.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,s,o);return rP(e,t.targetId,a.Va),a.snapshot}(e,t,n,r);const s=await uN(e.localStore,t,!0),o=new UA(t,s.hs),a=o.Ta(s.documents),c=Ek.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),l=o.applyChanges(a,e.isPrimaryClient,c);rP(e,n,l.Va);const u=new jA(t,n,o);return e.wa.set(t,u),e.Sa.has(n)?e.Sa.get(n).push(t):e.Sa.set(n,[t]),l.snapshot}async function HA(e,t,n){const r=tE(e),i=r.wa.get(t),s=r.Sa.get(i.targetId);if(s.length>1)return r.Sa.set(i.targetId,s.filter((e=>!aT(e,t)))),void r.wa.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await lN(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&HN(r.remoteStore,i.targetId),tP(r,i.targetId)})).catch(ME)):(tP(r,i.targetId),await lN(r.localStore,i.targetId,!0))}async function WA(e,t){const n=tE(e),r=n.wa.get(t),i=n.Sa.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),HN(n.remoteStore,r.targetId))}async function QA(e,t){const n=tE(e);try{const e=await function(e,t){const n=tE(e),r=t.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const s=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const o=[];t.targetChanges.forEach(((s,a)=>{const c=i.get(a);if(!c)return;o.push(n.Qr.removeMatchingKeys(e,s.removedDocuments,a).next((()=>n.Qr.addMatchingKeys(e,s.addedDocuments,a))));let l=c.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?l=l.withResumeToken(jI.EMPTY_BYTE_STRING,wE.min()).withLastLimboFreeSnapshotVersion(wE.min()):s.resumeToken.approximateByteSize()>0&&(l=l.withResumeToken(s.resumeToken,r)),i=i.insert(a,l),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(c,l,s)&&o.push(n.Qr.updateTargetData(e,l))}));let a=gT(),c=TT();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(oN(e,s,t.documentUpdates).next((e=>{a=e.cs,c=e.ls}))),!r.isEqual(wE.min())){const t=n.Qr.getLastRemoteSnapshotVersion(e).next((t=>n.Qr.setTargetsMetadata(e,e.currentSequenceNumber,r)));o.push(t)}return FE.waitFor(o).next((()=>s.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,a,c))).next((()=>a))})).then((e=>(n.ns=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Ca.get(t);r&&(eE(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.pa=!0:e.modifiedDocuments.size>0?eE(r.pa):e.removedDocuments.size>0&&(eE(r.pa),r.pa=!1))})),await oP(n,e,t)}catch(e){await ME(e)}}function YA(e,t,n){const r=tE(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.wa.forEach(((n,r)=>{const i=r.view.G_(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=tE(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.Q_)i.G_(t)&&(r=!0)})),r&&xA(n)}(r.eventManager,t),e.length&&r.ya.u_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function $A(e,t,n){const r=tE(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Ca.get(t),s=i&&i.key;if(s){let e=new PI(SE.comparator);e=e.insert(s,yS.newNoDocument(s,wE.min()));const n=TT().add(s),i=new _k(wE.min(),new Map,new PI(mE),e,n);await QA(r,i),r.Da=r.Da.remove(s),r.Ca.delete(t),sP(r)}else await lN(r.localStore,t,!1).then((()=>tP(r,t,n))).catch(ME)}async function JA(e,t){const n=tE(e),r=t.batch.batchId;try{const e=await function(e,t){const n=tE(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.os.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let o=FE.resolve();return s.forEach((e=>{o=o.next((()=>r.getEntry(t,e))).next((t=>{const s=n.docVersions.get(e);eE(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=TT();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);eP(n,r,null),ZA(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await oP(n,e)}catch(e){await ME(e)}}async function XA(e,t,n){const r=tE(e);try{const e=await function(e,t){const n=tE(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(eE(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);eP(r,t,n),ZA(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await oP(r,e)}catch(n){await ME(n)}}function ZA(e,t){(e.Ma.get(t)||[]).forEach((e=>{e.resolve()})),e.Ma.delete(t)}function eP(e,t,n){const r=tE(e);let i=r.Fa[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Fa[r.currentUser.toKey()]=i}}function tP(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Sa.get(t))e.wa.delete(r),n&&e.ya.La(r,n);e.Sa.delete(t),e.isPrimaryClient&&e.va.Vr(t).forEach((t=>{e.va.containsKey(t)||nP(e,t)}))}function nP(e,t){e.ba.delete(t.path.canonicalString());const n=e.Da.get(t);null!==n&&(HN(e.remoteStore,n),e.Da=e.Da.remove(t),e.Ca.delete(n),sP(e))}function rP(e,t,n){for(const r of n)r instanceof MA?(e.va.addReference(r.key,t),iP(e,r)):r instanceof FA?(Y_("SyncEngine","Document no longer in limbo: "+r.key),e.va.removeReference(r.key,t),e.va.containsKey(r.key)||nP(e,r.key)):Z_()}function iP(e,t){const n=t.key,r=n.path.canonicalString();e.Da.get(n)||e.ba.has(r)||(Y_("SyncEngine","New document in limbo: "+n),e.ba.add(r),sP(e))}function sP(e){for(;e.ba.size>0&&e.Da.size<e.maxConcurrentLimboResolutions;){const t=e.ba.values().next().value;e.ba.delete(t);const n=new SE(_E.fromString(t)),r=e.xa.next();e.Ca.set(r,new VA(n)),e.Da=e.Da.insert(n,r),KN(e.remoteStore,new uC(rT(ZS(n.path)),r,"TargetPurposeLimboResolution",YE._e))}}async function oP(e,t,n){const r=tE(e),i=[],s=[],o=[];r.wa.isEmpty()||(r.wa.forEach(((e,a)=>{o.push(r.Na(a,t,n).then((e=>{if((e||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){i.push(e);const t=Zx.Ki(a.targetId,e);s.push(t)}})))})),await Promise.all(o),r.ya.u_(i),await async function(e,t){const n=tE(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>FE.forEach(t,(t=>FE.forEach(t.qi,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>FE.forEach(t.Qi,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!BE(e))throw e;Y_("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.ns.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.ns=n.ns.insert(e,i)}}}(r.localStore,s))}async function aP(e,t){const n=tE(e);if(!n.currentUser.isEqual(t)){Y_("SyncEngine","User change. New user:",t.toKey());const e=await iN(n.localStore,t);n.currentUser=t,function(e,t){e.Ma.forEach((e=>{e.forEach((e=>{e.reject(new rE(nE.CANCELLED,t))}))})),e.Ma.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await oP(n,e.us)}}function cP(e,t){const n=tE(e),r=n.Ca.get(t);if(r&&r.pa)return TT().add(r.key);{let e=TT();const r=n.Sa.get(t);if(!r)return e;for(const t of r){const r=n.wa.get(t);e=e.unionWith(r.view.Ia)}return e}}async function lP(e,t){const n=tE(e),r=await uN(n.localStore,t.query,!0),i=t.view.fa(r);return n.isPrimaryClient&&rP(n,t.targetId,i.Va),i}async function uP(e,t){const n=tE(e);return dN(n.localStore,t).then((e=>oP(n,e)))}async function hP(e,t,n,r){const i=tE(e),s=await function(e,t){const n=tE(e),r=tE(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(e=>r.vn(e,t).next((t=>t?n.localDocuments.getDocuments(e,t):FE.resolve(null)))))}(i.localStore,t);null!==s?("pending"===n?await iA(i.remoteStore):"acknowledged"===n||"rejected"===n?(eP(i,t,r||null),ZA(i,t),function(e,t){tE(tE(e).mutationQueue).Mn(t)}(i.localStore,t)):Z_(),await oP(i,s)):Y_("SyncEngine","Cannot apply mutation batch with id: "+t)}async function dP(e,t,n){const r=tE(e),i=[],s=[];for(const o of t){let e;const t=r.Sa.get(o);if(t&&0!==t.length){e=await cN(r.localStore,rT(t[0]));for(const e of t){const t=r.wa.get(e),n=await lP(r,t);n.snapshot&&s.push(n.snapshot)}}else{const t=await hN(r.localStore,o);e=await cN(r.localStore,t),await KA(r,fP(t),o,!1,e.resumeToken)}i.push(e)}return r.ya.u_(s),i}function fP(e){return XS(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function pP(e){return function(e){return tE(tE(e).persistence).Bi()}(tE(e).localStore)}async function mP(e,t,n,r){const i=tE(e);if(i.Oa)return void Y_("SyncEngine","Ignoring unexpected query state notification.");const s=i.Sa.get(t);if(s&&s.length>0)switch(n){case"current":case"not-current":{const e=await dN(i.localStore,hT(s[0])),r=_k.createSynthesizedRemoteEventForCurrentChange(t,"current"===n,jI.EMPTY_BYTE_STRING);await oP(i,e,r);break}case"rejected":await lN(i.localStore,t,!0),tP(i,t,r);break;default:Z_()}}async function gP(e,t,n){const r=vP(e);if(r.Oa){for(const e of t){if(r.Sa.has(e)&&r.sharedClientState.isActiveQueryTarget(e)){Y_("SyncEngine","Adding an already active target "+e);continue}const t=await hN(r.localStore,e),n=await cN(r.localStore,t);await KA(r,fP(t),n.targetId,!1,n.resumeToken),KN(r.remoteStore,n)}for(const e of n)r.Sa.has(e)&&await lN(r.localStore,e,!1).then((()=>{HN(r.remoteStore,e),tP(r,e)})).catch(ME)}}function vP(e){const t=tE(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=QA.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=cP.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=$A.bind(null,t),t.ya.u_=kA.bind(null,t.eventManager),t.ya.La=CA.bind(null,t.eventManager),t}function yP(e){const t=tE(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=JA.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=XA.bind(null,t),t}class wP{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=LN(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return rN(this.persistence,new tN,e.initialUser,this.serializer)}createPersistence(e){return new qx(Kx.Hr,this.serializer)}createSharedClientState(e){return new SN}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class bP extends wP{constructor(e,t,n){super(),this.ka=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.ka.initialize(this,e),await yP(this.ka.syncEngine),await iA(this.ka.remoteStore),await this.persistence.fi((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}createLocalStore(e){return rN(this.persistence,new tN,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){const n=this.persistence.referenceDelegate.garbageCollector;return new wx(n,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const n=new QE(t,this.persistence);return new WE(e.asyncQueue,n)}createPersistence(e){const t=Xx(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?ix.withCacheSize(this.cacheSizeBytes):ix.DEFAULT;return new Yx(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,DN(),ON(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new SN}}class _P extends bP{constructor(e,t){super(e,t,!1),this.ka=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.ka.syncEngine;this.sharedClientState instanceof IN&&(this.sharedClientState.syncEngine={Zs:hP.bind(null,t),Xs:mP.bind(null,t),eo:gP.bind(null,t),Bi:pP.bind(null,t),Ys:uP.bind(null,t)},await this.sharedClientState.start()),await this.persistence.fi((async e=>{await async function(e,t){const n=tE(e);if(vP(n),yP(n),!0===t&&!0!==n.Oa){const e=n.sharedClientState.getAllActiveQueryTargets(),t=await dP(n,e.toArray());n.Oa=!0,await pA(n.remoteStore,!0);for(const r of t)KN(n.remoteStore,r)}else if(!1===t&&!1!==n.Oa){const e=[];let t=Promise.resolve();n.Sa.forEach(((r,i)=>{n.sharedClientState.isLocalQueryTarget(i)?e.push(i):t=t.then((()=>(tP(n,i),lN(n.localStore,i,!0)))),HN(n.remoteStore,i)})),await t,await dP(n,e),function(e){const t=tE(e);t.Ca.forEach(((e,n)=>{HN(t.remoteStore,n)})),t.va.mr(),t.Ca=new Map,t.Da=new PI(SE.comparator)}(n),n.Oa=!1,await pA(n.remoteStore,!1)}}(this.ka.syncEngine,e),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start():e||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(e&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():e||this.indexBackfillerScheduler.stop())}))}createSharedClientState(e){const t=DN();if(!IN.D(t))throw new rE(nE.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=Xx(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new IN(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class EP{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>YA(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=aP.bind(null,this.syncEngine),await pA(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new IA}createDatastore(e){const t=LN(e.databaseInfo.databaseId),n=function(e){return new RN(e)}(e.databaseInfo);return function(e,t,n,r){return new VN(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new BN(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>YA(this.syncEngine,e,0)),kN.D()?new kN:new TN)}createSyncEngine(e,t){return function(e,t,n,r,i,s,o){const a=new zA(e,t,n,r,i,s);return o&&(a.Oa=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e;await async function(e){const t=tE(e);Y_("RemoteStore","RemoteStore shutting down."),t.v_.add(5),await GN(t),t.M_.shutdown(),t.x_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate()}}function IP(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{async read(){if(n<e.byteLength){const r={value:e.slice(n,n+t),done:!1};return n+=t,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}class SP{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.qa(this.observer.next,e)}error(e){this.observer.error?this.qa(this.observer.error,e):$_("Uncaught Error in snapshot listener:",e.toString())}Qa(){this.muted=!0}qa(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class TP{constructor(e,t){this.Ka=e,this.serializer=t,this.metadata=new iE,this.buffer=new Uint8Array,this.$a=new TextDecoder("utf-8"),this.Ua().then((e=>{e&&e.ra()?this.metadata.resolve(e.na.metadata):this.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.na))))}),(e=>this.metadata.reject(e)))}close(){return this.Ka.cancel()}async getMetadata(){return this.metadata.promise}async Ba(){return await this.getMetadata(),this.Ua()}async Ua(){const e=await this.Wa();if(null===e)return null;const t=this.$a.decode(e),n=Number(t);isNaN(n)&&this.Ga("length string (".concat(t,") is not valid number"));const r=await this.za(n);return new RA(JSON.parse(r),e.length+n)}ja(){return this.buffer.findIndex((e=>e==="{".charCodeAt(0)))}async Wa(){for(;this.ja()<0&&!await this.Ha(););if(0===this.buffer.length)return null;const e=this.ja();e<0&&this.Ga("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async za(e){for(;this.buffer.length<e;)await this.Ha()&&this.Ga("Reached the end of bundle when more is expected.");const t=this.$a.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}Ga(e){throw this.Ka.cancel(),new Error("Invalid bundle format: ".concat(e))}async Ha(){const e=await this.Ka.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}class kP{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new rE(nE.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const t=await async function(e,t){const n=tE(e),r={documents:t.map((e=>Bk(n.serializer,e)))},i=await n.vo("BatchGetDocuments",n.serializer.databaseId,_E.emptyPath(),r,t.length),s=new Map;i.forEach((e=>{const t=function(e,t){return"found"in t?function(e,t){eE(!!t.found),t.found.name,t.found.updateTime;const n=qk(e,t.found.name),r=Uk(t.found.updateTime),i=t.found.createTime?Uk(t.found.createTime):wE.min(),s=new gS({mapValue:{fields:t.found.fields}});return yS.newFoundDocument(n,r,i,s)}(e,t):"missing"in t?function(e,t){eE(!!t.missing),eE(!!t.readTime);const n=qk(e,t.missing),r=Uk(t.readTime);return yS.newNoDocument(n,r)}(e,t):Z_()}(n.serializer,e);s.set(t.key.toString(),t)}));const o=[];return t.forEach((e=>{const t=s.get(e.toString());eE(!!t),o.push(t)})),o}(this.datastore,e);return t.forEach((e=>this.recordVersion(e))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastTransactionError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new ik(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((e,t)=>{const n=SE.fromPath(t);this.mutations.push(new sk(n,this.precondition(n)))})),await async function(e,t){const n=tE(e),r={writes:t.map((e=>$k(n.serializer,e)))};await n.So("Commit",n.serializer.databaseId,_E.emptyPath(),r)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Z_();t=wE.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new rE(nE.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(wE.min())?KT.exists(!1):KT.updateTime(t):KT.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(wE.min()))throw new rE(nE.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return KT.updateTime(t)}return KT.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class CP{constructor(e,t,n,r,i){this.asyncQueue=e,this.datastore=t,this.options=n,this.updateFunction=r,this.deferred=i,this.Ja=n.maxAttempts,this.jo=new MN(this.asyncQueue,"transaction_retry")}Ya(){this.Ja-=1,this.Za()}Za(){this.jo.qo((async()=>{const e=new kP(this.datastore),t=this.Xa(e);t&&t.then((t=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(t)})).catch((e=>{this.eu(e)}))))})).catch((e=>{this.eu(e)}))}))}Xa(e){try{const t=this.updateFunction(e);return!$E(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}eu(e){this.Ja>0&&this.tu(e)?(this.Ja-=1,this.asyncQueue.enqueueAndForget((()=>(this.Za(),Promise.resolve())))):this.deferred.reject(e)}tu(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!dk(t)}return!1}}class xP{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=K_.UNAUTHENTICATED,this.clientId=pE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{Y_("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(Y_("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new rE(nE.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new iE;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=yA(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function NP(e,t){e.asyncQueue.verifyOperationInProgress(),Y_("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await iN(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function AP(e,t){e.asyncQueue.verifyOperationInProgress();const n=await RP(e);Y_("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>fA(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>fA(t.remoteStore,n))),e._onlineComponents=t}function PP(e){return"FirebaseError"===e.name?e.code===nE.FAILED_PRECONDITION||e.code===nE.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function RP(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Y_("FirestoreClient","Using user provided OfflineComponentProvider");try{await NP(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!PP(n))throw n;J_("Error using user provided cache. Falling back to memory cache: "+n),await NP(e,new wP)}}else Y_("FirestoreClient","Using default OfflineComponentProvider"),await NP(e,new wP);return e._offlineComponents}async function DP(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Y_("FirestoreClient","Using user provided OnlineComponentProvider"),await AP(e,e._uninitializedComponentsProvider._online)):(Y_("FirestoreClient","Using default OnlineComponentProvider"),await AP(e,new EP))),e._onlineComponents}function OP(e){return RP(e).then((e=>e.persistence))}function LP(e){return RP(e).then((e=>e.localStore))}function MP(e){return DP(e).then((e=>e.remoteStore))}function FP(e){return DP(e).then((e=>e.syncEngine))}function UP(e){return DP(e).then((e=>e.datastore))}async function jP(e){const t=await DP(e),n=t.eventManager;return n.onListen=BA.bind(null,t.syncEngine),n.onUnlisten=HA.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=qA.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=WA.bind(null,t.syncEngine),n}function VP(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new iE;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new SP({next:s=>{t.enqueueAndForget((()=>TA(e,o)));const a=s.docs.has(n);!a&&s.fromCache?i.reject(new rE(nE.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new rE(nE.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:e=>i.reject(e)}),o=new PA(ZS(n.path),s,{includeMetadataChanges:!0,ta:!0});return SA(e,o)}(await jP(e),e.asyncQueue,t,n,r))),r.promise}function zP(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new iE;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new SP({next:n=>{t.enqueueAndForget((()=>TA(e,o))),n.fromCache&&"server"===r.source?i.reject(new rE(nE.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),o=new PA(n,s,{includeMetadataChanges:!0,ta:!0});return SA(e,o)}(await jP(e),e.asyncQueue,t,n,r))),r.promise}function BP(e,t,n,r){const i=function(e,t){let n;return n="string"==typeof e?mk().encode(e):e,function(e,t){return new TP(e,t)}(function(e,t){if(e instanceof Uint8Array)return IP(e,t);if(e instanceof ArrayBuffer)return IP(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),t)}(n,LN(t));e.asyncQueue.enqueueAndForget((async()=>{!function(e,t,n){const r=tE(e);(async function(e,t,n){try{const r=await t.getMetadata();if(await function(e,t){const n=tE(e),r=Uk(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(e=>n.$r.getBundleMetadata(e,t.id))).then((e=>!!e&&e.createTime.compareTo(r)>=0))}(e.localStore,r))return await t.close(),n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r)),Promise.resolve(new Set);n._updateProgress(LA(r));const i=new OA(r,e.localStore,t.serializer);let s=await t.Ba();for(;s;){const e=await i.sa(s);e&&n._updateProgress(e),s=await t.Ba()}const o=await i.complete();return await oP(e,o.aa,void 0),await function(e,t){const n=tE(e);return n.persistence.runTransaction("Save bundle","readwrite",(e=>n.$r.saveBundleMetadata(e,t)))}(e.localStore,r),n._completeWith(o.progress),Promise.resolve(o._a)}catch(e){return J_("SyncEngine","Loading bundle failed with ".concat(e)),n._failWith(e),Promise.resolve(new Set)}})(r,t,n).then((e=>{r.sharedClientState.notifyBundleLoaded(e)}))}(await FP(e),i,r)}))}function qP(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const GP=new Map;function KP(e,t,n){if(!n)throw new rE(nE.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function HP(e,t,n,r){if(!0===t&&!0===r)throw new rE(nE.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function WP(e){if(!SE.isDocumentKey(e))throw new rE(nE.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function QP(e){if(SE.isDocumentKey(e))throw new rE(nE.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function YP(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":Z_()}function $P(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new rE(nE.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=YP(e);throw new rE(nE.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function JP(e,t){if(t<=0)throw new rE(nE.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}class XP{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new rE(nE.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new rE(nE.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}HP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=qP(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new rE(nE.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new rE(nE.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new rE(nE.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ZP{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new XP({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new rE(nE.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new rE(nE.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new XP(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new oE;switch(e.type){case"firstParty":return new uE(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new rE(nE.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=GP.get(e);t&&(Y_("ComponentProvider","Removing Datastore"),GP.delete(e),t.terminate())}(this),Promise.resolve()}}function eR(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const s=(e=$P(e,ZP))._getSettings(),o="".concat(t,":").concat(n);if("firestore.googleapis.com"!==s.host&&s.host!==o&&J_("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=K_.MOCK_USER;else{t=as(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new rE(nE.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new K_(s)}e._authCredentials=new aE(new sE(t,n))}}class tR{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new tR(this.firestore,e,this._query)}}class nR{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new rR(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new nR(this.firestore,e,this._key)}}class rR extends tR{constructor(e,t,n){super(e,t,ZS(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new nR(this.firestore,null,new SE(e))}withConverter(e){return new rR(this.firestore,e,this._path)}}function iR(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=xs(e),KP("collection","path",t),e instanceof ZP){const n=_E.fromString(t,...r);return QP(n),new rR(e,null,n)}{if(!(e instanceof nR||e instanceof rR))throw new rE(nE.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(_E.fromString(t,...r));return QP(n),new rR(e.firestore,null,n)}}function sR(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=xs(e),1===arguments.length&&(t=pE.newId()),KP("doc","path",t),e instanceof ZP){const n=_E.fromString(t,...r);return WP(n),new nR(e,null,new SE(n))}{if(!(e instanceof nR||e instanceof rR))throw new rE(nE.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(_E.fromString(t,...r));return WP(n),new nR(e.firestore,e instanceof rR?e.converter:null,new SE(n))}}function oR(e,t){return e=xs(e),t=xs(t),(e instanceof nR||e instanceof rR)&&(t instanceof nR||t instanceof rR)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function aR(e,t){return e=xs(e),t=xs(t),e instanceof tR&&t instanceof tR&&e.firestore===t.firestore&&aT(e._query,t._query)&&e.converter===t.converter}class cR{constructor(){this.nu=Promise.resolve(),this.ru=[],this.iu=!1,this.su=[],this.ou=null,this._u=!1,this.au=!1,this.uu=[],this.jo=new MN(this,"async_queue_retry"),this.cu=()=>{const e=ON();e&&Y_("AsyncQueue","Visibility state changed to "+e.visibilityState),this.jo.Ko()};const e=ON();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.cu)}get isShuttingDown(){return this.iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.lu(),this.hu(e)}enterRestrictedMode(e){if(!this.iu){this.iu=!0,this.au=e||!1;const t=ON();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.cu)}}enqueue(e){if(this.lu(),this.iu)return new Promise((()=>{}));const t=new iE;return this.hu((()=>this.iu&&this.au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.ru.push(e),this.Pu())))}async Pu(){if(0!==this.ru.length){try{await this.ru[0](),this.ru.shift(),this.jo.reset()}catch(wF){if(!BE(wF))throw wF;Y_("AsyncQueue","Operation failed with retryable error: "+wF)}this.ru.length>0&&this.jo.qo((()=>this.Pu()))}}hu(e){const t=this.nu.then((()=>(this._u=!0,e().catch((e=>{this.ou=e,this._u=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw $_("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this._u=!1,e))))));return this.nu=t,t}enqueueAfterDelay(e,t,n){this.lu(),this.uu.indexOf(e)>-1&&(t=0);const r=vA.createAndSchedule(this,e,t,n,(e=>this.Iu(e)));return this.su.push(r),r}lu(){this.ou&&Z_()}verifyOperationInProgress(){}async Tu(){let e;do{e=this.nu,await e}while(e!==this.nu)}Eu(e){for(const t of this.su)if(t.timerId===e)return!0;return!1}du(e){return this.Tu().then((()=>{this.su.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.su)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Tu()}))}Au(e){this.uu.push(e)}Iu(e){const t=this.su.indexOf(e);this.su.splice(t,1)}}function lR(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class uR{constructor(){this._progressObserver={},this._taskCompletionResolver=new iE,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class hR extends ZP{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new cR,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||fR(this),this._firestoreClient.terminate()}}function dR(e){return e._firestoreClient||fR(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function fR(e){var t,n,r;const i=e._freezeSettings(),s=function(e,t,n,r){return new WI(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,qP(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new xP(e._authCredentials,e._appCheckCredentials,e._queue,s),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}function pR(e,t,n){const r=new iE;return e.asyncQueue.enqueue((async()=>{try{await NP(e,n),await AP(e,t),r.resolve()}catch(e){const n=e;if(!PP(n))throw n;J_("Error enabling indexeddb cache. Falling back to memory cache: "+n),r.reject(n)}})).then((()=>r.promise))}function mR(e){return function(e){const t=new iE;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t){const n=tE(e);JN(n.remoteStore)||Y_("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const e=await function(e){const t=tE(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(e=>t.mutationQueue.getHighestUnacknowledgedBatchId(e)))}(n.localStore);if(-1===e)return void t.resolve();const r=n.Ma.get(e)||[];r.push(t),n.Ma.set(e,r)}catch(e){const n=yA(e,"Initialization of waitForPendingWrites() operation failed");t.reject(n)}}(await FP(e),t))),t.promise}(dR(e=$P(e,hR)))}function gR(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await OP(e),n=await MP(e);return t.setNetworkEnabled(!0),function(e){const t=tE(e);return t.v_.delete(0),qN(t)}(n)}))}(dR(e=$P(e,hR)))}function vR(e){return function(e){return e.asyncQueue.enqueue((async()=>{const t=await OP(e),n=await MP(e);return t.setNetworkEnabled(!1),async function(e){const t=tE(e);t.v_.add(0),await GN(t),t.x_.set("Offline")}(n)}))}(dR(e=$P(e,hR)))}function yR(e,t){return function(e,t){return e.asyncQueue.enqueue((async()=>function(e,t){const n=tE(e);return n.persistence.runTransaction("Get named query","readonly",(e=>n.$r.getNamedQuery(e,t)))}(await LP(e),t)))}(dR(e=$P(e,hR)),t).then((t=>t?new tR(e,null,t.query):null))}function wR(e){if(e._initialized||e._terminated)throw new rE(nE.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class bR{constructor(e){this._byteString=e}static fromBase64String(e){try{return new bR(jI.fromBase64String(e))}catch(e){throw new rE(nE.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new bR(jI.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class _R{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new rE(nE.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new IE(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class ER{constructor(e){this._methodName=e}}class IR{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new rE(nE.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new rE(nE.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return mE(this._lat,e._lat)||mE(this._long,e._long)}}const SR=/^__.*__$/;class TR{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new ek(e,this.data,this.fieldMask,t,this.fieldTransforms):new ZT(e,this.data,t,this.fieldTransforms)}}class kR{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new ek(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function CR(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Z_()}}class xR{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Ru(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Vu(){return this.settings.Vu}mu(e){return new xR(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}fu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.mu({path:n,gu:!1});return r.pu(e),r}yu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.mu({path:n,gu:!1});return r.Ru(),r}wu(e){return this.mu({path:void 0,gu:!0})}Su(e){return QR(e,this.settings.methodName,this.settings.bu||!1,this.path,this.settings.Du)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}Ru(){if(this.path)for(let e=0;e<this.path.length;e++)this.pu(this.path.get(e))}pu(e){if(0===e.length)throw this.Su("Document fields must not be empty");if(CR(this.Vu)&&SR.test(e))throw this.Su('Document fields cannot begin and end with "__"')}}class NR{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||LN(e)}Cu(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new xR({Vu:e,methodName:t,Du:n,path:IE.emptyPath(),gu:!1,bu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function AR(e){const t=e._freezeSettings(),n=LN(e._databaseId);return new NR(e._databaseId,!!t.ignoreUndefinedProperties,n)}function PR(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const o=e.Cu(s.merge||s.mergeFields?2:0,t,n,i);GR("Data must be an object, but it was:",o,r);const a=BR(r,o);let c,l;if(s.merge)c=new FI(o.fieldMask),l=o.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=KR(t,r,n);if(!o.contains(i))throw new rE(nE.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));YR(e,i)||e.push(i)}c=new FI(e),l=o.fieldTransforms.filter((e=>c.covers(e.field)))}else c=null,l=o.fieldTransforms;return new TR(new gS(a),c,l)}class RR extends ER{_toFieldTransform(e){if(2!==e.Vu)throw 1===e.Vu?e.Su("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Su("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof RR}}function DR(e,t,n){return new xR({Vu:3,Du:t.settings.Du,methodName:e._methodName,gu:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class OR extends ER{_toFieldTransform(e){return new qT(e.path,new LT)}isEqual(e){return e instanceof OR}}class LR extends ER{constructor(e,t){super(e),this.vu=t}_toFieldTransform(e){const t=DR(this,e,!0),n=this.vu.map((e=>zR(e,t))),r=new MT(n);return new qT(e.path,r)}isEqual(e){return e instanceof LR&&bs(this.vu,e.vu)}}class MR extends ER{constructor(e,t){super(e),this.vu=t}_toFieldTransform(e){const t=DR(this,e,!0),n=this.vu.map((e=>zR(e,t))),r=new UT(n);return new qT(e.path,r)}isEqual(e){return e instanceof MR&&bs(this.vu,e.vu)}}class FR extends ER{constructor(e,t){super(e),this.Fu=t}_toFieldTransform(e){const t=new VT(e.serializer,AT(e.serializer,this.Fu));return new qT(e.path,t)}isEqual(e){return e instanceof FR&&this.Fu===e.Fu}}function UR(e,t,n,r){const i=e.Cu(1,t,n);GR("Data must be an object, but it was:",i,r);const s=[],o=gS.empty();NI(r,((e,r)=>{const a=WR(t,e,n);r=xs(r);const c=i.yu(a);if(r instanceof RR)s.push(a);else{const e=zR(r,c);null!=e&&(s.push(a),o.set(a,e))}}));const a=new FI(s);return new kR(o,a,i.fieldTransforms)}function jR(e,t,n,r,i,s){const o=e.Cu(1,t,n),a=[KR(t,r,n)],c=[i];if(s.length%2!=0)throw new rE(nE.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let d=0;d<s.length;d+=2)a.push(KR(t,s[d])),c.push(s[d+1]);const l=[],u=gS.empty();for(let d=a.length-1;d>=0;--d)if(!YR(l,a[d])){const e=a[d];let t=c[d];t=xs(t);const n=o.yu(e);if(t instanceof RR)l.push(e);else{const r=zR(t,n);null!=r&&(l.push(e),u.set(e,r))}}const h=new FI(l);return new kR(u,h,o.fieldTransforms)}function VR(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return zR(n,e.Cu(r?4:3,t))}function zR(e,t){if(qR(e=xs(e)))return GR("Unsupported field value:",t,e),BR(e,t);if(e instanceof ER)return function(e,t){if(!CR(t.Vu))throw t.Su("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Su("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.gu&&4!==t.Vu)throw t.Su("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=zR(i,t.wu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=xs(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return AT(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=yE.fromDate(e);return{timestampValue:Lk(t.serializer,n)}}if(e instanceof yE){const n=new yE(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Lk(t.serializer,n)}}if(e instanceof IR)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof bR)return{bytesValue:Mk(t.serializer,e._byteString)};if(e instanceof nR){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Su("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:jk(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Su("Unsupported field value: ".concat(YP(e)))}(e,t)}function BR(e,t){const n={};return AI(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):NI(e,((e,r)=>{const i=zR(r,t.fu(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function qR(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof yE||e instanceof IR||e instanceof bR||e instanceof nR||e instanceof ER)}function GR(e,t,n){if(!qR(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=YP(n);throw"an object"===r?t.Su(e+" a custom object"):t.Su(e+" "+r)}}function KR(e,t,n){if((t=xs(t))instanceof _R)return t._internalPath;if("string"==typeof t)return WR(e,t);throw QR("Field path arguments must be of type string or ",e,!1,void 0,n)}const HR=new RegExp("[~\\*/\\[\\]]");function WR(e,t,n){if(t.search(HR)>=0)throw QR("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new _R(...t.split("."))._internalPath}catch(Re){throw QR("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function QR(e,t,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a="Function ".concat(t,"() called with invalid data");n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=" in field ".concat(r)),o&&(c+=" in document ".concat(i)),c+=")"),new rE(nE.INVALID_ARGUMENT,a+e+c)}function YR(e,t){return e.some((e=>e.isEqual(t)))}class $R{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new nR(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new JR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(XR("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class JR extends $R{data(){return super.data()}}function XR(e,t){return"string"==typeof t?WR(e,t):t instanceof _R?t._internalPath:t._delegate._internalPath}function ZR(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new rE(nE.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class eD{}class tD extends eD{}function nD(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];t instanceof eD&&n.push(t),n=n.concat(i),function(e){const t=e.filter((e=>e instanceof iD)).length,n=e.filter((e=>e instanceof rD)).length;if(t>1||t>0&&n>0)throw new rE(nE.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const o of n)e=o._apply(e);return e}class rD extends tD{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new rD(e,t,n)}_apply(e){const t=this._parse(e);return dD(e._query,t),new tR(e.firestore,e.converter,sT(e._query,t))}_parse(e){const t=AR(e.firestore),n=function(e,t,n,r,i,s,o){let a;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new rE(nE.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(s,"' queries on documentId()."));if("in"===s||"not-in"===s){hD(o,s);const t=[];for(const n of o)t.push(uD(r,e,n));a={arrayValue:{values:t}}}else a=uD(r,e,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||hD(o,s),a=VR(n,t,o,"in"===s||"not-in"===s);return TS.create(i,s,a)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class iD extends eD{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new iD(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:kS.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)dD(n,i),n=sT(n,i)}(e._query,t),new tR(e.firestore,e.converter,sT(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class sD extends tD{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new sD(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new rE(nE.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new rE(nE.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ES(t,n)}(e._query,this._field,this._direction);return new tR(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new JS(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}class oD extends tD{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new oD(e,t,n)}_apply(e){return new tR(e.firestore,e.converter,oT(e._query,this._limit,this._limitType))}}class aD extends tD{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new aD(e,t,n)}_apply(e){const t=lD(e,this.type,this._docOrFields,this._inclusive);return new tR(e.firestore,e.converter,function(e,t){return new JS(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}class cD extends tD{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new cD(e,t,n)}_apply(e){const t=lD(e,this.type,this._docOrFields,this._inclusive);return new tR(e.firestore,e.converter,function(e,t){return new JS(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}function lD(e,t,n,r){if(n[0]=xs(n[0]),n[0]instanceof $R)return function(e,t,n,r,i){if(!r)throw new rE(nE.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));const s=[];for(const o of nT(e))if(o.field.isKeyField())s.push(iS(t,r.key));else{const e=r.data.field(o.field);if(GI(e))throw new rE(nE.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+o.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=o.field.canonicalString();throw new rE(nE.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(e,"' (used as the orderBy) does not exist."))}s.push(e)}return new wS(s,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);{const i=AR(e.firestore);return function(e,t,n,r,i,s){const o=e.explicitOrderBy;if(i.length>o.length)throw new rE(nE.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));const a=[];for(let c=0;c<i.length;c++){const s=i[c];if(o[c].field.isKeyField()){if("string"!=typeof s)throw new rE(nE.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof s));if(!tT(e)&&-1!==s.indexOf("/"))throw new rE(nE.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(s,"' contains a slash."));const n=e.path.child(_E.fromString(s));if(!SE.isDocumentKey(n))throw new rE(nE.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(n,"' is not because it contains an odd number of segments."));const i=new SE(n);a.push(iS(t,i))}else{const e=VR(n,r,s);a.push(e)}}return new wS(a,s)}(e._query,e.firestore._databaseId,i,t,n,r)}}function uD(e,t,n){if("string"==typeof(n=xs(n))){if(""===n)throw new rE(nE.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!tT(t)&&-1!==n.indexOf("/"))throw new rE(nE.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(_E.fromString(n));if(!SE.isDocumentKey(r))throw new rE(nE.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return iS(e,new SE(r))}if(n instanceof nR)return iS(e,n._key);throw new rE(nE.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(YP(n),"."))}function hD(e,t){if(!Array.isArray(e)||0===e.length)throw new rE(nE.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function dD(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new rE(nE.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new rE(nE.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class fD{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(JI(e)){case 0:return null;case 1:return e.booleanValue;case 2:return BI(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(qI(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Z_()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return NI(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new IR(BI(e.latitude),BI(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=KI(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(HI(e));default:return null}}convertTimestamp(e){const t=zI(e);return new yE(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=_E.fromString(e);eE(lC(n));const r=new QI(n.get(1),n.get(3)),i=new SE(n.popFirst(5));return r.isEqual(t)||$_("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function pD(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class mD extends fD{constructor(e){super(),this.firestore=e}convertBytes(e){return new bR(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new nR(this.firestore,null,t)}}class gD{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class vD extends $R{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new yD(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(XR("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class yD extends vD{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class wD{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new gD(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new yD(this._firestore,this._userDataWriter,n.key,n,new gD(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new rE(nE.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new yD(e._firestore,e._userDataWriter,n.doc.key,n.doc,new gD(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new yD(e._firestore,e._userDataWriter,t.doc.key,t.doc,new gD(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:bD(t.type),doc:r,oldIndex:i,newIndex:s}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function bD(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Z_()}}function _D(e,t){return e instanceof vD&&t instanceof vD?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof wD&&t instanceof wD&&e._firestore===t._firestore&&aR(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}class ED extends fD{constructor(e){super(),this.firestore=e}convertBytes(e){return new bR(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new nR(this.firestore,null,t)}}function ID(e){e=$P(e,nR);const t=$P(e.firestore,hR),n=dR(t),r=new ED(t);return function(e,t){const n=new iE;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await function(e,t){const n=tE(e);return n.persistence.runTransaction("read document","readonly",(e=>n.localDocuments.getDocument(e,t)))}(e,t);r.isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new rE(nE.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(e){const r=yA(e,"Failed to get document '".concat(t," from cache"));n.reject(r)}}(await LP(e),t,n))),n.promise}(n,e._key).then((n=>new vD(t,r,e._key,n,new gD(null!==n&&n.hasLocalMutations,!0),e.converter)))}function SD(e){e=$P(e,tR);const t=$P(e.firestore,hR),n=dR(t),r=new ED(t);return function(e,t){const n=new iE;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await uN(e,t,!0),i=new UA(t,r.hs),s=i.Ta(r.documents),o=i.applyChanges(s,!1);n.resolve(o.snapshot)}catch(e){const r=yA(e,"Failed to execute query '".concat(t," against cache"));n.reject(r)}}(await LP(e),t,n))),n.promise}(n,e._query).then((n=>new wD(t,r,e,n)))}function TD(e,t,n){e=$P(e,nR);const r=$P(e.firestore,hR),i=pD(e.converter,t,n);return ND(r,[PR(AR(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,KT.none())])}function kD(e,t,n){e=$P(e,nR);const r=$P(e.firestore,hR),i=AR(r);let s;for(var o=arguments.length,a=new Array(o>3?o-3:0),c=3;c<o;c++)a[c-3]=arguments[c];return s="string"==typeof(t=xs(t))||t instanceof _R?jR(i,"updateDoc",e._key,t,n,a):UR(i,"updateDoc",e._key,t),ND(r,[s.toMutation(e._key,KT.exists(!0))])}function CD(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,s,o;e=xs(e);let a={includeMetadataChanges:!1,source:"default"},c=0;"object"!=typeof n[c]||lR(n[c])||(a=n[c],c++);const l={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(lR(n[c])){const e=n[c];n[c]=null===(i=e.next)||void 0===i?void 0:i.bind(e),n[c+1]=null===(s=e.error)||void 0===s?void 0:s.bind(e),n[c+2]=null===(o=e.complete)||void 0===o?void 0:o.bind(e)}let u,h,d;if(e instanceof nR)h=$P(e.firestore,hR),d=ZS(e._key.path),u={next:t=>{n[c]&&n[c](AD(h,e,t))},error:n[c+1],complete:n[c+2]};else{const t=$P(e,tR);h=$P(t.firestore,hR),d=t._query;const r=new ED(h);u={next:e=>{n[c]&&n[c](new wD(h,r,t,e))},error:n[c+1],complete:n[c+2]},ZR(e._query)}return function(e,t,n,r){const i=new SP(r),s=new PA(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>SA(await jP(e),s))),()=>{i.Qa(),e.asyncQueue.enqueueAndForget((async()=>TA(await jP(e),s)))}}(dR(h),d,l,u)}function xD(e,t){return function(e,t){const n=new SP(t);return e.asyncQueue.enqueueAndForget((async()=>function(e,t){tE(e).W_.add(t),t.next()}(await jP(e),n))),()=>{n.Qa(),e.asyncQueue.enqueueAndForget((async()=>function(e,t){tE(e).W_.delete(t)}(await jP(e),n)))}}(dR(e=$P(e,hR)),lR(t)?t:{next:t})}function ND(e,t){return function(e,t){const n=new iE;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=yP(e);try{const e=await function(e,t){const n=tE(e),r=yE.now(),i=t.reduce(((e,t)=>e.add(t.key)),TT());let s,o;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let a=gT(),c=TT();return n.os.getEntries(e,i).next((e=>{a=e,a.forEach(((e,t)=>{t.isValidDocument()||(c=c.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,a))).next((i=>{s=i;const o=[];for(const e of t){const t=JT(e,s.get(e.key).overlayedDocument);null!=t&&o.push(new ek(e.key,t,vS(t.value.mapValue),KT.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,o,t)})).next((t=>{o=t;const r=t.applyToLocalDocumentSet(s,c);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:o.batchId,changes:wT(s)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Fa[e.currentUser.toKey()];r||(r=new PI(mE)),r=r.insert(t,n),e.Fa[e.currentUser.toKey()]=r}(r,e.batchId,n),await oP(r,e.changes),await iA(r.remoteStore)}catch(e){const t=yA(e,"Failed to persist write");n.reject(t)}}(await FP(e),t,n))),n.promise}(dR(e),t)}function AD(e,t,n){const r=n.docs.get(t._key),i=new ED(e);return new vD(e,i,t._key,r,new gD(n.hasPendingWrites,n.fromCache),t.converter)}const PD={maxAttempts:5};class RD{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=AR(e)}set(e,t,n){this._verifyNotCommitted();const r=DD(e,this._firestore),i=pD(r.converter,t,n),s=PR(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(s.toMutation(r._key,KT.none())),this}update(e,t,n){this._verifyNotCommitted();const r=DD(e,this._firestore);let i;for(var s=arguments.length,o=new Array(s>3?s-3:0),a=3;a<s;a++)o[a-3]=arguments[a];return i="string"==typeof(t=xs(t))||t instanceof _R?jR(this._dataReader,"WriteBatch.update",r._key,t,n,o):UR(this._dataReader,"WriteBatch.update",r._key,t),this._mutations.push(i.toMutation(r._key,KT.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=DD(e,this._firestore);return this._mutations=this._mutations.concat(new ik(t._key,KT.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new rE(nE.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function DD(e,t){if((e=xs(e)).firestore!==t)throw new rE(nE.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class OD extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=AR(e)}get(e){const t=DD(e,this._firestore),n=new mD(this._firestore);return this._transaction.lookup([t._key]).then((e=>{if(!e||1!==e.length)return Z_();const r=e[0];if(r.isFoundDocument())return new $R(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new $R(this._firestore,n,t._key,null,t.converter);throw Z_()}))}set(e,t,n){const r=DD(e,this._firestore),i=pD(r.converter,t,n),s=PR(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,s),this}update(e,t,n){const r=DD(e,this._firestore);let i;for(var s=arguments.length,o=new Array(s>3?s-3:0),a=3;a<s;a++)o[a-3]=arguments[a];return i="string"==typeof(t=xs(t))||t instanceof _R?jR(this._dataReader,"Transaction.update",r._key,t,n,o):UR(this._dataReader,"Transaction.update",r._key,t),this._transaction.update(r._key,i),this}delete(e){const t=DD(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=DD(e,this._firestore),n=new ED(this._firestore);return super.get(e).then((e=>new vD(this._firestore,n,t._key,e._document,new gD(!1,!1),t.converter)))}}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){H_=e}(So),mo(new Ns("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const s=e.getProvider("app").getImmediate(),o=new hR(new cE(e.getProvider("auth-internal")),new dE(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new rE(nE.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new QI(e.options.projectId,t)}(s,r),s);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),Ao(G_,"4.5.1",e),Ao(G_,"4.5.1","esm2017")}();function LD(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new rE("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function MD(){if("undefined"===typeof Uint8Array)throw new rE("unimplemented","Uint8Arrays are not available in this environment.")}function FD(){if("undefined"==typeof atob)throw new rE("unimplemented","Blobs are unavailable in Firestore in this environment.")}class UD{constructor(e){this._delegate=e}static fromBase64String(e){return FD(),new UD(bR.fromBase64String(e))}static fromUint8Array(e){return MD(),new UD(bR.fromUint8Array(e))}toBase64(){return FD(),this._delegate.toBase64()}toUint8Array(){return MD(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function jD(e){return function(e,t){if("object"!==typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"===typeof n[r])return!0;return!1}(e,["next","error","complete"])}class VD{enableIndexedDbPersistence(e,t){return function(e,t){wR(e=$P(e,hR));const n=dR(e);if(n._uninitializedComponentsProvider)throw new rE(nE.FAILED_PRECONDITION,"SDK cache is already specified.");J_("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=e._freezeSettings(),i=new EP;return pR(n,i,new bP(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(e){wR(e=$P(e,hR));const t=dR(e);if(t._uninitializedComponentsProvider)throw new rE(nE.FAILED_PRECONDITION,"SDK cache is already specified.");J_("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=e._freezeSettings(),r=new EP;return pR(t,r,new _P(r,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(e){if(e._initialized&&!e._terminated)throw new rE(nE.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new iE;return e._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await async function(e){if(!jE.D())return Promise.resolve();const t=e+"main";await jE.delete(t)}(Xx(e._databaseId,e._persistenceKey)),t.resolve()}catch(e){t.reject(e)}})),t.promise}(e._delegate)}}class zD{constructor(e,t,n){this._delegate=t,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},e instanceof QI||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();e.merge||t.host===e.host||J_("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};eR(this._delegate,e,t,n)}enableNetwork(){return gR(this._delegate)}disableNetwork(){return vR(this._delegate)}enablePersistence(e){let t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,HP("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return mR(this._delegate)}onSnapshotsInSync(e){return xD(this._delegate,e)}get app(){if(!this._appCompat)throw new rE("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new tO(this,iR(this._delegate,e))}catch(wF){throw WD(wF,"collection()","Firestore.collection()")}}doc(e){try{return new HD(this,sR(this._delegate,e))}catch(wF){throw WD(wF,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new XD(this,function(e,t){if(e=$P(e,ZP),KP("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new rE(nE.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new tR(e,null,function(e){return new JS(_E.emptyPath(),e)}(t))}(this._delegate,e))}catch(wF){throw WD(wF,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(e,t,n){e=$P(e,hR);const r=Object.assign(Object.assign({},PD),n);return function(e){if(e.maxAttempts<1)throw new rE(nE.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){const r=new iE;return e.asyncQueue.enqueueAndForget((async()=>{const i=await UP(e);new CP(e.asyncQueue,i,n,t,r).Ya()})),r.promise}(dR(e),(n=>t(new OD(e,n))),r)}(this._delegate,(t=>e(new qD(this,t))))}batch(){return dR(this._delegate),new GD(new RD(this._delegate,(e=>ND(this._delegate,e))))}loadBundle(e){return function(e,t){const n=dR(e=$P(e,hR)),r=new uR;return BP(n,e._databaseId,t,r),r}(this._delegate,e)}namedQuery(e){return yR(this._delegate,e).then((e=>e?new XD(this,e):null))}}class BD extends fD{constructor(e){super(),this.firestore=e}convertBytes(e){return new UD(new bR(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return HD.forKey(t,this.firestore,null)}}class qD{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new BD(e)}get(e){const t=nO(e);return this._delegate.get(t).then((e=>new $D(this._firestore,new vD(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,t.converter))))}set(e,t,n){const r=nO(e);return n?(LD("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),s=3;s<r;s++)i[s-3]=arguments[s];const o=nO(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,n,...i),this}delete(e){const t=nO(e);return this._delegate.delete(t),this}}class GD{constructor(e){this._delegate=e}set(e,t,n){const r=nO(e);return n?(LD("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),s=3;s<r;s++)i[s-3]=arguments[s];const o=nO(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,n,...i),this}delete(e){const t=nO(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class KD{constructor(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}fromFirestore(e,t){const n=new yD(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new JD(this._firestore,n),null!==t&&void 0!==t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const n=KD.INSTANCES;let r=n.get(e);r||(r=new WeakMap,n.set(e,r));let i=r.get(t);return i||(i=new KD(e,new BD(e),t),r.set(t,i)),i}}KD.INSTANCES=new WeakMap;class HD{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new BD(e)}static forPath(e,t,n){if(e.length%2!==0)throw new rE("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(e.canonicalString()," has ").concat(e.length));return new HD(t,new nR(t._delegate,n,new SE(e)))}static forKey(e,t,n){return new HD(t,new nR(t._delegate,n,e))}get id(){return this._delegate.id}get parent(){return new tO(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new tO(this.firestore,iR(this._delegate,e))}catch(wF){throw WD(wF,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=xs(e))instanceof nR&&oR(this._delegate,e)}set(e,t){t=LD("DocumentReference.set",t);try{return t?TD(this._delegate,e,t):TD(this._delegate,e)}catch(wF){throw WD(wF,"setDoc()","DocumentReference.set()")}}update(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?kD(this._delegate,e):kD(this._delegate,e,t,...r)}catch(wF){throw WD(wF,"updateDoc()","DocumentReference.update()")}}delete(){return ND($P((e=this._delegate).firestore,hR),[new ik(e._key,KT.none())]);var e}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=QD(t),i=YD(t,(e=>new $D(this.firestore,new vD(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))));return CD(this._delegate,r,i)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?ID(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=$P(e,nR);const t=$P(e.firestore,hR);return VP(dR(t),e._key,{source:"server"}).then((n=>AD(t,e,n)))}(this._delegate):function(e){e=$P(e,nR);const t=$P(e.firestore,hR);return VP(dR(t),e._key).then((n=>AD(t,e,n)))}(this._delegate),t.then((e=>new $D(this.firestore,new vD(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))))}withConverter(e){return new HD(this.firestore,e?this._delegate.withConverter(KD.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function WD(e,t,n){return e.message=e.message.replace(t,n),e}function QD(e){for(const t of e)if("object"===typeof t&&!jD(t))return t;return{}}function YD(e,t){var n,r;let i;return i=jD(e[0])?e[0]:jD(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]},{next:e=>{i.next&&i.next(t(e))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class $D{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new HD(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return _D(this._delegate,e._delegate)}}class JD extends $D{data(e){const t=this._delegate.data(e);return this._delegate._converter||void 0!==t||Z_(),t}}class XD{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new BD(e)}where(e,t,n){try{return new XD(this.firestore,nD(this._delegate,function(e,t,n){const r=t,i=XR("where",e);return rD._create(i,r,n)}(e,t,n)))}catch(wF){throw WD(wF,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new XD(this.firestore,nD(this._delegate,function(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=XR("orderBy",e);return sD._create(n,t)}(e,t)))}catch(wF){throw WD(wF,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new XD(this.firestore,nD(this._delegate,(JP("limit",t=e),oD._create("limit",t,"F"))))}catch(t){throw WD(t,"limit()","Query.limit()")}var t}limitToLast(e){try{return new XD(this.firestore,nD(this._delegate,(JP("limitToLast",t=e),oD._create("limitToLast",t,"L"))))}catch(t){throw WD(t,"limitToLast()","Query.limitToLast()")}var t}startAt(){try{return new XD(this.firestore,nD(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return aD._create("startAt",t,!0)}(...arguments)))}catch(wF){throw WD(wF,"startAt()","Query.startAt()")}}startAfter(){try{return new XD(this.firestore,nD(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return aD._create("startAfter",t,!1)}(...arguments)))}catch(wF){throw WD(wF,"startAfter()","Query.startAfter()")}}endBefore(){try{return new XD(this.firestore,nD(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return cD._create("endBefore",t,!1)}(...arguments)))}catch(wF){throw WD(wF,"endBefore()","Query.endBefore()")}}endAt(){try{return new XD(this.firestore,nD(this._delegate,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return cD._create("endAt",t,!0)}(...arguments)))}catch(wF){throw WD(wF,"endAt()","Query.endAt()")}}isEqual(e){return aR(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null===e||void 0===e?void 0:e.source)?SD(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=$P(e,tR);const t=$P(e.firestore,hR),n=dR(t),r=new ED(t);return zP(n,e._query,{source:"server"}).then((n=>new wD(t,r,e,n)))}(this._delegate):function(e){e=$P(e,tR);const t=$P(e.firestore,hR),n=dR(t),r=new ED(t);return ZR(e._query),zP(n,e._query).then((n=>new wD(t,r,e,n)))}(this._delegate),t.then((e=>new eO(this.firestore,new wD(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))))}onSnapshot(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=QD(t),i=YD(t,(e=>new eO(this.firestore,new wD(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))));return CD(this._delegate,r,i)}withConverter(e){return new XD(this.firestore,e?this._delegate.withConverter(KD.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class ZD{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new JD(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class eO{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new XD(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map((e=>new JD(this._firestore,e)))}docChanges(e){return this._delegate.docChanges(e).map((e=>new ZD(this._firestore,e)))}forEach(e,t){this._delegate.forEach((n=>{e.call(t,new JD(this._firestore,n))}))}isEqual(e){return _D(this._delegate,e._delegate)}}class tO extends XD{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new HD(this.firestore,e):null}doc(e){try{return new HD(this.firestore,void 0===e?sR(this._delegate):sR(this._delegate,e))}catch(wF){throw WD(wF,"doc()","CollectionReference.doc()")}}add(e){return function(e,t){const n=$P(e.firestore,hR),r=sR(e),i=pD(e.converter,t);return ND(n,[PR(AR(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,KT.exists(!1))]).then((()=>r))}(this._delegate,e).then((e=>new HD(this.firestore,e)))}isEqual(e){return oR(this._delegate,e._delegate)}withConverter(e){return new tO(this.firestore,e?this._delegate.withConverter(KD.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function nO(e){return $P(e,nR)}class rO{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._delegate=new _R(...t)}static documentId(){return new rO(IE.keyField().canonicalString())}isEqual(e){return(e=xs(e))instanceof _R&&this._delegate._internalPath.isEqual(e._internalPath)}}class iO{constructor(e){this._delegate=e}static serverTimestamp(){const e=new OR("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new iO(e)}static delete(){const e=new RR("deleteField");return e._methodName="FieldValue.delete",new iO(e)}static arrayUnion(){const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new LR("arrayUnion",t)}(...arguments);return e._methodName="FieldValue.arrayUnion",new iO(e)}static arrayRemove(){const e=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new MR("arrayRemove",t)}(...arguments);return e._methodName="FieldValue.arrayRemove",new iO(e)}static increment(e){const t=new FR("increment",e);return t._methodName="FieldValue.increment",new iO(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const sO={Firestore:zD,GeoPoint:IR,Timestamp:yE,Blob:UD,Transaction:qD,WriteBatch:GD,DocumentReference:HD,DocumentSnapshot:$D,Query:XD,QueryDocumentSnapshot:JD,QuerySnapshot:eO,CollectionReference:tO,FieldPath:rO,FieldValue:iO,setLogLevel:function(e){var t;t=e,W_.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new Ns("firestore-compat",(e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},sO)))}(e,((e,t)=>new zD(e,t,new VD))),e.registerVersion("@firebase/firestore-compat","0.3.28")}(Yo);const oO={overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"};const aO=function(e){var t,n;let{post:r}=e;return(0,Ac.jsxs)(Sv,{as:xe,to:"/".concat(r.id),children:[(0,Ac.jsx)(Sv.Image,{src:r.imageUrl||"https://react.semantic-ui.com/images/wireframe/image.png"}),(0,Ac.jsxs)(Sv.Content,{children:[(0,Ac.jsxs)(Sv.Meta,{children:[r.author.photoURL?(0,Ac.jsx)(Dl,{avatar:!0,src:r.author.photoURL}):(0,Ac.jsx)(Sc,{name:"user circle"}),r.topic,"\uff0e",r.author.displayName||"\u4f7f\u7528\u8005"]}),(0,Ac.jsx)(Sv.Header,{children:r.title}),(0,Ac.jsx)(Sv.Meta,{children:null===(t=r.createdAt)||void 0===t?void 0:t.toDate().toLocaleDateString()}),(0,Ac.jsx)(Sv.Description,{style:{...oO},children:r.content}),(0,Ac.jsxs)(Sv.Extra,{children:["\u7559\u8a00 ",r.commentsCount||0,"\uff0e\u8b9a ",(null===(n=r.likedBy)||void 0===n?void 0:n.length)||0]})]})]})};const cO=function(){const[e,t]=i.useState([]),n=X(),r=new URLSearchParams(n.search).get("topic");return i.useEffect((()=>{r?$o.firestore().collection("posts").where("topic","==",r).get().then((e=>{const n=e.docs.map((e=>{const t=e.id;return{...e.data(),id:t}}));t(n)})):$o.firestore().collection("posts").get().then((e=>{const n=e.docs.map((e=>{const t=e.id;return{...e.data(),id:t}}));t(n)}))}),[r]),(0,Ac.jsx)(Sv.Group,{children:e.map((e=>(0,Ac.jsx)(aO,{post:e},e.id)))})};function lO(e){var t=e.children,n=e.className,r=e.content,s=De("sub header",n),o=qe(lO,e),a=Ge(lO,e);return i.createElement(a,Pe({},o,{className:s}),pi(t)?r:t)}lO.handledProps=["as","children","className","content"],lO.propTypes={},lO.create=Vi(lO,(function(e){return{content:e}}));const uO=lO;function hO(e){var t=e.children,n=e.className,r=e.content,s=De("content",n),o=qe(hO,e),a=Ge(hO,e);return i.createElement(a,Pe({},o,{className:s}),pi(t)?r:t)}hO.handledProps=["as","children","className","content"],hO.propTypes={};const dO=hO;function fO(e){var t=e.attached,n=e.block,r=e.children,s=e.className,o=e.color,a=e.content,c=e.disabled,l=e.dividing,u=e.floated,h=e.icon,d=e.image,f=e.inverted,p=e.size,m=e.sub,g=e.subheader,v=e.textAlign,y=De("ui",o,p,Me(n,"block"),Me(c,"disabled"),Me(l,"dividing"),Fe(u,"floated"),Me(!0===h,"icon"),Me(!0===d,"image"),Me(f,"inverted"),Me(m,"sub"),Ue(t,"attached"),Ve(v),"header",s),w=qe(fO,e),b=Ge(fO,e);if(!pi(r))return i.createElement(b,Pe({},w,{className:y}),r);var _=Sc.create(h,{autoGenerateKey:!1}),E=Dl.create(d,{autoGenerateKey:!1}),I=uO.create(g,{autoGenerateKey:!1});return _||E?i.createElement(b,Pe({},w,{className:y}),_||E,(a||I)&&i.createElement(dO,null,a,I)):i.createElement(b,Pe({},w,{className:y}),a,I)}fO.handledProps=["as","attached","block","children","className","color","content","disabled","dividing","floated","icon","image","inverted","size","sub","subheader","textAlign"],fO.propTypes={},fO.Content=dO,fO.Subheader=uO;const pO=fO;const mO=function(){const[e,t]=i.useState([]);return i.useEffect((()=>{$o.firestore().collection("posts").where("author.uid","==",$o.auth().currentUser.uid).get().then((e=>{const n=e.docs.map((e=>{const t=e.id;return{...e.data(),id:t}}));t(n)}))}),[]),(0,Ac.jsxs)(Ac.Fragment,{children:[(0,Ac.jsx)(pO,{children:"\u6211\u7684\u6587\u7ae0"}),(0,Ac.jsx)(Sv.Group,{children:e.map((e=>(0,Ac.jsx)(aO,{post:e},e.id)))})]})};const gO=function(){const[e,t]=i.useState([]);return i.useEffect((()=>{$o.firestore().collection("posts").where("collectedBy","array-contains",$o.auth().currentUser.uid).get().then((e=>{const n=e.docs.map((e=>{const t=e.id;return{...e.data(),id:t}}));t(n)}))}),[]),(0,Ac.jsxs)(Ac.Fragment,{children:[(0,Ac.jsx)(pO,{children:"\u6211\u7684\u6536\u85cf"}),(0,Ac.jsx)(Sv.Group,{children:e.map((e=>(0,Ac.jsx)(aO,{post:e},e.id)))})]})};function vO(e){var t=e.children,n=e.className,r=e.compact,s=e.content,o=e.horizontal,a=e.piled,c=e.raised,l=e.size,u=e.stacked,h=De("ui",l,Me(r,"compact"),Me(o,"horizontal"),Me(a,"piled"),Me(c,"raised"),Me(u,"stacked"),"segments",n),d=qe(vO,e),f=Ge(vO,e);return i.createElement(f,Pe({},d,{className:h}),pi(t)?s:t)}vO.handledProps=["as","children","className","compact","content","horizontal","piled","raised","size","stacked"],vO.propTypes={};const yO=vO;function wO(e){var t=e.children,n=e.className,r=e.content,s=De("inline",n),o=qe(wO,e),a=Ge(wO,e);return i.createElement(a,Pe({},o,{className:s}),pi(t)?r:t)}wO.handledProps=["as","children","className","content"],wO.propTypes={};const bO=wO;function _O(e){var t=e.attached,n=e.basic,r=e.children,s=e.circular,o=e.className,a=e.clearing,c=e.color,l=e.compact,u=e.content,h=e.disabled,d=e.floated,f=e.inverted,p=e.loading,m=e.placeholder,g=e.padded,v=e.piled,y=e.raised,w=e.secondary,b=e.size,_=e.stacked,E=e.tertiary,I=e.textAlign,S=e.vertical,T=De("ui",c,b,Me(n,"basic"),Me(s,"circular"),Me(a,"clearing"),Me(l,"compact"),Me(h,"disabled"),Me(f,"inverted"),Me(p,"loading"),Me(m,"placeholder"),Me(v,"piled"),Me(y,"raised"),Me(w,"secondary"),Me(_,"stacked"),Me(E,"tertiary"),Me(S,"vertical"),Ue(t,"attached"),Ue(g,"padded"),Ve(I),Fe(d,"floated"),"segment",o),k=qe(_O,e),C=Ge(_O,e);return i.createElement(C,Pe({},k,{className:T}),pi(r)?u:r)}_O.handledProps=["as","attached","basic","children","circular","className","clearing","color","compact","content","disabled","floated","inverted","loading","padded","piled","placeholder","raised","secondary","size","stacked","tertiary","textAlign","vertical"],_O.Group=yO,_O.Inline=bO,_O.propTypes={};const EO=_O,IO=dl.instance;var SO=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleButtonOverrides=function(e){return{onClick:function(n,r){ma(e,"onClick",n,r),ma(t.props,"onActionClick",n,r)}}},t}return Xo(t,e),t.prototype.render=function(){var e=this,n=this.props,r=n.actions,s=n.children,o=n.className,a=n.content,c=De("actions",o),l=qe(t,this.props),u=Ge(t,this.props);return pi(s)?pi(a)?i.createElement(u,Pe({},l,{className:c}),ea(r,(function(t){return Hl.create(t,{overrideProps:e.handleButtonOverrides})}))):i.createElement(u,Pe({},l,{className:c}),a):i.createElement(u,Pe({},l,{className:c}),s)},t}(i.Component);function TO(e){var t=e.children,n=e.className,r=e.content,s=e.image,o=e.scrolling,a=De(n,Me(s,"image"),Me(o,"scrolling"),"content"),c=qe(TO,e),l=Ge(TO,e);return i.createElement(l,Pe({},c,{className:a}),pi(t)?r:t)}SO.handledProps=["actions","as","children","className","content","onActionClick"],SO.propTypes={},SO.create=Vi(SO,(function(e){return{actions:e}})),TO.handledProps=["as","children","className","content","image","scrolling"],TO.propTypes={},TO.create=Vi(TO,(function(e){return{content:e}}));const kO=TO;function CO(e){var t=e.children,n=e.className,r=e.content,s=De("description",n),o=qe(CO,e),a=Ge(CO,e);return i.createElement(a,Pe({},o,{className:s}),pi(t)?r:t)}CO.handledProps=["as","children","className","content"],CO.propTypes={};const xO=CO;const NO=hl()?i.useLayoutEffect:i.useEffect;var AO=/\s+/;var PO=new Map,RO=function(e,t){var n=function(e){var t=[];return e?(e.forEach((function(e){"string"===typeof e.current&&e.current.split(AO).forEach((function(e){t.push(e)}))})),t.filter((function(e,t,n){return e.length>0&&n.indexOf(e)===t}))):[]}(t),r=function(e,t){return[t.filter((function(t){return-1===e.indexOf(t)})),e.filter((function(e){return-1===t.indexOf(e)}))]}(PO.get(e)||[],n),i=r[0],s=r[1];e&&(i.forEach((function(t){return e.classList.add(t)})),s.forEach((function(t){return e.classList.remove(t)}))),PO.set(e,n)},DO=new function(){var e=this;this.add=function(t,n){if(e.nodes.has(t)){e.nodes.get(t).add(n)}else{var r=new Set;r.add(n),e.nodes.set(t,r)}},this.del=function(t,n){if(e.nodes.has(t)){var r=e.nodes.get(t);1!==r.size?r.delete(n):e.nodes.delete(t)}},this.emit=function(t,n){n(t,e.nodes.get(t))},this.nodes=new Map};function OO(e){var t=e.blurring,n=e.children,r=e.className,s=e.centered,o=e.content,a=e.inverted,c=e.mountNode,l=e.scrolling,u=i.useRef(),h=De("ui",Me(a,"inverted"),Me(!s,"top aligned"),"page modals dimmer transition visible active",r),d=De("dimmable dimmed",Me(t,"blurring"),Me(l,"scrolling")),f=qe(OO,e),p=Ge(OO,e);return function(e,t){var n=i.useRef(),r=i.useRef(!1);NO((function(){if(n.current=t,r.current){var i=Lc(e)?e.current:e;DO.emit(i,RO)}r.current=!0}),[t]),NO((function(){var t=Lc(e)?e.current:e;return DO.add(t,n),DO.emit(t,RO),function(){DO.del(t,n),DO.emit(t,RO)}}),[e])}(c,d),i.useEffect((function(){u.current&&u.current.style&&u.current.style.setProperty("display","flex","important")}),[]),i.createElement(jc,{innerRef:u},i.createElement(p,Pe({},f,{className:h}),pi(n)?o:n))}OO.handledProps=["as","blurring","centered","children","className","content","inverted","mountNode","scrolling"],OO.propTypes={},OO.create=Vi(OO,(function(e){return{content:e}}));const LO=OO;function MO(e){var t=e.children,n=e.className,r=e.content,s=De("header",n),o=qe(MO,e),a=Ge(MO,e);return i.createElement(a,Pe({},o,{className:s}),pi(t)?r:t)}MO.handledProps=["as","children","className","content"],MO.propTypes={},MO.create=Vi(MO,(function(e){return{content:e}}));const FO=MO;var UO=function(e){function t(){for(var n,r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return(n=e.call.apply(e,[this].concat(s))||this).legacy=hl()&&!window.ActiveXObject&&"ActiveXObject"in window,n.ref=(0,i.createRef)(),n.dimmerRef=(0,i.createRef)(),n.latestDocumentMouseDownEvent=null,n.getMountNode=function(){return hl()?n.props.mountNode||document.body:null},n.handleActionsOverrides=function(e){return{onActionClick:function(t,r){ma(e,"onActionClick",t,r),ma(n.props,"onActionClick",t,n.props),n.handleClose(t)}}},n.handleClose=function(e){n.setState({open:!1}),ma(n.props,"onClose",e,Pe({},n.props,{open:!1}))},n.handleDocumentMouseDown=function(e){n.latestDocumentMouseDownEvent=e},n.handleDocumentClick=function(e){var t=n.props.closeOnDimmerClick,r=n.latestDocumentMouseDownEvent;n.latestDocumentMouseDownEvent=null,!t||_l(n.ref.current,r)||_l(n.ref.current,e)||(n.setState({open:!1}),ma(n.props,"onClose",e,Pe({},n.props,{open:!1})))},n.handleIconOverrides=function(e){return{onClick:function(t){ma(e,"onClick",t),n.handleClose(t)}}},n.handleOpen=function(e){ma(n.props,"onOpen",e,Pe({},n.props,{open:!0})),n.setState({open:!0})},n.handlePortalMount=function(e){var t=n.props.eventPool;n.setState({scrolling:!1}),n.setPositionAndClassNames(),IO.sub("mousedown",n.handleDocumentMouseDown,{pool:t,target:n.dimmerRef.current}),IO.sub("click",n.handleDocumentClick,{pool:t,target:n.dimmerRef.current}),ma(n.props,"onMount",e,n.props)},n.handlePortalUnmount=function(e){var t=n.props.eventPool;cancelAnimationFrame(n.animationRequestId),IO.unsub("mousedown",n.handleDocumentMouseDown,{pool:t,target:n.dimmerRef.current}),IO.unsub("click",n.handleDocumentClick,{pool:t,target:n.dimmerRef.current}),ma(n.props,"onUnmount",e,n.props)},n.setPositionAndClassNames=function(){var e,t=n.props.centered,r={};if(n.ref.current){var i=n.ref.current.getBoundingClientRect(),s=function(e){var t=e.height+0,n=e.height+0,r=window.innerHeight;return r/2+-n/2+t+50<r}(i);e=!s;var o=n.legacy?function(e,t,n){var r=t&&e?-n.height/2:0;return{marginLeft:-n.width/2,marginTop:r}}(s,t,i):{};$u()(n.state.legacyStyles,o)||(r.legacyStyles=o),n.state.scrolling!==e&&(r.scrolling=e)}_u(r)||n.setState(r),n.animationRequestId=requestAnimationFrame(n.setPositionAndClassNames)},n.renderContent=function(e){var r=n.props,s=r.actions,o=r.basic,a=r.children,c=r.className,l=r.closeIcon,u=r.content,h=r.header,d=r.size,f=r.style,p=n.state,m=p.legacyStyles,g=p.scrolling,v=De("ui",d,Me(o,"basic"),Me(n.legacy,"legacy"),Me(g,"scrolling"),"modal transition visible active",c),y=Ge(t,n.props),w=!0===l?"close":l,b=Sc.create(w,{overrideProps:n.handleIconOverrides});return i.createElement(jc,{innerRef:n.ref},i.createElement(y,Pe({},e,{className:v,style:Pe({},m,f)}),b,pi(a)?i.createElement(i.Fragment,null,FO.create(h,{autoGenerateKey:!1}),kO.create(u,{autoGenerateKey:!1}),SO.create(s,{overrideProps:n.handleActionsOverrides})):a))},n}Xo(t,e);var n=t.prototype;return n.componentWillUnmount=function(){this.handlePortalUnmount()},n.render=function(){var e=this.props,n=e.centered,r=e.closeOnDocumentClick,s=e.dimmer,o=e.eventPool,a=e.trigger,c=this.state,l=c.open,u=c.scrolling,h=this.getMountNode();if(!hl())return(0,i.isValidElement)(a)?a:null;var d=qe(t,this.props),f=Tl.handledProps,p=yh(d,(function(e,t,n){return tl(f,n)||(e[n]=t),e}),{}),m=Qu(d,f);return i.createElement(Tl,Pe({closeOnDocumentClick:r},m,{trigger:a,eventPool:o,mountNode:h,open:l,onClose:this.handleClose,onMount:this.handlePortalMount,onOpen:this.handleOpen,onUnmount:this.handlePortalUnmount}),i.createElement(jc,{innerRef:this.dimmerRef},LO.create(Oi(s)?s:{},{autoGenerateKey:!1,defaultProps:{blurring:"blurring"===s,inverted:"inverted"===s},overrideProps:{children:this.renderContent(p),centered:n,mountNode:h,scrolling:u}})))},t}(va);UO.handledProps=["actions","as","basic","centered","children","className","closeIcon","closeOnDimmerClick","closeOnDocumentClick","content","defaultOpen","dimmer","eventPool","header","mountNode","onActionClick","onClose","onMount","onOpen","onUnmount","open","size","style","trigger"],UO.propTypes={},UO.defaultProps={centered:!0,dimmer:!0,closeOnDimmerClick:!0,closeOnDocumentClick:!1,eventPool:"Modal"},UO.autoControlledProps=["open"],UO.Actions=SO,UO.Content=kO,UO.Description=xO,UO.Dimmer=LO,UO.Header=FO;const jO=UO;function VO(e){let{user:t}=e;const[n,r]=i.useState(!1),[s,o]=i.useState(""),[a,c]=i.useState(!1);return(0,Ac.jsxs)(Ac.Fragment,{children:[(0,Ac.jsxs)(pO,{size:"small",children:["\u6703\u54e1\u540d\u7a31",(0,Ac.jsx)(Hl,{floated:"right",onClick:()=>r(!0),children:"\u4fee\u6539"})]}),(0,Ac.jsx)(EO,{vertical:!0,children:t.displayName}),(0,Ac.jsxs)(jO,{open:n,size:"mini",children:[(0,Ac.jsx)(jO.Header,{children:"\u4fee\u6539\u6703\u54e1\u540d\u7a31"}),(0,Ac.jsx)(jO.Content,{children:(0,Ac.jsx)(Nh,{placeholder:"\u8f38\u5165\u65b0\u7684\u6703\u54e1\u540d\u7a31",value:s,onChange:e=>o(e.target.value),fluid:!0})}),(0,Ac.jsxs)(jO.Actions,{children:[(0,Ac.jsx)(Hl,{onClick:()=>r(!1),children:"\u53d6\u6d88"}),(0,Ac.jsx)(Hl,{onClick:function(){c(!0),t.updateProfile({displayName:s}).then((()=>{c(!1),o(""),r(!1)}))},loading:a,children:"\u4fee\u6539"})]})]})]})}function zO(e){let{user:t}=e;const[n,r]=i.useState(!1),[s,o]=i.useState(null),[a,c]=i.useState(!1),l=s?URL.createObjectURL(s):t.photoURL;return(0,Ac.jsxs)(Ac.Fragment,{children:[(0,Ac.jsxs)(pO,{size:"small",children:["\u6703\u54e1\u7167\u7247",(0,Ac.jsx)(Hl,{floated:"right",onClick:()=>r(!0),children:"\u4fee\u6539"})]}),(0,Ac.jsx)(EO,{vertical:!0,children:(0,Ac.jsx)(Dl,{src:t.photoURL,avatar:!0})}),(0,Ac.jsxs)(jO,{open:n,size:"mini",children:[(0,Ac.jsx)(jO.Header,{children:"\u4fee\u6539\u6703\u54e1\u7167\u7247"}),(0,Ac.jsxs)(jO.Content,{image:!0,children:[(0,Ac.jsx)(Dl,{avatar:!0,wrapped:!0,src:l}),(0,Ac.jsxs)(jO.Description,{children:[(0,Ac.jsx)(Hl,{as:"label",htmlFor:"post-image",children:"\u4e0a\u50b3"}),(0,Ac.jsx)(Nh,{type:"file",id:"post-image",style:{display:"none"},onChange:e=>o(e.target.files[0])})]})]}),(0,Ac.jsxs)(jO.Actions,{children:[(0,Ac.jsx)(Hl,{onClick:()=>r(!1),children:"\u53d6\u6d88"}),(0,Ac.jsx)(Hl,{onClick:function(e){c(!0);const n=$o.storage().ref("user-photos/"+t.uid),i={contentType:s.type};n.put(s,i).then((()=>{n.getDownloadURL().then((e=>{t.updateProfile({photoURL:e}).then((e=>{c(!1),o(null),r(!1)}))}))}))},loading:a,children:"\u4fee\u6539"})]})]})]})}function BO(e){let{user:t}=e;const[n,r]=i.useState(!1),[s,o]=i.useState(""),[a,c]=i.useState(""),[l,u]=i.useState(!1);return(0,Ac.jsxs)(Ac.Fragment,{children:[(0,Ac.jsxs)(pO,{size:"small",children:["\u6703\u54e1\u5bc6\u78bc",(0,Ac.jsx)(Hl,{floated:"right",onClick:()=>r(!0),children:"\u4fee\u6539"})]}),(0,Ac.jsx)(EO,{vertical:!0,children:"******"}),(0,Ac.jsxs)(jO,{open:n,size:"mini",children:[(0,Ac.jsx)(jO.Header,{children:"\u4fee\u6539\u6703\u54e1\u5bc6\u78bc"}),(0,Ac.jsxs)(jO.Content,{children:[(0,Ac.jsx)(pO,{size:"small",children:"\u76ee\u524d\u5bc6\u78bc"}),(0,Ac.jsx)(Nh,{placeholder:"\u8f38\u5165\u820a\u5bc6\u78bc",value:s,onChange:e=>o(e.target.value),fluid:!0}),(0,Ac.jsx)(pO,{size:"small",children:"\u65b0\u5bc6\u78bc"}),(0,Ac.jsx)(Nh,{placeholder:"\u8f38\u5165\u820a\u5bc6\u78bc",value:s,onChange:e=>o(e.target.value),fluid:!0})]}),(0,Ac.jsxs)(jO.Actions,{children:[(0,Ac.jsx)(Hl,{onClick:()=>r(!1),children:"\u53d6\u6d88"}),(0,Ac.jsx)(Hl,{onClick:function(){const e=$o.auth.EmailAuthProvider.credential(t.email,s);t.reauthenticateWithCredential(e).then((()=>{t.updatePassword(a).then((()=>{r(!1),o(""),c(""),u(!1)}))})),u(!0)},loading:l,children:"\u4fee\u6539"})]})]})]})}const qO=function(e){let{user:t}=e;return(0,Ac.jsxs)(Ac.Fragment,{children:[(0,Ac.jsx)(pO,{children:"\u6703\u54e1\u8cc7\u6599"}),(0,Ac.jsx)(VO,{user:t}),(0,Ac.jsx)(zO,{user:t}),(0,Ac.jsx)(BO,{user:t})]})},GO="firebasestorage.googleapis.com",KO="storageBucket";class HO extends gs{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(YO(e),"Firebase Storage: ".concat(t," (").concat(YO(e),")")),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,HO.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return YO(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}var WO,QO;function YO(e){return"storage/"+e}function $O(){return new HO(WO.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function JO(){return new HO(WO.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function XO(){return new HO(WO.CANCELED,"User canceled the upload/download.")}function ZO(){return new HO(WO.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function eL(e){return new HO(WO.INVALID_ARGUMENT,e)}function tL(){return new HO(WO.APP_DELETED,"The Firebase app was deleted.")}function nL(e){return new HO(WO.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function rL(e,t){return new HO(WO.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function iL(e){throw new HO(WO.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(WO||(WO={}));class sL{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=sL.makeFromUrl(e,t)}catch(wF){return new sL(e,"")}if(""===n.path)return n;throw r=e,new HO(WO.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const i=new RegExp("^gs://"+r+"(/(.*))?$","i");function s(e){e.path_=decodeURIComponent(e.path)}const o=t.replace(/[.]/g,"\\."),a=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(o,"/").concat("v[A-Za-z0-9_]+","/b/").concat(r,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:s},{regex:new RegExp("^https?://".concat(t===GO?"(?:storage.googleapis.com|storage.cloud.google.com)":t,"/").concat(r,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:s}];for(let c=0;c<a.length;c++){const t=a[c],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let i=r[t.indices.path];i||(i=""),n=new sL(e,i),t.postModify(n);break}}if(null==n)throw function(e){return new HO(WO.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class oL{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function aL(e){return"string"===typeof e||e instanceof String}function cL(e){return lL()&&e instanceof Blob}function lL(){return"undefined"!==typeof Blob}function uL(e,t,n,r){if(r<t)throw eL("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw eL("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function hL(e,t,n){let r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function dL(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function fL(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(QO||(QO={}));class pL{constructor(e,t,n,r,i,s,o,a,c,l,u){let h=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=s,this.callback_=o,this.errorCallback_=a,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=u,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()}))}start_(){const e=(e,t)=>{if(t)return void e(!1,new mL(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then((()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===QO.NO_ERROR,i=n.getStatus();if(!t||fL(i,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===QO.ABORT;return void e(!1,new mL(!1,null,t))}const s=-1!==this.successCodes_.indexOf(i);e(!0,new mL(s,n))}))},t=(e,t)=>{const n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(i,i.getResponse());!function(e){return void 0!==e}(e)?n():n(e)}catch(wF){r(wF)}else if(null!==i){const e=$O();e.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,e)):r(e)}else if(t.canceled){r(this.appDelete_?tL():XO())}else{r(JO())}};this.canceled_?t(0,new mL(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,i=null,s=null,o=!1,a=0;function c(){return 2===a}let l=!1;function u(){if(!l){l=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function h(t){i=setTimeout((()=>{i=null,e(f,c())}),t)}function d(){s&&clearTimeout(s)}function f(e){if(l)return void d();for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return d(),void u.call(null,e,...n);if(c()||o)return d(),void u.call(null,e,...n);let s;r<64&&(r*=2),1===a?(a=2,s=0):s=1e3*(r+Math.random()),h(s)}let p=!1;function m(e){p||(p=!0,d(),l||(null!==i?(e||(a=2),clearTimeout(i),h(0)):e||(a=1)))}return h(0),s=setTimeout((()=>{o=!0,m(!0)}),n),m}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class mL{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function gL(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function vL(){const e=gL();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){const t=new e;for(let e=0;e<n.length;e++)t.append(n[e]);return t.getBlob()}if(lL())return new Blob(n);throw new HO(WO.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function yL(e){if("undefined"===typeof atob)throw t="base-64",new HO(WO.UNSUPPORTED_ENVIRONMENT,"".concat(t," is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information."));var t;return atob(e)}const wL={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class bL{constructor(e,t){this.data=e,this.contentType=t||null}}function _L(e,t){switch(e){case wL.RAW:return new bL(EL(t));case wL.BASE64:case wL.BASE64URL:return new bL(IL(e,t));case wL.DATA_URL:return new bL(function(e){const t=new SL(e);return t.base64?IL(wL.BASE64,t.rest):function(e){let t;try{t=decodeURIComponent(e)}catch(wF){throw rL(wL.DATA_URL,"Malformed data URL.")}return EL(t)}(t.rest)}(t),new SL(t).contentType)}throw $O()}function EL(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r)){if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1))){r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else t.push(239,191,189)}else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function IL(e,t){switch(e){case wL.BASE64:{const n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r){throw rL(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?")}break}case wL.BASE64URL:{const n=-1!==t.indexOf("+"),r=-1!==t.indexOf("/");if(n||r){throw rL(e,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=yL(t)}catch(wF){if(wF.message.includes("polyfill"))throw wF;throw rL(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class SL{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw rL(wL.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;null!=n&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}class TL{constructor(e,t){let n=0,r="";cL(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(cL(this.data_)){const n=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,e,t);return null===n?null:new TL(n)}{const n=new Uint8Array(this.data_.buffer,e,t-e);return new TL(n,!0)}}static getBlob(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(lL()){const e=t.map((e=>e instanceof TL?e.data_:e));return new TL(vL.apply(null,e))}{const e=t.map((e=>aL(e)?_L(wL.RAW,e).data:e.data_));let n=0;e.forEach((e=>{n+=e.byteLength}));const r=new Uint8Array(n);let i=0;return e.forEach((e=>{for(let t=0;t<e.length;t++)r[i++]=e[t]})),new TL(r,!0)}}uploadData(){return this.data_}}function kL(e){let t;try{t=JSON.parse(e)}catch(wF){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function CL(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function xL(e,t){return t}class NL{constructor(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||xL}}let AL=null;function PL(){if(AL)return AL;const e=[];e.push(new NL("bucket")),e.push(new NL("generation")),e.push(new NL("metageneration")),e.push(new NL("name","fullPath",!0));const t=new NL("name");t.xform=function(e,t){return function(e){return!aL(e)||e.length<2?e:CL(e)}(t)},e.push(t);const n=new NL("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new NL("timeCreated")),e.push(new NL("updated")),e.push(new NL("md5Hash",null,!0)),e.push(new NL("cacheControl",null,!0)),e.push(new NL("contentDisposition",null,!0)),e.push(new NL("contentEncoding",null,!0)),e.push(new NL("contentLanguage",null,!0)),e.push(new NL("contentType",null,!0)),e.push(new NL("metadata","customMetadata",!0)),AL=e,AL}function RL(e,t,n){const r={type:"file"},i=n.length;for(let s=0;s<i;s++){const e=n[s];r[e.local]=e.xform(r,t[e.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){const n=e.bucket,r=e.fullPath,i=new sL(n,r);return t._makeStorageReference(i)}})}(r,e),r}function DL(e,t,n){const r=kL(t);if(null===r)return null;return RL(e,r,n)}function OL(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const r=t[i];r.writable&&(n[r.server]=e[r.local])}return JSON.stringify(n)}const LL="prefixes",ML="items";function FL(e,t,n){const r=kL(n);if(null===r)return null;return function(e,t,n){const r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[LL])for(const i of n[LL]){const n=i.replace(/\/$/,""),s=e._makeStorageReference(new sL(t,n));r.prefixes.push(s)}if(n[ML])for(const i of n[ML]){const n=e._makeStorageReference(new sL(t,i.name));r.items.push(n)}return r}(e,t,r)}class UL{constructor(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function jL(e){if(!e)throw $O()}function VL(e,t){return function(n,r){const i=DL(e,r,t);return jL(null!==i),i}}function zL(e,t){return function(n,r){const i=DL(e,r,t);return jL(null!==i),function(e,t,n,r){const i=kL(t);if(null===i)return null;if(!aL(i.downloadTokens))return null;const s=i.downloadTokens;if(0===s.length)return null;const o=encodeURIComponent;return s.split(",").map((t=>{const i=e.bucket,s=e.fullPath;return hL("/b/"+o(i)+"/o/"+o(s),n,r)+dL({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function BL(e){return function(t,n){let r;var i,s;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new HO(WO.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new HO(WO.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(s=e.bucket,r=new HO(WO.QUOTA_EXCEEDED,"Quota for bucket '"+s+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new HO(WO.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function qL(e){const t=BL(e);return function(n,r){let i=t(n,r);var s;return 404===n.getStatus()&&(s=e.path,i=new HO(WO.OBJECT_NOT_FOUND,"Object '"+s+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function GL(e,t,n){const r=hL(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,s=new UL(r,"GET",VL(e,n),i);return s.errorHandler=qL(t),s}function KL(e,t,n,r,i){const s={};t.isRoot?s.prefix="":s.prefix=t.path+"/",n&&n.length>0&&(s.delimiter=n),r&&(s.pageToken=r),i&&(s.maxResults=i);const o=hL(t.bucketOnlyServerUrl(),e.host,e._protocol),a=e.maxOperationRetryTime,c=new UL(o,"GET",function(e,t){return function(n,r){const i=FL(e,t,r);return jL(null!==i),i}}(e,t.bucket),a);return c.urlParams=s,c.errorHandler=BL(t),c}function HL(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function WL(e,t,n,r,i){const s=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};const a=function(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+a;const c=HL(t,r,i),l="--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+OL(c,n)+"\r\n--"+a+"\r\nContent-Type: "+c.contentType+"\r\n\r\n",u="\r\n--"+a+"--",h=TL.getBlob(l,r,u);if(null===h)throw ZO();const d={name:c.fullPath},f=hL(s,e.host,e._protocol),p=e.maxUploadRetryTime,m=new UL(f,"POST",VL(e,n),p);return m.urlParams=d,m.headers=o,m.body=h.uploadData(),m.errorHandler=BL(t),m}class QL{constructor(e,t,n,r){this.current=e,this.total=t,this.finalized=!!n,this.metadata=r||null}}function YL(e,t){let n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(wF){jL(!1)}return jL(!!n&&-1!==(t||["active"]).indexOf(n)),n}const $L=262144;function JL(e,t,n,r,i,s,o,a){const c=new QL(0,0);if(o?(c.current=o.current,c.total=o.total):(c.current=0,c.total=r.size()),r.size()!==c.total)throw new HO(WO.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.");const l=c.total-c.current;let u=l;i>0&&(u=Math.min(u,i));const h=c.current,d=h+u;let f="";f=0===u?"finalize":l===u?"upload, finalize":"upload";const p={"X-Goog-Upload-Command":f,"X-Goog-Upload-Offset":"".concat(c.current)},m=r.slice(h,d);if(null===m)throw ZO();const g=t.maxUploadRetryTime,v=new UL(n,"POST",(function(e,n){const i=YL(e,["active","final"]),o=c.current+u,a=r.size();let l;return l="final"===i?VL(t,s)(e,n):null,new QL(o,a,"final"===i,l)}),g);return v.headers=p,v.body=m.uploadData(),v.progressCallback=a||null,v.errorHandler=BL(e),v}const XL={STATE_CHANGED:"state_changed"},ZL={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function eM(e){switch(e){case"running":case"pausing":case"canceling":return ZL.RUNNING;case"paused":return ZL.PAUSED;case"success":return ZL.SUCCESS;case"canceled":return ZL.CANCELED;default:return ZL.ERROR}}class tM{constructor(e,t,n){const r=function(e){return"function"===typeof e}(e)||null!=t||null!=n;if(r)this.next=e,this.error=null!==t&&void 0!==t?t:void 0,this.complete=null!==n&&void 0!==n?n:void 0;else{const t=e;this.next=t.next,this.error=t.error,this.complete=t.complete}}}function nM(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Promise.resolve().then((()=>e(...n)))}}let rM=null;class iM{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=QO.NO_ERROR,this.sendPromise_=new Promise((e=>{this.xhr_.addEventListener("abort",(()=>{this.errorCode_=QO.ABORT,e()})),this.xhr_.addEventListener("error",(()=>{this.errorCode_=QO.NETWORK_ERROR,e()})),this.xhr_.addEventListener("load",(()=>{e()}))}))}send(e,t,n,r){if(this.sent_)throw iL("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw iL("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw iL("cannot .getStatus() before sending");try{return this.xhr_.status}catch(wF){return-1}}getResponse(){if(!this.sent_)throw iL("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw iL("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class sM extends iM{initXhr(){this.xhr_.responseType="text"}}function oM(){return rM?rM():new sM}class aM{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=n,this._mappings=PL(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=e=>{if(this._request=void 0,this._chunkMultiplier=1,e._codeEquals(WO.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const t=this.isExponentialBackoffExpired();if(fL(e.status,[])){if(!t)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();e=JO()}this._error=e,this._transition("error")}},this._metadataErrorHandler=e=>{this._request=void 0,e._codeEquals(WO.CANCELED)?this.completeTransitions_():(this._error=e,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise(((e,t)=>{this._resolve=e,this._reject=t,this._start()})),this._promise.then(null,(()=>{}))}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout((()=>{this.pendingTimeout=void 0,this._continueUpload()}),this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((t=>{let[n,r]=t;switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}}))}_createResumable(){this._resolveToken(((e,t)=>{const n=function(e,t,n,r,i){const s=t.bucketOnlyServerUrl(),o=HL(t,r,i),a={name:o.fullPath},c=hL(s,e.host,e._protocol),l={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":"".concat(r.size()),"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},u=OL(o,n),h=e.maxUploadRetryTime,d=new UL(c,"POST",(function(e){let t;YL(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(wF){jL(!1)}return jL(aL(t)),t}),h);return d.urlParams=a,d.headers=l,d.body=u,d.errorHandler=BL(t),d}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(n,oM,e,t);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._uploadUrl=e,this._needToFetchStatus=!1,this.completeTransitions_()}),this._errorHandler)}))}_fetchStatus(){const e=this._uploadUrl;this._resolveToken(((t,n)=>{const r=function(e,t,n,r){const i=e.maxUploadRetryTime,s=new UL(n,"POST",(function(e){const t=YL(e,["active","final"]);let n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(wF){jL(!1)}n||jL(!1);const i=Number(n);return jL(!isNaN(i)),new QL(i,r.size(),"final"===t)}),i);return s.headers={"X-Goog-Upload-Command":"query"},s.errorHandler=BL(t),s}(this._ref.storage,this._ref._location,e,this._blob),i=this._ref.storage._makeRequest(r,oM,t,n);this._request=i,i.getPromise().then((e=>{this._request=void 0,this._updateProgress(e.current),this._needToFetchStatus=!1,e.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()}),this._errorHandler)}))}_continueUpload(){const e=$L*this._chunkMultiplier,t=new QL(this._transferred,this._blob.size()),n=this._uploadUrl;this._resolveToken(((r,i)=>{let s;try{s=JL(this._ref._location,this._ref.storage,n,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(wF){return this._error=wF,void this._transition("error")}const o=this._ref.storage._makeRequest(s,oM,r,i,!1);this._request=o,o.getPromise().then((e=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(e.current),e.finalized?(this._metadata=e.metadata,this._transition("success")):this.completeTransitions_()}),this._errorHandler)}))}_increaseMultiplier(){2*($L*this._chunkMultiplier)<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken(((e,t)=>{const n=GL(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(n,oM,e,t);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._metadata=e,this._transition("success")}),this._metadataErrorHandler)}))}_oneShotUpload(){this._resolveToken(((e,t)=>{const n=WL(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(n,oM,e,t);this._request=r,r.getPromise().then((e=>{this._request=void 0,this._metadata=e,this._updateProgress(this._blob.size()),this._transition("success")}),this._errorHandler)}))}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=XO(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=eM(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,n,r){const i=new tM(t||void 0,n||void 0,r||void 0);return this._addObserver(i),()=>{this._removeObserver(i)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise();this._observers.slice().forEach((e=>{this._notifyObserver(e)}))}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(eM(this._state)){case ZL.SUCCESS:nM(this._resolve.bind(null,this.snapshot))();break;case ZL.CANCELED:case ZL.ERROR:nM(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(eM(this._state)){case ZL.RUNNING:case ZL.PAUSED:e.next&&nM(e.next.bind(e,this.snapshot))();break;case ZL.SUCCESS:e.complete&&nM(e.complete.bind(e))();break;default:e.error&&nM(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class cM{constructor(e,t){this._service=e,this._location=t instanceof sL?t:sL.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new cM(e,t)}get root(){const e=new sL(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return CL(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new sL(this._location.bucket,e);return new cM(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw nL(e)}}function lM(e){const t={prefixes:[],items:[]};return uM(e,t).then((()=>t))}async function uM(e,t,n){const r={pageToken:n},i=await hM(e,r);t.prefixes.push(...i.prefixes),t.items.push(...i.items),null!=i.nextPageToken&&await uM(e,t,i.nextPageToken)}function hM(e,t){null!=t&&"number"===typeof t.maxResults&&uL("options.maxResults",1,1e3,t.maxResults);const n=t||{},r=KL(e.storage,e._location,"/",n.pageToken,n.maxResults);return e.storage.makeRequestWithTokens(r,oM)}function dM(e,t){e._throwIfRoot("updateMetadata");const n=function(e,t,n,r){const i=hL(t.fullServerUrl(),e.host,e._protocol),s=OL(n,r),o=e.maxOperationRetryTime,a=new UL(i,"PATCH",VL(e,r),o);return a.headers={"Content-Type":"application/json; charset=utf-8"},a.body=s,a.errorHandler=qL(t),a}(e.storage,e._location,t,PL());return e.storage.makeRequestWithTokens(n,oM)}function fM(e){e._throwIfRoot("getDownloadURL");const t=function(e,t,n){const r=hL(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,s=new UL(r,"GET",zL(e,n),i);return s.errorHandler=qL(t),s}(e.storage,e._location,PL());return e.storage.makeRequestWithTokens(t,oM).then((e=>{if(null===e)throw new HO(WO.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e}))}function pM(e){e._throwIfRoot("deleteObject");const t=function(e,t){const n=hL(t.fullServerUrl(),e.host,e._protocol),r=e.maxOperationRetryTime,i=new UL(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=qL(t),i}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,oM)}function mM(e,t){const n=function(e,t){const n=t.split("/").filter((e=>e.length>0)).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new sL(e._location.bucket,n);return new cM(e.storage,r)}function gM(e,t){if(e instanceof wM){const n=e;if(null==n._bucket)throw new HO(WO.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+KO+"' property when initializing the app?");const r=new cM(n,n._bucket);return null!=t?gM(r,t):r}return void 0!==t?mM(e,t):e}function vM(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof wM)return new cM(e,t);throw eL("To use ref(service, url), the first argument must be a Storage instance.")}return gM(e,t)}function yM(e,t){const n=null===t||void 0===t?void 0:t[KO];return null==n?null:sL.makeFromBucketSpec(n,e)}class wM{constructor(e,t,n,r,i){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=GO,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?sL.makeFromBucketSpec(r,this._host):yM(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=sL.makeFromBucketSpec(this._url,e):this._bucket=yM(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){uL("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){uL("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach((e=>e.cancel())),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new cM(this,e)}_makeRequest(e,t,n,r){let i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new oL(tL());{const s=function(e,t,n,r,i,s){let o=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];const a=dL(e.urlParams),c=e.url+a,l=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(l,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(l,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(l,s),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(l,r),new pL(c,e.method,l,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o)}(e,this._appId,n,r,t,this._firebaseVersion,i);return this._requests.add(s),s.getPromise().then((()=>this._requests.delete(s)),(()=>this._requests.delete(s))),s}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const bM="@firebase/storage",_M="0.12.3",EM="storage";function IM(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new aM(e,new TL(t),n)}(e=xs(e),t,n)}function SM(e){return function(e){e._throwIfRoot("getMetadata");const t=GL(e.storage,e._location,PL());return e.storage.makeRequestWithTokens(t,oM)}(e=xs(e))}function TM(e,t){return vM(e=xs(e),t)}function kM(e,t,n){!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken="string"===typeof i?i:as(i,e.app.options.projectId))}(e,t,n,arguments.length>3&&void 0!==arguments[3]?arguments[3]:{})}function CM(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return new wM(r,i,s,n,So)}mo(new Ns(EM,CM,"PUBLIC").setMultipleInstances(!0)),Ao(bM,_M,""),Ao(bM,_M,"esm2017");class xM{constructor(e,t,n){this._delegate=e,this.task=t,this.ref=n}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class NM{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new xM(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then((t=>{if(e)return e(new xM(t,this,this._ref))}),t)}on(e,t,n,r){let i;return t&&(i="function"===typeof t?e=>t(new xM(e,this,this._ref)):{next:t.next?e=>t.next(new xM(e,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,i,n||void 0,r||void 0)}}class AM{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map((e=>new PM(e,this._service)))}get items(){return this._delegate.items.map((e=>new PM(e,this._service)))}get nextPageToken(){return this._delegate.nextPageToken||null}}class PM{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function(e,t){return mM(e,t)}(this._delegate,e);return new PM(t,this.storage)}get root(){return new PM(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new PM(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new NM(IM(this._delegate,e,t),this)}putString(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:wL.RAW,n=arguments.length>2?arguments[2]:void 0;this._throwIfRoot("putString");const r=_L(t,e),i=Object.assign({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new NM(new aM(this._delegate,new TL(r.data,!0),i),this)}listAll(){return function(e){return lM(e=xs(e))}(this._delegate).then((e=>new AM(e,this.storage)))}list(e){return function(e,t){return hM(e=xs(e),t)}(this._delegate,e||void 0).then((e=>new AM(e,this.storage)))}getMetadata(){return SM(this._delegate)}updateMetadata(e){return function(e,t){return dM(e=xs(e),t)}(this._delegate,e)}getDownloadURL(){return function(e){return fM(e=xs(e))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function(e){return pM(e=xs(e))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw nL(e)}}class RM{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(DM(e))throw eL("ref() expected a child path but got a URL, use refFromURL instead.");return new PM(TM(this._delegate,e),this)}refFromURL(e){if(!DM(e))throw eL("refFromURL() expected a full URL but got a child path, use ref() instead.");try{sL.makeFromUrl(e,this._delegate.host)}catch(wF){throw eL("refFromUrl() expected a valid full URL but got an invalid one.")}return new PM(TM(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};kM(this._delegate,e,t,n)}}function DM(e){return/^[A-Za-z]+:\/\//.test(e)}function OM(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("storage").getImmediate({identifier:n});return new RM(r,i)}!function(e){const t={TaskState:ZL,TaskEvent:XL,StringFormat:wL,Storage:RM,Reference:PM};e.INTERNAL.registerComponent(new Ns("storage-compat",OM,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage-compat","0.3.6")}(Yo);const LM=function(){const e=ee(),[t,n]=i.useState(""),[r,s]=i.useState(""),[o,a]=i.useState([]),[c,l]=i.useState(""),[u,h]=i.useState(""),[d,f]=i.useState(!1);i.useEffect((()=>{$o.firestore().collection("topics").get().then((e=>{const t=e.docs.map((e=>e.data()));a(t)}))}),[]);const p=o.map((e=>({text:e.name,value:e.name}))),m=u?URL.createObjectURL(u):"https://react.semantic-ui.com/images/wireframe/image.png";return(0,Ac.jsxs)(gi,{children:[(0,Ac.jsx)(pO,{children:"\u767c\u8868\u6587\u7ae0"}),(0,Ac.jsxs)(qh,{onSubmit:function(){f(!0);const n=$o.firestore().collection("posts").doc(),i=$o.storage().ref("post-images/"+n.id),s={contentType:u.type};i.put(u,s).then((()=>{i.getDownloadURL().then((i=>{n.set({title:t,content:r,topic:c,createdAt:$o.firestore.Timestamp.now(),author:{displayName:$o.auth().currentUser.displayName||"",photoURL:$o.auth().currentUser.photoURL||"",uid:$o.auth().currentUser.uid,email:$o.auth().currentUser.email},imageUrl:i}).then((t=>{f(!1),e("/")}))}))}))},children:[(0,Ac.jsx)(Dl,{src:m,size:"medium",floated:"left"}),(0,Ac.jsx)(Hl,{basic:!0,as:"label",htmlFor:"post-image",children:"\u4e0a\u50b3\u6587\u7ae0\u5716\u7247"}),(0,Ac.jsx)(qh.Input,{type:"file",id:"post-image",style:{display:"none"},onChange:e=>h(e.target.files[0])}),(0,Ac.jsx)(qh.Input,{placeholder:"\u8f38\u5165\u6587\u7ae0\u6a19\u984c",value:t,onChange:e=>n(e.target.value)}),(0,Ac.jsx)(qh.TextArea,{placeholder:"\u8f38\u5165\u6587\u7ae0\u5167\u5bb9",value:r,onChange:e=>s(e.target.value)}),(0,Ac.jsx)(qh.Dropdown,{placeholder:"\u9078\u64c7\u6587\u7ae0\u4e3b\u984c",options:p,selection:!0,value:c,onChange:(e,t)=>{let{value:n}=t;return l(n)}}),(0,Ac.jsx)(qh.Button,{loading:d,children:"\u9001\u51fa"})]})]})};function MM(e){var t=e.active,n=e.className,r=e.children,s=e.content,o=De(Me(t,"active"),n),a=qe(MM,e),c=Ge(MM,e);return i.createElement(c,Pe({},a,{className:o}),pi(r)?s:r)}MM.handledProps=["active","as","children","className","content"],MM.defaultProps={as:"a"},MM.propTypes={};const FM=MM;function UM(e){var t=e.className,n=e.children,r=e.content,s=De("actions",t),o=qe(UM,e),a=Ge(UM,e);return i.createElement(a,Pe({},o,{className:s}),pi(n)?r:n)}UM.handledProps=["as","children","className","content"],UM.propTypes={};const jM=UM;function VM(e){var t=e.className,n=e.children,r=e.content,s=De("author",t),o=qe(VM,e),a=Ge(VM,e);return i.createElement(a,Pe({},o,{className:s}),pi(n)?r:n)}VM.handledProps=["as","children","className","content"],VM.propTypes={};const zM=VM;function BM(e){var t=e.className,n=e.src,r=De("avatar",t),s=qe(BM,e),o=cl(s,{htmlProps:al}),a=o[0],c=o[1],l=Ge(BM,e);return i.createElement(l,Pe({},c,{className:r}),zi(n,{autoGenerateKey:!1,defaultProps:a}))}BM.handledProps=["as","className","src"],BM.propTypes={};const qM=BM;function GM(e){var t=e.className,n=e.children,r=e.content,s=De(t,"content"),o=qe(GM,e),a=Ge(GM,e);return i.createElement(a,Pe({},o,{className:s}),pi(n)?r:n)}GM.handledProps=["as","children","className","content"],GM.propTypes={};const KM=GM;function HM(e){var t=e.className,n=e.children,r=e.collapsed,s=e.content,o=e.minimal,a=e.size,c=e.threaded,l=De("ui",a,Me(r,"collapsed"),Me(o,"minimal"),Me(c,"threaded"),"comments",t),u=qe(HM,e),h=Ge(HM,e);return i.createElement(h,Pe({},u,{className:l}),pi(n)?s:n)}HM.handledProps=["as","children","className","collapsed","content","minimal","size","threaded"],HM.propTypes={};const WM=HM;function QM(e){var t=e.className,n=e.children,r=e.content,s=De("metadata",t),o=qe(QM,e),a=Ge(QM,e);return i.createElement(a,Pe({},o,{className:s}),pi(n)?r:n)}QM.handledProps=["as","children","className","content"],QM.propTypes={};const YM=QM;function $M(e){var t=e.className,n=e.children,r=e.content,s=De(t,"text"),o=qe($M,e),a=Ge($M,e);return i.createElement(a,Pe({},o,{className:s}),pi(n)?r:n)}$M.handledProps=["as","children","className","content"],$M.propTypes={};const JM=$M;function XM(e){var t=e.className,n=e.children,r=e.collapsed,s=e.content,o=De(Me(r,"collapsed"),"comment",t),a=qe(XM,e),c=Ge(XM,e);return i.createElement(c,Pe({},a,{className:o}),pi(n)?s:n)}XM.handledProps=["as","children","className","collapsed","content"],XM.propTypes={},XM.Author=zM,XM.Action=FM,XM.Actions=jM,XM.Avatar=qM,XM.Content=KM,XM.Group=WM,XM.Metadata=YM,XM.Text=JM;const ZM=XM;const eF=function(e){var t,n,r,s,o,a;let{user:c}=e;const{postId:l}=function(){let{matches:e}=i.useContext(Y),t=e[e.length-1];return t?t.params:{}}(),[u,h]=i.useState({author:{}}),[d,f]=i.useState(""),[p,m]=i.useState(!1),[g,v]=i.useState([]),[y,w]=i.useState(!1);function b(e,t){var n;const r=null===(n=$o.auth().currentUser)||void 0===n?void 0:n.uid;r?(w(!0),e?$o.firestore().collection("posts").doc(l).update({[t]:$o.firestore.FieldValue.arrayRemove(r)}):$o.firestore().collection("posts").doc(l).update({[t]:$o.firestore.FieldValue.arrayUnion(r)})):w(!1)}i.useEffect((()=>{c&&w(!0),$o.firestore().collection("posts").doc(l).onSnapshot((e=>{const t=e.data();h(t)}))}),[]),i.useEffect((()=>{$o.firestore().collection("posts").doc(l).collection("comments").orderBy("createdAt").onSnapshot((e=>{const t=e.docs.map((e=>{const t=e.id;return{...e.data(),id:t}}));v(t)}))}),[]);const _=null===(t=u.collectedBy)||void 0===t?void 0:t.includes(null===(n=$o.auth().currentUser)||void 0===n?void 0:n.uid),E=null===(r=u.likedBy)||void 0===r?void 0:r.includes(null===(s=$o.auth().currentUser)||void 0===s?void 0:s.uid);return(0,Ac.jsxs)(Ac.Fragment,{children:[u.author.photoURL?(0,Ac.jsx)(Dl,{avatar:!0,src:u.author.photoURL}):(0,Ac.jsx)(Sc,{name:"user circle"}),u.author.displayName||"\u4f7f\u7528\u8005",(0,Ac.jsxs)(pO,{children:[u.title,(0,Ac.jsxs)(pO.Subheader,{children:[u.topic,"\uff0e",null===(o=u.createdAt)||void 0===o?void 0:o.toDate().toLocaleDateString()]})]}),(0,Ac.jsx)(Dl,{src:u.imageUrl}),(0,Ac.jsx)(EO,{basic:!0,vertical:!0,children:u.content}),(0,Ac.jsxs)(EO,{basic:!0,vertical:!0,children:["\u7559\u8a00 ",u.commentsCount||0,"\uff0e\u8b9a ",(null===(a=u.likedBy)||void 0===a?void 0:a.length)||0,"\uff0e",(0,Ac.jsx)(Sc,{name:"thumbs up ".concat(E?"":"outline"),color:E?"blue":"grey",link:y,onClick:()=>b(E,"likedBy")}),"\uff0e",(0,Ac.jsx)(Sc,{name:"bookmark ".concat(_?"":"outline"),color:_?"orange":"grey",link:y,onClick:()=>b(_,"collectedBy")})]}),(0,Ac.jsxs)(ZM.Group,{children:[(0,Ac.jsxs)(qh,{reply:!0,children:[(0,Ac.jsx)(qh.TextArea,{value:d,onChange:e=>f(e.target.value)}),(0,Ac.jsx)(qh.Button,{onClick:function(){var e,t,n;m(!0);const r=$o.firestore(),i=r.batch(),s=r.collection("posts").doc(l);i.update(s,{commentsCount:$o.firestore.FieldValue.increment(1)});const o=s.collection("comments").doc();i.set(o,{content:d,createdAt:$o.firestore.Timestamp.now(),author:{uid:(null===(e=$o.auth().currentUser)||void 0===e?void 0:e.uid)||"",displayName:(null===(t=$o.auth().currentUser)||void 0===t?void 0:t.displayName)||"",photoURL:(null===(n=$o.auth().currentUser)||void 0===n?void 0:n.photoURL)||""}}),i.commit().then((()=>{f(""),m(!1)}))},loading:p,children:"\u7559\u8a00"})]}),(0,Ac.jsxs)(pO,{children:["\u5171 ",u.commentsCount||0," \u7bc7\u7559\u8a00"]}),g.map((e=>(0,Ac.jsxs)(ZM,{children:[(0,Ac.jsx)(ZM.Avatar,{src:e.author.photoURL}),(0,Ac.jsxs)(ZM.Content,{children:[(0,Ac.jsx)(ZM.Author,{as:"span",children:e.author.displayName||"\u4f7f\u7528\u8005"}),(0,Ac.jsx)(ZM.Metadata,{children:e.createdAt.toDate().toLocaleString()}),(0,Ac.jsx)(ZM.Text,{children:e.content})]})]},e.id)))]})]})};function tF(e){var t=e.children,n=e.className,r=e.content,s=De(n,"description"),o=qe(tF,e),a=Ge(tF,e);return i.createElement(a,Pe({},o,{className:s}),pi(t)?r:t)}tF.handledProps=["as","children","className","content"],tF.propTypes={},tF.create=Vi(tF,(function(e){return{content:e}}));const nF=tF;function rF(e){var t=e.children,n=e.className,r=e.content,s=De("header",n),o=qe(rF,e),a=Ge(rF,e);return i.createElement(a,Pe({},o,{className:s}),pi(t)?r:t)}rF.handledProps=["as","children","className","content"],rF.propTypes={},rF.create=Vi(rF,(function(e){return{content:e}}));const iF=rF;function sF(e){var t=e.children,n=e.className,r=e.content,s=e.description,o=e.floated,a=e.header,c=e.verticalAlign,l=De(Fe(o,"floated"),ze(c),"content",n),u=qe(sF,e),h=Ge(sF,e);return pi(t)?i.createElement(h,Pe({},u,{className:l}),iF.create(a),nF.create(s),r):i.createElement(h,Pe({},u,{className:l}),t)}sF.handledProps=["as","children","className","content","description","floated","header","verticalAlign"],sF.propTypes={},sF.create=Vi(sF,(function(e){return{content:e}}));const oF=sF;function aF(e){var t=e.className,n=e.verticalAlign,r=De(ze(n),t),s=qe(aF,e);return i.createElement(Sc,Pe({},s,{className:r}))}aF.handledProps=["className","verticalAlign"],aF.propTypes={},aF.create=Vi(aF,(function(e){return{name:e}}));const cF=aF;var lF=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleClick=function(e){t.props.disabled||ma(t.props,"onClick",e,t.props)},t}return Xo(t,e),t.prototype.render=function(){var e=this.props,n=e.active,r=e.children,s=e.className,o=e.content,a=e.description,c=e.disabled,l=e.header,u=e.icon,h=e.image,d=e.value,f=Ge(t,this.props),p=De(Me(n,"active"),Me(c,"disabled"),Me("li"!==f,"item"),s),m=qe(t,this.props),g="li"===f?{value:d}:{"data-value":d};if(!pi(r))return i.createElement(f,Pe({},g,{role:"listitem",className:p,onClick:this.handleClick},m),r);var v=cF.create(u,{autoGenerateKey:!1}),y=Dl.create(h,{autoGenerateKey:!1});if(!(0,i.isValidElement)(o)&&Oi(o))return i.createElement(f,Pe({},g,{role:"listitem",className:p,onClick:this.handleClick},m),v||y,oF.create(o,{autoGenerateKey:!1,defaultProps:{header:l,description:a}}));var w=iF.create(l,{autoGenerateKey:!1}),b=nF.create(a,{autoGenerateKey:!1});return v||y?i.createElement(f,Pe({},g,{role:"listitem",className:p,onClick:this.handleClick},m),v||y,(o||w||b)&&i.createElement(oF,null,w,b,o)):i.createElement(f,Pe({},g,{role:"listitem",className:p,onClick:this.handleClick},m),w,b,o)},t}(i.Component);lF.handledProps=["active","as","children","className","content","description","disabled","header","icon","image","onClick","value"],lF.propTypes={},lF.create=Vi(lF,(function(e){return{content:e}}));const uF=lF;function hF(e){var t=e.children,n=e.className,r=e.content,s=qe(hF,e),o=Ge(hF,e),a=De(Me("ul"!==o&&"ol"!==o,"list"),n);return i.createElement(o,Pe({},s,{className:a}),pi(t)?r:t)}hF.handledProps=["as","children","className","content"],hF.propTypes={};const dF=hF;var fF=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleItemOverrides=function(e){return{onClick:function(n,r){ma(e,"onClick",n,r),ma(t.props,"onItemClick",n,r)}}},t}return Xo(t,e),t.prototype.render=function(){var e=this,n=this.props,r=n.animated,s=n.bulleted,o=n.celled,a=n.children,c=n.className,l=n.content,u=n.divided,h=n.floated,d=n.horizontal,f=n.inverted,p=n.items,m=n.link,g=n.ordered,v=n.relaxed,y=n.selection,w=n.size,b=n.verticalAlign,_=De("ui",w,Me(r,"animated"),Me(s,"bulleted"),Me(o,"celled"),Me(u,"divided"),Me(d,"horizontal"),Me(f,"inverted"),Me(m,"link"),Me(g,"ordered"),Me(y,"selection"),Ue(v,"relaxed"),Fe(h,"floated"),ze(b),"list",c),E=qe(t,this.props),I=Ge(t,this.props);return pi(a)?pi(l)?i.createElement(I,Pe({role:"list",className:_},E),ea(p,(function(t){return uF.create(t,{overrideProps:e.handleItemOverrides})}))):i.createElement(I,Pe({role:"list",className:_},E),l):i.createElement(I,Pe({role:"list",className:_},E),a)},t}(i.Component);fF.handledProps=["animated","as","bulleted","celled","children","className","content","divided","floated","horizontal","inverted","items","link","onItemClick","ordered","relaxed","selection","size","verticalAlign"],fF.propTypes={},fF.Content=oF,fF.Description=nF,fF.Header=iF,fF.Icon=cF,fF.Item=uF,fF.List=dF;const pF=fF;const mF=function(){const e=X(),t=new URLSearchParams(e.search).get("topic"),[n,r]=i.useState([]);return i.useEffect((()=>{$o.firestore().collection("topics").get().then((e=>{const t=e.docs.map((e=>e.data()));r(t)}))}),[]),(0,Ac.jsx)(pF,{animated:!0,selection:!0,children:n.map((e=>(0,Ac.jsx)(pF.Item,{as:xe,to:"/?topic=".concat(e.name),active:t===e.name,children:e.name},e.name)))})};const gF=function(){const e=X();return(0,Ac.jsx)(pF,{animated:!0,selection:!0,children:[{name:"\u6211\u7684\u6587\u7ae0",path:"/my/posts"},{name:"\u6211\u7684\u6536\u85cf",path:"/my/collections"},{name:"\u6703\u54e1\u8cc7\u6599",path:"/my/settings"}].map((t=>(0,Ac.jsx)(pF.Item,{as:xe,to:t.path,active:t.path===e.pathname,children:t.name},t.name)))})};const vF=e=>{let{isMember:t}=e;return(0,Ac.jsx)(gi,{children:(0,Ac.jsx)($i,{children:(0,Ac.jsxs)($i.Row,{children:[(0,Ac.jsx)($i.Column,{width:3,children:t?(0,Ac.jsx)(gF,{}):(0,Ac.jsx)(mF,{})}),(0,Ac.jsx)($i.Column,{width:10,children:(0,Ac.jsx)(ge,{})}),(0,Ac.jsx)($i.Column,{width:3,children:"\u7a7a\u767d"})]})})})},yF=function(){const[e,t]=i.useState(null);return i.useEffect((()=>{$o.auth().onAuthStateChanged((e=>{t(e)}))}),[]),(0,Ac.jsxs)(Te,{children:[(0,Ac.jsx)(Pc,{user:e}),(0,Ac.jsxs)(we,{children:[(0,Ac.jsxs)(ve,{exact:!0,path:"/",element:(0,Ac.jsx)(vF,{}),children:[(0,Ac.jsx)(ve,{path:"/",element:(0,Ac.jsx)(cO,{}),exact:!0}),(0,Ac.jsx)(ve,{path:"/:postId",element:(0,Ac.jsx)(eF,{user:e}),exact:!0})]}),(0,Ac.jsx)(ve,{path:"/login",element:e?(0,Ac.jsx)(me,{to:"/",replace:!0}):(0,Ac.jsx)(cv,{})}),(0,Ac.jsx)(ve,{path:"/new-post",element:e?(0,Ac.jsx)(LM,{}):(0,Ac.jsx)(me,{to:"/",replace:!0})}),(0,Ac.jsxs)(ve,{path:"/",element:e?(0,Ac.jsx)(vF,{isMember:!0}):(0,Ac.jsx)(me,{to:"/",replace:!0}),children:[(0,Ac.jsx)(ve,{path:"/my/posts",element:(0,Ac.jsx)(mO,{}),exact:!0}),(0,Ac.jsx)(ve,{path:"/my/collections",element:(0,Ac.jsx)(gO,{}),exact:!0}),(0,Ac.jsx)(ve,{path:"/my/settings",element:(0,Ac.jsx)(qO,{user:e}),exact:!0})]})]})]})};r.createRoot(document.getElementById("root")).render((0,Ac.jsx)(yF,{}))})()})();
//# sourceMappingURL=main.986c4e21.js.map